---
title: "Релиз P2Pool v4.8"
date: "2025-06-15"
categories:
  - "Новости"
tags:
  - "p2pool"
lead: "Состоялось обновление программного обеспечения децентрализованного майнинг пула P2Pool до v4.8"
pager: true
toc: false
sidebar: "right"
widgets:
  - "taglist"
---

## Изменения в версии 4.8

**В коде консольных команд был найден и исправлен ряд проблем с безопасностью. Настоятельно рекомендуется обновиться до v4.8.**

**Исправления безопасности:**

- Консоль: Ограничение доступа через локальный TCP-порт. Ранее все локальные пользователи могли отправлять команды работающему экземпляру P2Pool без каких-либо проверок прав доступа. Теперь это может сделать только пользователь с доступом на чтение к локальным файлам API P2Pool
- Консоль: Исправлено прослушивание локального TCP-порта, если локальный API не включен
- Консоль: Исправлено попадание случайных неформатированных данных в журнал

**Новые функции:**

- Добавлен параметр `--stratum-ban-time` для более точной настройки времени блокировки stratum-клиентов
- API: Добавлено поле `last_share_found_time` в local/stratum
- API: Добавлены свежие данные объединенного майнинга в `api_folder/local/merge_mining`
- Tari: Добавлена новая функция "block push via gRPC" для лучшего распространения блоков

**Исправления ошибок:**

- Журнал: Файл журнала повторно открывается по сигналу SIGUSR1
- TCPServer: Исправлена логика проверки ошибок SOCKS5
- Исправлен расчет времени пинга хоста при использовании SOCKS5-прокси
- Исправлен символ для префикса единицы "килохэш в секунду"
- Исправлен символ для префикса единицы "мебибайт"
- Данные объединенного майнинга (старше 30 минут) больше не считаются актуальными, в журнал добавлено соответствующее предупреждение для пользователя
- Добавлено получение нового шаблона блока объединенного майнинга после отправки блока
- Обновлены внутренние зависимости (curl до 8.14.1)

**Особая благодарность [Low-power](https://github.com/SChernykh/p2pool/commits?author=Low-power) за вклад в этот релиз.**

---

Перед началом майнинга создайте новый кошелек и не используйте его ни для чего, кроме майнинга, из соображений конфиденциальности - все адреса кошельков публичны и доступны к просмотру на P2Pool! Поддерживается только основной адрес кошелька - никаких субадресов или интегрированных адресов!

**Настоятельно рекомендуется синхронизировать системные часы перед началом майнинга!**

## Рекомендуемые параметры командной строки при запуске monerod

```
./monerod --zmq-pub tcp://127.0.0.1:18083 --out-peers 32 --in-peers 64 --add-priority-node=p2pmd.xmrvsbeast.com:18080 --add-priority-node=nodes.hashvault.pro:18080 --disable-dns-checkpoints --enable-dns-blocklist
```

Параметр `-out-peers 32 --in-peers 64` необходим для того, чтобы (1) иметь возможность множественного соединения с другими узлами и (2) ограничить количество входящих соединений, поскольку количество подключений может неконтролируемо увеличиваться и вызывать проблемы, особенно, если превысит 1000 (лимит открытых файлов в Linux) подключений. Если пропускная способность вашего сетевого соединения **меньше 10 Мбит**, используйте параметр `--out-peers 8 --in-peers 16`.

Параметр `--add-priority-node=p2pmd.xmrvsbeast.com:18080 --add-priority-node=nodes.hashvault.pro:18080` необходим для того, чтобы иметь гарантированно хорошие рабочие узлы среди всех подключенных пиров.

Параметр `--disable-dns-checkpoints` нужен для того, чтобы избежать периодических задержек при обновлении DNS (при самом майнинге данный параметр не учитывается)

`--enable-dns-blocklist` необходим для запрета известных вредоносных узлов

## Использование

- Запустите monerod **v0.18.4.0** или более новую версию: `./monerod --zmq-pub tcp://127.0.0.1:18083 --out-peers 32 --in-peers 64 --add-priority-node=p2pmd.xmrvsbeast.com:18080 --add-priority-node=nodes.hashvault.pro:18080 --disable-dns-checkpoints --enable-dns-blocklist`
- Запустите p2pool: `./p2pool --host 127.0.0.1 --wallet АДРЕС_ВАШЕГО_КОШЕЛЬКА`
- Запустите майнинг на порту 3333 вашего компьютера: `./xmrig -o 127.0.0.1:3333`
- Вы можете задать пользовательскую сложность для вашего майнера, чтобы получить более точную статистику со стороны P2Pool: `./xmrig -o 127.0.0.1:3333 -u x+50000` (это никак не влияет на вознаграждение за майнинг)
- Чтобы подключить другой майнинговый процесс к вашему узлу P2Pool, выполните команду `./xmrig -o YOUR_P2POOL_NODE_IP:3333`

## Антивирус

Некоторые антивирусы и брандмауэры могут отмечать любые исполняемые файлы и архивы, связанные с Monero, включая P2Pool, как вредоносное ПО. Это связано с тем, что они содержат код RandomX для майнинга и поэтому считаются "программным обеспечением для майнинга". Чтобы убедиться, что вы скачали оригинальные двоичные файлы, всегда проверяйте SHA256-суммы того, что вы скачали - подписанный список SHA256-сумм находится в файле `sha256sums.txt.asc`. Инструкцию по проверке SHA256-суммы можно прочитать здесь: https://www.getmonero.org/resources/user-guides/verification-windows-beginner.html - но чтобы проверить двоичные файлы P2Pool, замените ключ binaryFate на ключ предоставленный ниже:

- GPG-ключ для верификации контрольных сумм SHA256 можно скачать на [GitHub](https://github.com/monero-project/gitian.sigs/blob/master/gitian-pubkeys/SChernykh.asc) или [p2pool.io](https://p2pool.io/SChernykh.asc).

---

_Источник: [P2Pool v4.8](https://github.com/SChernykh/p2pool/releases/tag/v4.8)_

_Перевод: [Mr. Pickles](https://t.me/v1docq47)_  
_Коррекция: [Kukima](https://t.me/Kukima)_
