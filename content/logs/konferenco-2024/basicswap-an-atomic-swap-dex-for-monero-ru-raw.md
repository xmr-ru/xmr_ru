---
title: "BasicSwap - BasicSwap: децентрализованная биржа, поддерживающая атомарные свопы Monero"
date: "2024-06-07"
categories:
  - "Стенограмма"
tags:
  - "MoneroKon 2024"
lead: "Monero Konferenco 2024 #MoneroKon2024 Прага"
pager: true
toc: false
sidebar: "right"
---

{{< youtube id="XfmbxGDo608" autoplay="false" >}}

---

_**Аннотация выступления**_

Обзор рабочих механизмов, стоящих за протоколом децентрализованной биржи BasicSwap, самого проекта и того, как BasicSwap может обеспечить лучшее и более стабильное будущее XMR при отсутствии критических централизованных точек отказа.

_**Стенограмма выступления:**_

_**BasicSwap:**_ Я рад выступать перед вами. Я представляю BasicSwap, и я здесь, чтобы рассказать вам о нашей децентрализованной бирже, построенной на базе атомарных свопов. Мы уже выступали в прошлом году и некоторым образом прошлись по истории атомарных свопов. Люк немного рассказал о то, как атомарные свопы работают в случае Monero. За последний год нам удалось достигнуть некоторого прогресса в работе нашей биржи с открытым исходным кодом, и я здесь, чтобы ввести вас в курс дела. И если вы никогда не слышали о BasicSwap, после моего выступления, я надеюсь, вы станете более осведомлёнными.

Итак, простыми словами: BasicSwap позволяет делать две вещи: производить свопы на основе адаптивной подписи в случае XMR и других монет, таких как Ethereum… нет, не Ethereum, прошу прощения, Bitcoin, Litecoin, а также таких монет, как Firo и Dash. Скоро ожидается интеграция наших друзей из wowmonero, а наших друзей из Decred.

Теперь о том, как будет проходить моя презентация. Её Порядок будет следующим: мы рассмотрим функции и графический интерфейс BasicSwap, приложение, как всё это работает изнутри, чётко разграничим свопы на основе адаптивной подписи и сеть SMSG, которая является своего рода основой, обеспечивающей децентрализованность обмена данными при проведении свопов, а затем поговорим о том, что ждёт нас впереди, дорожную карту, направление, в котором мы движемся.

Чтобы понять, что такое BasicSwap, следует разделить всё на несколько идей. Во-первых, это протокол. Это протокол с открытым исходным кодом. Он не монетизируется и в настоящее время поддерживает семь монет, а ещё две, которые упоминались ранее, будут добавлены в ближайшем будущем. Идеи, лежащие в основе атомарных свопов, изначально в значительной степени связаны с децентрализацией, приватностью, в частности, совершением свопов с использованием адаптивной подписи. И мы действительно хотим создать децентрализованную биржу, которая станет глобальной, и всегда будет соответствовать тем принципам, которые все мы здесь, безусловно, разделяем.

Но также это и приложение. И в некотором смысле её можно рассматривать именно как приложение. Возможно, многие из присутствующих с ним уже знакомы, возможно, кто-то посетил наш вчерашний семинар, посвящённый BasicSwap. То есть, это GUI, который все вы уже, вероятно, видели. И, прежде всего, это кошелёк. То есть, это не кошелёк в первую очередь, но BasicSwap можно считать кошельком в плане поддержки всего необходимого и тех монет, которыми вам хотелось бы торговать. Для каждой такой монеты необходимо запустить узел. И если вы уже поддерживаете собственный узел Monero, и узлы других монет, и вы хотите совершить атомарный своп, при использовании BasicSwap вы будете избавлены от всех сложностей, связанных с повторной загрузкой необходимого вам узла. Сейчас всё происходит немного замысловато - многое пока что находится на стадии бета-тестирования, несмотря на то, что в целом мы имеем версию альфа. Тем не менее, вы уже можете воспользоваться протоколом BasicSwap, приложением BasicSwap, и совершать атомарные свопы.

Также BasicSwap можно использовать как внебиржевой сервис. Позже я покажу вам, как это выглядит. Можно сказать, что приложение работает как большой OTC-dex, но не как с автоматический маркет-мейкер. Мы используем книгу ордеров. Но это не та книга, которая, как правило, ассоциируется с сервисами вроде Binance или чем-то подобным. Другими словами, мы используем уникальный подход к проведению безопасных, приватных свопов между Monero и другими криптовалютами, или даже проведению приватных и безопасных сделок между монетами навроде Bitcoin и другими приватными криптовалютами, такими как Monero. Таким образом в том числе повышается и приватность самого Bitcoin.

Так что, да - пожалуй, многие из тех, кто интересуется подобными вещами, в BasicSwap то, что ищут. Мы, конечно же, не следуем правилам KYC, и не ведём учётных записей. А адаптивные подписи, используемые для проведения свопов, - это тоже очень интересный элемент криптографии, поскольку они не подразумевают создания каких-либо кастодиальных записей. Это очень приватное, очень элегантное программное обеспечение, ну, как программное обеспечение... элемент криптографии. И сегодня эти подписи обеспечивают возможность совершения большинства свопов на нашей бирже.

Мы решили пойти по пути атомарных свопов по целому ряду причин. Во-первых, когда разработка BasicSwap только начиналась, у нас не было представления о том, кто наши конкуренты, поскольку все находились в одинаковом положении и решали проблему отсутствия нормальной поддержки XMR и других приватных монет централизованными биржами с учётом регулирования со стороны последних и их противодействия таким приватным монетам. Поэтому полтора-два года назад речь том, что делать с этой токсичной реальностью, в которой приходится существовать приватным криптовалютам, и о том, что сложности, связанные с их обменом, только увеличиваются. Поэтому мы пошли по пути атомарных свопов.

У атомарных свопов есть как свои недостатки, так и свои преимущества. Очевидно, что здесь нет никаких третьих сторон. Это обмен, в котором участвуют две стороны. Здесь нет арбитров, и в самом протоколе BasicSwap очень подвижных составляющих, и то же касается свопов, использующих адаптивную подпись. В этом смысле это очень элегантный процесс, в котором очень мало что может пойти не так. Самый сложный момент проявился, когда по-настоящему умные люди изобрели механизм проведения атомарных свопов с помощью адаптивной подписи. Я сейчас говорю о Фурнье и H4shed, которые, возможно, работали с Паркером, так как, насколько мне известно, у него был определённый опыт, и у него даже есть белая книга по атомарным свопам XMR.

Итак, мы не используем каких-либо промежуточных монет, к нас нет обёрнутых активов, мы работаем медленнее, чем биржи с автоматическими маркет-мейкерами, и у нас также есть проблемы с ликвидностью, причины которых отличаются от тех, что возникают у Serai или подобных бирж. В плане ликвидности в некотором смысле мы более схожи с Haveno. Но, честно говоря, я не очень хорошо знаком с Haveno. И у нас нет никаких конфликтов, с которыми приходилось бы бороться. Всё уже как бы заложено в самой идее атомарных свопов.

А если вспомнить о возможностях SMSG, то стоит упомянуть, что всё происходит приватно, всё защищено сквозным шифрованием, всё децентрализованно и устойчиво. Пожалуй, это соответствует как тому, ради чего мы все здесь сегодня собрались, так и идее совершения атомарных свопов с использованием адаптивной подписи. И всё это при отсутствии какой-либо публичной истории свопов или чего-либо подобного.

Когда мы решили создать децентрализованную биржу с возможностью проведения атомарных свопов, одной из первых вещей, о которых мы подумали, была поддержка XMR. XMR - очень крупная, самая крупная приватная криптовалюта. Она приватна по умолчанию и сегодня имеет безусловный авторитет в сфере приватных криптовалют. И даже если вы попытаетесь закрыть этот проект, она сохранит свою высокую ликвидность. И если какая-то и есть какая-то монета, способная противостоять атакам на приватность, с которыми сейчас сталкивается криптовалюта, то это, пожалуй, и есть XMR. Но идея свопов XMR не очень хорошо коррелирует с исходной идеей атомарных свопов. Поэтому и были придуманы свопы с использованием адаптивной подписи. Это протокол частичного использования сценариев. Я немного углублюсь в эту тему, но не слишком глубоко. Как я уже упоминал, если вас интересует более подробный технический разбор того, как работают свопы с использованием адаптивной подписи, что они из себя представляют, почему он предполагают отсутствие или частичное использованием сценариев, то рекомендую ознакомиться с превосходной работой Фурнье. Фурнье всё реализовал на базе кривых ECDSA, а затем H4shed всё адаптировал под Monero. Так что, если вам это действительно интересно, то я рекомендую прочитать эту прекрасную научную статью. Опять же, и тут есть свои недостатки, но это очень, очень хорошая криптография, разработанная очень умными людьми.

А теперь предельно кратко рассмотрим, как можно успешно совершить своп с использованием адаптивных подписей с помощью BasicSwap. Это своп с использованием адаптивных подписей... я немного не туда показал. Итак, почему я ранее сказал, что это протокол частичного использования сценариев. Потому что в данном случае нам нужен Bitcoin или Litecoin или какая-то монета-посредник, которая будет использоваться для обмена Monero, чтобы решить некоторые проблемы и произвести успешный своп. Я имею в виду транзакции возмещения, транзакции тайм-аута, то есть, не транзакции, просто включение тайм-аута, некоторые элементы типовых смарт-контрактов, с которыми Monero просто не работает, поскольку это гораздо более жёсткое программное обеспечение. Итак, вот как выглядит процесс свопа. И здесь есть несколько интересных моментов, которые стоит отметить.

Когда Боб выкупает свой Bitcoin - опять же, я вновь настоятельно рекомендую посмотреть моё прошлогоднее выступление, где я более подробно остановился на этом вопросе: речь шла об атомарных свопах и адаптивных подписях - так вот, идея заключается в том, что когда Боб выкупает свой Bitcoin, после того, как оба контракта будут профинансированы, он передаёт половину закрытого ключа Элис, у которой находится вторая половина. Итак, Боб обменивает, и это ужасная сделка - один Bitcoin на одну XMR, но, видимо, так ему нужно - в результате его предложения Элис может обменять свою XMR. Я понимаю, о чём вы сейчас подумали, но нет - нет ничего ужасного в том факте, что Боб обменял свой Bitcoin и раскрыл половину приватного ключа в сети Bitcoin, что связывает его с Элис. Кастодиальная часть блокчейна чрезвычайно запутана. Я бы даже сказал, что её как бы не существует. Это касается Bitcoin и пары шардов. Monero, поскольку в здесь, опять же, нет смарт-контрактов, подразумевает более простой процесс, где какие-либо сложности, связанные с подписанием, предварительным подписанием транзакций возмещения или чем-то подобным отсутствуют.

Если кратко, то именно так выглядят технические аспекты свопа с использованием адаптивных подписей. И это не наша разработка. Это просто то, что мы интегрировали при создании нашей глобальной децентрализованной биржи, ориентированной на обеспечение приватности, отвечающей некоторым особенностям, связанным с XMR и другими приватными монетами на данный момент.

Как я уже упоминал, первым всегда идёт Bitcoin. Когда Фурнье опубликовал свою работу, в ней он затронул важную проблему, которую мы уже обсуждали в прошлом году, и которая так же в прошлом году упоминалась на Monerotopia в Мексике: сделка всегда начинается с предложения Bitcoin. И эта проблема остро стояла при разработке адаптивных подписей для XMR. Мы решили эту проблему. Мы работали над этим последние восемь месяцев, и были очень рады, что наконец-то смогли всё реализовать. Мы использовали децентрализованную книгу ордеров. И на этом я остановлюсь чуть подробнее, поскольку, опять же, наша биржа задействует два основных механизма: свопы с использованием адаптивных подписей и сеть SMSG. Книга ордеров в значительной степени является продуктом SMSG и приватного и децентрализованного распределения данных этой сети.

Итак, чтобы решить проблему двунаправленного свопа, мы использовали децентрализованную книгу ордеров, в которую заносились бы запросы свопов. Возможно, сейчас это уже не кажется столь интересным, но вот как всё выглядит. Это книга ордеров в её текущем состоянии. Предложения свопы, которые вы видите вверху, и которые можно принять с помощью синей кнопки справа, - это свопы, инициированные пользователями Monero. Они выглядят точно так же, как и свопы внизу, которые являются обычными свопами с использованием адаптивной подписи. Вы видите предложение обменять Monero на Bitcoin и производите своп. Сторона Bitcoin инициирует этот своп, и пользователь, у которого есть Monero для обмена на Bitcoin, может совершить сделку, если ему понравится предложение.

Пять пунктов вверху - это обратные атомарные свопы. То есть, они отображаются как свопы, но были размещены как бы в виде запросов на своп. Так что это в некотором смысле трюк, креативный способ использования сети SMSG и книги ордеров с целью обеспечения двунаправленности, которая очень важна, если вы хотите, чтобы обмен XMR был для вас выгодным. Теперь, как пользователь XMR, вы не всегда будете находиться в ситуации, когда вам придётся принимать чьё-то предложение и чьи-то условия свопа. Так что это был очень важный шаг для BasicSwap - биржа стала более доступной и более реалистичной с точки зрения использования владельцами XMR, которые до этого всё время были вынуждены принимать чужие условия. Мы были очень довольны результатом.

Кратко о безопасном обмене сообщениями. SMSG - это другая половина BasicSwap. Как мы видели, книга ордеров полностью зависит от SMSG. Своп с использованием адаптивных подписей - очень сложный протокол, предполагающий активный взаимный обмен данными между стороной Bitcoin и стороной XMR. И все эти данные должны обрабатываться так, чтобы соответствовать изначальным принципам свопов с использованием адаптивной подписи. Это похоже на то, как был организован Bitmessage. Это смешанная сеть, использующая одноранговый обмен сообщениями и создающая своего рода уровень данных BasicSwap, который становится основой для совершения сделок и позволяет людям находить друг друга на платформе, инициировать своп, найти что-то, найти подходящий запрос и принять его. И всё это работает в фоновом режиме на основе этой одноранговой сети.

Это небольшой график, демонстрирующий, как работает SMSG. Каждый пользователь, запускающий узел BasicSwap, запускает узел SMSG. А это означает, что он постоянно распространяет, принимает и отправляет зашифрованные сообщения. Каждое сообщение зашифровано. А если в BasicSwap сообщение публикуется публично, то оно становится таким благодаря тому, что у всех есть ключ дешифрования. Так что буквально всё, что происходит в сети SMSG, защищено сквозным шифрованием. Сеть спроектирована так, что является очень устойчивой, как торренты - устойчивой не только к отключению, но и к анализу блокчейна и любым действиям, направленным на нарушение её работы.

Пожалуй, я ничего не упустил. Да, и это один из примеров того, о чём говорилось - упомянутая книга ордеров. Я говорил о том, что обмен XMR, двунаправленный обмен, возможен благодаря тому, что вы можете разместить что-то подобное в книге ордеров через SMSG. Всё это происходит на бэкенде. На фронтенде всё гораздо проще. Не знаю, может, кто-то из вас посетил вчерашний семинар. Там как раз рассматривались различные аспекты взаимодействия с децентрализованной биржей - как пользоваться кошельком, как разместить запрос на своп, как добавить монету. Я начал с четырёх монет и хочу добавить пятую. Всё это, безусловно, также прописано в документации.

Но есть и другие вещи, которые обеспечивает сеть SMSG для поддержания работы глобальной платформы для совершения свопов с использованием адаптивных подписей. С её помощью вы можете обмениваться данными и извлекать их. С её помощью можно автоматизировать процесс свопа. У нас уже сейчас есть очень простые инструменты обеспечения ликвидности, но они находятся в стадии бета-тестирования. При этом, это уже альфа-версия. Не бета - всё работает, и любое взаимодействие осуществляется посредством SMSG.

Возможности книги ордеров, разумеется, нас очень воодушевляют. Но мы пока не реализовали всё до конца. Мы думаем, что ещё можно с ней сделать, как можно максимально эффективно решить проблему идентификации и сделать книгу абсолютно приватной. Это может решить вопрос, которой ранее поднял г-н Паркер в отношении помеченных монет. Мне очень понравился его агностический подход. Но если вы хотите использовать идентификацию или приватную книгу ордеров, где вы будете доверять человеку, который использует идентификацию, и вы будете знать, что он предлагает исключительно те монеты, которые не помечены, и, возможно, делает за это некоторую надбавку, но оно того стоит, вы сможете сделать посредством свопа с использованием адаптивной подписи. Это идеально.

Вот, собственно, то, чего мы хотим достигнуть в будущем. Я уже упоминал об этом. На форумах наблюдается некоторая путаница в этом отношении. Ничто из этого не монетизируется. SMSG не монетизируется. Всё имеет открытый исходный код. Вы можете создавать свои форки. Но если вы внесёте свой вклад, сделав наши инструменты проще в использовании, с моей точки зрения и с точки зрения людей, которые работают над этим проектом и увлечены им, вы сделаете вклад в развитие приватных монет, а значит и в развитие XMR.

Да, стоит также упомянуть, что SMSG использует некоторый алгоритм доказательства работы. Это не особо заметно при обычном использовании BasicSwap, но если кто-то попытается провести DDoS-атаку или использовать сеть со злым умыслов, то это сразу станет заметно. Сейчас мы только начинаем работать с SMSG, и сеть уже может обрабатывать очень большой объём заказов. Но если говорить о том, сколько пользователей, последовательных пользователей, потребуется, чтобы образовалось узкое место, то это очень большое количество - тысячи и десятки тысяч. Едва ли мы реально достигнем этого значения в ближайшие пару месяцев. Но мы уже планируем внедрить SMSG2. Это относится к вопросу  более высокого уровня масштабируемости, расширению наших возможностей. И несмотря на то, что у атомарных свопов есть как недостатки, так и преимущества, мы считаем, что они определённо могут стать более распространённым подходом к обмену монет, особенно если приватность, безопасность и устойчивость сети, в которой вы торгуете, важны для вас настолько же, насколько они важны для нас.

Также, вкратце хотелось бы отметить, что мы хотим, чтобы это было модульное программное обеспечение. Если вы захотите его интегрировать, мы хотим, чтобы у вас это получилось. И мы уже работаем над его интеграцией в различные сервисы. Наша дорожная карта со временем предусматривает интеграцию в лёгкие кошельки и удалённые сервисы. Пожалуй, мы заглядываем немного дальше, чем просто добавление других монет, о чём говорила Элизабет Noot. Не знаю, знакомы ли вы с её протоколом атомарных свопов между Etherium и XMR, который, к слову, нас заинтересовал, и мы рассматриваем возможность его добавления в BasicSwap. Web Gateway, конечно же, - это было бы очень круто, и мы серьёзно работаем над этим вопросом. Пока наш проект существует и остаётся децентрализованным протоколом с открытым исходным кодом, он будет оставаться некастодиальным и верным принципам атомарных свопов в целом.

Большое спасибо за внимание.

_**Даг:**_ Отлично. У нас осталось время на один или пару вопросов.
