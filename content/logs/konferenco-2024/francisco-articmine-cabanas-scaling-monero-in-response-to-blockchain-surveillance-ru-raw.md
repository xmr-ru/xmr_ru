---
title: "Франциско 'ArticMine' Кабаньяс - Масштабирование Monero как ответ на отслеживание данных в блокчейне"
date: "2024-06-07"
categories:
  - "Стенограмма"
tags:
  - "MoneroKon 2024"
lead: "Monero Konferenco 2024 #MoneroKon2024 Прага"
pager: true
toc: false
sidebar: "right"
---

{{< youtube id="gFrF_YKlI7A" autoplay="false" >}}

---

_**Аннотация выступления**_

Текущая нормативная среда создает серьезные проблемы для конфиденциальности, обеспечиваемой Monero. Это может варьироваться от ложных обвинений со стороны компаний, занимающихся наблюдением за блокчейном, до риска Flood-атак в попытке деанонимизировать кольцевые подписи Monero. Конечная цель - устранить даже иллюзию наблюдения за блокчейном. Для этого потребуется полное подтверждение участия, а также значительный рост органического принятия Monero. Чем больше органический рост, тем сильнее применяемый набор анонимности.

Мы предоставим полный набор алгоритмов масштабирования и оплаты, которые будут поддерживать эталонный размер транзакции до 8000 байт. Это позволит поддерживать предполагаемый размер транзакции 2 из 2 для полных доказательств участия, равный примерно 5500 байтам, и даже поддерживать размер кольца до 64, используя текущие доказательства в качестве временной меры. Это еще больше укрепит сеть против Flood-атак, снизив соотношение между минимальной зоной, свободной от штрафов, и эталонным размером транзакции со 100x до 50x, а также более жестко оценив рост краткосрочной медианы, снизив скачок краткосрочной медианы над долгосрочной медианой с 50x до 16x, одновременно перенося рост на жестко оцениваемую долгосрочную медиану. Темпы роста последней увеличатся с 1,7x до 2x. Кроме того, будет предложена сверхдолгосрочная медиана в 1 000 000 блоков, которая ограничит общий рост сети до уровня закона Нильсена о пропускной способности Интернета для высококлассного потребителя или малого бизнеса, загружающего интернет-соединение.

_**Стенограмма выступления:**_

_**Франциско:**_ Спасибо. Прежде всего, я бы хотел немного рассказать о себе. Когда я начинал, а я давно знаком с Bitcoin и начинал в 2011 году, Bitcoin можно было купить примерно за 5 канадских, ну, или, может, за 4 американских доллара. Это было осенью 2011 года, тогда я жил в Принс-Джордже и потихоньку занимался майнингом Bitcoin. И, да, там, конечно же, было довольно холодно. И после всех перемещений по городу, когда я возвращался домой с замёрзшими руками, а на улице было минус 20 или минус 25 градусов по Цельсию, чтобы отогреться, я засовывал руки за свои майнеры. Именно тогда и возникла идея назваться ArticMine.

Я провёл много исследований, связанных с Bitcoin. Изначально просто как инвестор. И что меня всегда волновало в связи с Bitcoin: ну хорошо, это отличная технология и всё такое, но можно ли использовать её в больших масштабах? И ответ вскоре стал для меня очевидным - нет. Вы можете проводить всего три, ну, шесть транзакций в секунду. То есть, это отличная технология, отличные идеи, но могут ли они изменить мир? Нет, если вы не можете конкурировать по объёму. Я потратил много времени на изучение этого вопроса и совершенно случайно в 2014 году, когда исследовал проблему масштабирования Bitcoin, наткнулся на Monero. И, о чудо, в тот момент я сказал: "Monero может решить эту проблему! Она использует адаптивный размер блока и допускает возможность масштабирования, так что люди действительно смогут ею пользоваться". И это по-настоящему воодушевило меня. Таким образом, отчасти я пришёл в Monero по причинам, которые не имеют никакого отношения к приватности. Это как если бы вы спрыгнули с тонущего Титаника, а на спасательном судне не было бы ничего, кроме скрытых камер. Отлично! Но это было примерно то же ощущение, которое испытал я.

Итак, я пришёл в Monero в 2014 году. В 2016 году я присоединился к команде ведущих разработчиков - тогда это было актуальнее, чем сегодня. И в своей работе с Monero в первую очередь я хотел сосредоточиться на проблеме масштабирования. Как масштабируется Monero? Как можно достичь реального масштабирования на первом уровне? Насколько можно увеличить количество транзакций, проводимых за секунду? Это стало для меня центральной проблемой.

И ответом на некоторые из уже упомянутых угроз, особенно на политические угрозы, также может служить масштабирование - всё это взаимосвязано. Проблема слежки за блокчейном - это то, что по-настоящему беспокоит меня, поскольку на самом деле это иллюзия. Это лишь иллюзия слежки. Действительно ли это происходит в случае с Bitcoin? Является ли Bitcoin отслеживаемой монетой? Мне нравится этот вопрос. И мой ответ - я не верю, что это так. Bitcoin на самом деле является приватной монетой. Bitcoin обеспечивает приватность в большей степени, чем принято думать. И, возможно, кого-то это шокирует, ведь известно, что транзакции в блокчейне Bitcoin можно отслеживать, но я бы сказал, что это невозможно сделать каким-либо надёжным способом. Но вернёмся к основной теме. Я решил начать с вопроса, почему приватность является преступлением? Я не стану распространяться о том, что написано у меня на футболке. Но почему приватность считается преступлением в принципе? Почему правительства так её боятся? Это важный вопрос.

Предлагаю заглянуть в белую книгу Bitcoin. В ней есть раздел, посвящённый приватности. Этот документ был опубликован в 2008 году, и вопрос приватности в нём рассматривался на очень простом уровне - в нём говорится о традиционной банковской модели. В рамках это модели определённый уровень приватности обеспечивается путём ограничения доступа к информации сторонами, участвующими в сделке, и третьей доверенной стороной. И когда мы говорим о регулируемом банке, под такой третьей стороной мы подразумеваем регуляторов, которые регулируют деятельность банка или другого финансового учреждения. Именно их мы рассматриваем в качестве третьей доверенной стороны. И поскольку мы им доверяем, и их деятельность строго регулируется, они имеют доступ к финансовой информации. То есть, путём ограничения доступа к информации доверенными сторонами, мы обеспечиваем некий уровень приватности. И на самом деле, это может быть вполне приличный уровень.

И вот теперь мы говорим: давайте переместим всё в общедоступный блокчейн, где информация обо всех транзакциях будет публиковаться открыто. И возникает вопрос: как обеспечить приватность в общедоступном блокчейне? И тут появляется довольно интересный аргумент, согласно которому приватность можно сохранить путём прерывания потока информации в каком-то другом месте. И вот он ответ - сохранение анонимности открытых ключей. Ключ к обеспечению приватности Bitcoin - сохранение анонимности открытого ключа. Это прописано в белой книге Bitcoin. И мы видим, как правительства в Америке, Соединённых Штатах, здесь, в Европейском Союзе, отчаянно пытаются сделать так, чтобы открытые не были анонимными. [Переходим] Они не хотят, чтобы открытые ключи были анонимными. Они хотят сохранения иллюзии слежки за открытыми ключами и получения информации о владельцах этих ключей, чтобы все могли видеть, как кто-то кому-то отправляет какую-то сумму. Это что касается Bitcoin. Но всё это без какой-либо информации, связывающей транзакцию с кем-либо.

Теперь, если я создам адрес Bitcoin - если только Bitcoin не покупается анонимно, и никто не знает, я помещу ли я его на этот адрес Bitcoin - кто-нибудь сможет узнать, что адрес Bitcoin принадлежит мне? Ответ - нет. Этот адрес является анонимным. И это заложено в техническое решение. Таким образом, мы переходим на уровень информации, связанный с биржами - время и размер, то, что называется "лентой" - такая информация становится публичной, но при этом не обозначается, кто является сторонами. То есть, вы видите некую совокупность сделок, но не отдельные сделки.

Всё это касается традиционной модели обеспечения приватности - касается личности, транзакций, третьих доверенных сторон - именно здесь правительство может применять правило KYC и принимать прочие меры по борьбе с отмыванием денег, финансированием терроризма и так далее - всё это касается контрагентов и возникающего барьера в виде публичности. Новая модель не предусматривает наличия доверенной третьей стороны. У личность участников и транзакции публичны. И если сова ввести в модель доверенную третью сторону, мы вернёмся к традиционной модели обеспечения приватности. Но миф непосредственно связан с анонимностью ключа. Миф об опосредованном наблюдении. Иллюзия надёжности слежки. Доказательств такой возможности всё меньше и меньше, и, на самом деле, это очень опасно. Перенесёмся в 2023 год.

Это выдержка из законодательного акта Евросоюза по регулированию рынка криптоактивов. Это очень интересный нормативный акт. Он регулирует торговлю криптовалютами, и опубликован в Официальном журнале Европейского союза. В нём упоминается "встроенная функция анонимизации", прямо в законе. Правила работы платформы для торговли криптоактивами не должны допускать торговли криптоактивами, которые имеют встроенную функцию анонимизации, если только владельцы этих криптоактивов и история их транзакций не могут быть идентифицированы поставщиками услуг по торговле криптоактивами, управляющими такой платформой. Требование конкретно этого акта сводится к тому, что - вернёмся к предыдущему слайду - сводится к отсутствию анонимности ключей. Почему? Да потому что вместо [нажмём правую кнопку] вместо доверенной третьей стороны и процедуры KYC, в данном случае неким образом нарушается модель обеспечения приватности.

Далее, кто-нибудь видел какие-либо доказательства того, как это происходит? Нет, но в этом суть. Ровно в ту минуту, как вы попытаетесь это сделать... [так, продолжаем] в ту минуту, как вы попытаетесь это сделать, вам понадобится какая-то угроза. Ведь для запрета требуется причина. Мы должны создавать иллюзию слежки. Поэтому, приватность в любой её форме становится угрозой для вашей модели соблюдения законов - предлогом может служить борьба с отмыванием денег, борьба с финансированием терроризма, обход санкций, что угодно. Если вы собираетесь раскрыть преступление, вы должны сделать всю информацию публичной. Вы не можете взять и произвести KYC в частном порядке, предоставив информацию бирже или связанном обязательствами субъекту. Нет. Мы должны сказать, что вся информация станет общедоступной, а затем допустить некую компанию к отслеживанию данных в блокчейне, чтобы та могла с некоторой вероятностью определить, кто на самом деле совершил транзакцию. И в этом суть иллюзии.

Теперь посмотрим, что произошло за последнее время, пару вынесенных приговоров. Дело Bitcoin Fog и Романа Стерлингова. Человек был обвинён в управлении Bitcoin Fog. Были выявлен некоторый след, позволивший утверждать, что он проводил определённые транзакции в Bitcoin. Но опять же, в этом деле есть мног о вопросов. Об этом говорят причастные к делу адвокаты. И приговор будет обжалован. Существует серьёзный порядок обжалования, но суть дела сводится к возможности отслеживания данных в блокчейне. Они взяли не того парня? Думаю, так и случилось. Но иллюзия слежки за данными в блокчейне привела этого парня в тюрьму.

Перейдём к доказательствам. Это немного другой случай. Но в данном случае аргумент заключается в отсутствии оснований для соблюдения приватности данных в блокчейне. То есть, она не оправдана при проведении финансовых транзакций, и если вы собираетесь использовать одноранговый блокчейн, вы должны быть готовы транслировать всю свою личную информацию, допуская её отслеживание, чтобы соответствующие компании могли сказать, есть ли в вашем случае риск отмывания денег или нет. Разве не проще для человека, пользующегося услугами сервиса для обмена криптоактивов, пройти старую добрую процедуру KYC и предоставить информацию поставщику таких услуг в частном порядке, а не строить всю эту схему наблюдения? Опять же, есть много причин, по которым финансовые транзакции требуют приватности. И опять же, это ещё одно решение, которое, вероятно, будет обжаловано. Фактически, оно уже обжаловано.

Ещё один случай. Соединённые Штаты, Tornado Cash - похожая проблема. Страх приватности, страх отслеживания данных в блокчейне. И как результат они говорят: "А не объявить ли нам приватность преступлением?". Потому что если не сделать этого, вы не сможете следить за блокчейном. Чтобы поддерживать иллюзию, приватность должна стать преступлением. Кошелёк Somourai, Соединённые Штаты - похожая история.

Суть заключается в том, что разница между иллюзией и реальностью слежки за блокчейном будет исследоваться в ходе судебных разбирательств ещё в течение многих лет. И запомните, что я сейчас скажу: я не удивлюсь, если дело дойдёт до Европейского суда по правам человека, поскольку в связи с этой иллюзией мы имеем дело с серьёзными нарушениями Европейской конвенции о правах человека. В Соединённых Штатах в этом случае мы ссылаемся на первую и четвертую поправки, но, опять же, и здесь есть серьёзные проблемы, связанные с соблюдением конституционных прав. В других странах, в той же Канаде, существует Хартия прав и свобод и так далее, и так далее. В Великобритании можно дойти до того, чтобы апеллировать к Великой хартии вольностей. Это серьёзная проблема. И эта иллюзия лежит в основе атак на приватность, которые мы наблюдали, и о которых здесь уже было много сказано. Так что это действительно создаёт некоторые большие и интересные проблемы.

Так в чём же причина конфликта? Ну, опять же, традиционная банковская модель имела дело с "предъявительскими активами". В течение многих лет, десятилетий такими активами являются наличные деньги, золото и драгоценные металлы, облигации на предъявителя и так далее. И одним из самых распространённых способов устранить или снизить риск, связанный с отмыванием денег, финансированием терроризма и уклонением от санкций является процедур KYC, "знай своего клиента". Многие знают, что это за процедура, но она особенно актуальна для крупных счетов. В рамках этой модели финансовая информация предоставляется регулируемому субъекту в частном порядке. Раскрытие этой информации регулируется государственными актами. В Европейском союзе есть некоторые правила обеспечения приватности данных. Личные данные не подлежат разглашению. Но такая финансовая информация затем может быть использована для выявления связей и устранения риска. Нет необходимости публично транслировать финансовую информацию клиента, чтобы избежать возможных рисков. То есть, это позволяет избежать конфликта. Нет никакого конфликта между приватностью и соблюдением норм. Достаточно просто взглянуть на традиционную финансовую систему.

Теперь перейдём к модели отслеживания данных блокчейна. Мы наблюдаем попытку применить эту модель к таким предъявительским активам, как Bitcoin, Monero и прочие, с одновременной попыткой устранения и смягчения рисков, связанных с отмыванием денег, финансированием терроризма и уклонением от санкций. Основным методом является отслеживание публичных данных блокчейна. В рамках этой модели приватная информация транслируется пользователем или кем-то от имени пользователя, клиентом, после чего любая попытка сделать эту информацию приватной рассматривается как "высокий риск" или, что ещё хуже, "преступление". Надёжность этой модели и риск ложных обвинений в значительной степени неизвестны и / или не оглашаются.

Кто-нибудь когда-нибудь видел информацию о точности так называемых аналитических исследований, которые проводятся для борьбы с отмыванием денег посредством Bitcoin или Ethereum? Есть ли какая-либо публично независимая проверяемая информация о том, насколько точны эти исследования? Тех ли людей арестовывают? Ответ - нет, потому что вся эта информация никому неизвестна и является собственностью компании. Поэтому необходимость публичной трансляции, даже для того, чтобы модель с некоторой вероятностью могла бы сработать, - вот источник конфликта. И если задуматься над проблемой объективно и с расстояния, то можно здраво оценить ситуацию, в которую мы сами себя загнали.

Но почему конфликт всё же существует? В случае Monero в первую очередь есть две проблемы. Первая - это то, что я называю реакцией адвокатов, правовой реакцией, защитной реакцией - я провёл много хороших выступлений на эту тему, и есть много разных способов решения этой проблемы - и если быть реалистичными, это вообще не имеет значения. У отдельных членов децентрализованного сообщества будут совершенно разные точки зрения на решение проблемы. Чем шире децентрализация, тем лучше. То, что подходит мне, необязательно подойдёт вам. Всё просто.

Техническая проблема - несколько иная история. Она требует усиления приватности Monero до такой степени, чтобы даже иллюзия слежки за блокчейном Monero стала невозможной. Ключевым словом в данном случае является "иллюзия". Мы исключили возможность проведения атак по схеме E-A-B, E-A-E, простите, E-A-B-E. И даже несмотря на то, что они невозможны, сама вероятность их проведения должна исключаться. И для этого требуются две вещи. Работа над доказательствами участия на основе полного блокчейна, безусловно, важна, и, к счастью, она продвигается хорошими темпами и довольно эффективно. Второе - мы должны расширить внедрение Monero, масштабировать её. Это называется приватностью в цифрах. Раньше я говорил, что достаточно, чтобы объём наших транзакций стал таким же большими, как у Ethereum. Но этого слишком мало. Мы должны стремиться к объёмам Visa. Давайте утопим компании по отслеживанию Bitcoin в Monero. Прямо сейчас, возможно, это можно сделать с помощью "эфира". Их объём достаточно велик, чтобы компании начали тонуть в нём. Так давайте утопим их в Monero. При наличии большого объёма транзакций у не останется ни единого шанса. Это что касается иллюзии.

[Переходим к следующему слайду] Итак, теперь поговорим о технической составляющей - что мы можем сделать в плане масштабирования. Здесь разговор в большей степени сводится к необходимости засучить рукава, разобраться, как сделать Monero масштабируемой, что для этого нужно предпринять, и разобраться с некоторыми техническими определениями.

Эта часть касается определений. Будет немного скучно. И первое - это то, что мы называем эталонным размером транзакции. При этом подразумевается, что он больше, немного больше, скажем, на 20 % больше объёма типичной транзакции. Здесь уже обсуждались цифры, связанные с доказательствами участия на базе полного блокчейна. Это где-то в диапазоне 4000 байт, может быть, немного меньше. Но почти достигает 4000 байт. И при 8000 байт мы чувствуем себя вполне комфортно. Разница в более высокой комиссии. Это TR. MB - это размер блока, каждого блока. Это время добавления блоков. Нас интересует Monero, но было бы интересно сравнить её с некоторыми другими монетами. У нас это время составляет две минуты. У Bitcoin - 10, у Bitcoin Cash - 10, у Zcash - 75. Представьте себе восьмикратное увеличение транзакций Bitcoin. Их заспамили. Это быдла очень сильная спам-атака. И это нужно иметь в виду и контролировать эти цифры. Litecoin - 150. При оценке количества транзакций в секунду это значение просто делится. Время блока умножается на размер блока. В результате деления на скорость транзакций получаем значение TPS, количество транзакции в секунду. К слову, у Visa это значение в среднем составляет около 6700 транзакций в секунду.

И теперь рассмотрим некоторые другие коэффициенты, нашу основу, вознаграждение за блок. Это очень важный параметр. В Monero, в отличие от Bitcoin и в отличие от большинства монет, практикуется постэмиссия с фиксированным вознаграждением за блок в размере 0,6 Monero. Это критически важный параметр для понимания безопасности Monero и борьбы с любыми видами спам-атак или так называемыми атаками 51%.

Комиссии, это штраф, очень простой штраф - вы берёте процентное увеличение вознаграждения за блок и умножаете на B в квадрате. Таким образом, штраф - это когда я хочу увеличить размер блока Monero, чтобы адаптировать его. Скажем, у меня есть 400 000 байт, и я хочу увеличить размер на 10%, на 40 000 байт, но мне придётся заплатить, майнер должен заплатить штраф. Это будет соотношение 440 000 к 400 000, то есть, 0,1, 10%, а затем мы возводим это значение в квадрат как 0,01. Таким образом, 0,01 моей награды за блок изымается из-за этого штрафа, фактически сжигается, поскольку у нас есть фиксированная сумма. Для того, чтобы майнер заплатил за это, деньги должны откуда-то прийти, и они должны быть компенсированы комиссиями. И это ключевой элемент рынка комиссий в Monero. Если вы хотите увеличить размер блока, вы платите штраф и теряете часть своего вознаграждения за блок. Поэтому вы захотите получить её откуда-то ещё. Такова идея. Это максимальное время блока, MBMax, скорость майнинга. Это значение задано в протоколе дважды, среднее значение MN, которое также называют MS, и это говорит о том, что вы можете удвоить блок только при краткосрочном среднем значении. Я объясню это позже. Но основная идея заключается в том, что вы можете увеличить его только вдвое.

Теперь я расскажу о тех изменениях, которые мы предлагаем. Первое изменение - увеличение значения ZM, некой минимальной зоны, не облагаемой штрафом. Сегодня это значение составляет 300 000 байт, и оно увеличивается до 400 000. Одна из идей в данном случае заключается в том, что, исходя из того, что мы рассматриваем, мы собираемся перейти от примерно 2000 байт к более высоким цифрам. Мы собираемся перейти к примерно 30 000, 39 000 байт с учётом доказательств участия на базе полного блокчейна. Поэтому для компенсации мы увеличиваем это значение, и оно составит примерно 1%.

Идея заключается в том, чтобы ввести дополнительное среднее значение, очень длинное значение из миллиона блоков, что равносильно примерно приросту блокчейна Bitcoin в течение двух лет. И это примерно соответствует тому, на что указывает закон Нильсена. А закон Нильсена говорит об увеличении пропускной способности с течением времени. И, начиная с 80-х годов. Такое увеличение составляло до 50% в год. Мы уходим от гибридной, ну, по сути, это гибридная медно-оптическая сеть, и, по мере того, как тянем оптоволокно всё ближе и ближе к дому, а затем заводим его в комнату, мы увеличиваем пропускную способность. Так что наши идеи примерно соответствуют закону Нильсена.

И вы делаете медианный расчет. Итак, вы вычисляете свой размер блока, минимум этого и удвоенное количество... вы удваиваете, вам нужно только... тогда это должно быть максимум этого. Он должен быть больше, чем ZM и MA, деленные на два. И вы делаете рекурсивный расчет. У меня есть отличный вопрос как раз перед тем, как мы поговорим об этом. Когда вы делаете рекурсивный расчет, вы начинаете с MA, но когда вы хотите запустить набор прямо с самого начала, с самого первого, у вас нет среднего MA. Вы должны начать с ZM. Итак, в вашем первом рекурсивном расчете число, которое вы вводите, - это ZM. И затем, по мере того, как вы работаете по цепочке, каждый второй случай - это предыдущие 1000.

[Переходим к следующему слайду] Итак, это то, что мы называем долгосрочным средним значением, которое используется в настоящее время. Основное изменение в нашем случае связано со средним значением в 100 000 блоков. Мы снова начинаем с ML и производим рекурсивные вычисления. Теперь разница состоит в том, что мы собираемся ограничить значение в протоколе до этого MA. Поэтому мы можем использовать только эту величину. Таким образом, при действительно резком увеличении ML, как только вы достигнете этого уровня, пока MA не сдвинется, вы более не сможете увеличить его. Вот, где и возникает ограничение. Но это также будет вариант использования ретрансляционных узлов для установления цены на более ранних этапах. И здесь идея заключается в том, чтобы обеспечить гибкость, чтобы сообщество могло реагировать на события, не прибегая к протоколу. И мы говорим: "Хорошо, давайте установим комиссию, поскольку, возможно, мы движемся слишком быстро, или же подвергаемся спам-атаке". И это можно реализовать с помощью ретрансляционных узлов. И вам не обязательно использовать эти значения, но вы можете это делать. Теперь у вас есть инструмент, которым можно воспользоваться,  и при этом не нужно менять протокол. То есть, это менее ограничительный способ решения проблемы.

Коэффициент роста - ещё один интересный вопрос. Исходная идея коэффициента роста заключается в том, насколько мы позволим краткосрочному среднему значению расти по отношению к долгосрочному. И это критически важный элемент с точки зрения возможности проведения таких атак, как Black Marble. Зачем он нам нужен? Ну, если внимательней взглянуть на сеть Visa, мы обнаружим, что её коэффициент роста должен быть примерно в 20 раз превышающий среднюю скорость транзакций в секунду. Я указал что-то около 6700, умножьте это на 20, и вы получите 134 000, примерно в этом диапазоне. И это нужно потому, что в году очень мало дней, когда все решают совершать покупки в последний момент, как перед Рождеством. Есть ещё несколько других всплесков в другие праздники, поэтому необходима уверенность в способности обработать все эти транзакции. За этим и нужен данный коэффициент. Ранее в Monero он составлял 50, и планируется уменьшить его до действительно необходимого значения, то есть, до 16. При удвоении окончательного размера блока это значение фактически составит 32. И это уменьшение - мы снижаем максимальный рост MS за пять циклов. Более важным элементом является то, что при этом значительно усложняется проведение атаки Black Marble, поскольку вы ограничиваете данную возможность на этом этапе. И если это значение будет больше, чем размер вашего кольца, то такая атака становится маловероятной, и иллюзия начинает исчезать.

Это основные предлагаемые нами изменения протокола. И главный вопрос - это введение долгосрочного среднего значения. Прошу прощения, разумного или ультрадолгосрочного среднего значения. Второй пункт - это корректировка краткосрочного среднего значения путём снижения коэффициента роста до уровня, действительно необходимого согласно опыту Visa, до 16. Снижая его, мы немного увеличиваем рост долгосрочного среднего значения, учитывая тот факт, что мы снижаем коэффициент с 1,7 до 2. И мы вводим разумное среднее значение, которое является инструментом, позволяющим добавлять стоимость к увеличению размера блока, не обращаясь к протоколу, что обеспечивает гораздо большую гибкость, чем раньше.

Теперь немного поговорим о рынках комиссий. Рынки комиссий в Monero по-настоящему интересны, поскольку они как бы являются компромиссным решением относительно борьбы за размер блока в Bitcoin. Между ними действительно можно найти некую середину. И существует три варианта такого рынка.

Рынок комиссий - это, по сути, взаимодействие между рациональными майнерами и рациональными пользователями. Рациональный майнер стремится к максимальной прибыли. Рациональные пользователи стремятся платить минимальную комиссию. Как результат, с учётом конечного объёма транзакций в пуле, оптимальный набор является правильным решением. Это задача дискретной оптимизации. И это предельно простая аппроксимация, которую я люблю называть аппроксимацией бесконечно малой транзакции, и которая упрощает задачу. Но, строго говоря, это задача дискретной оптимизации.

Итак, нам необходимо произвести аппроксимацию. Майнер должен оплатить транзакцию в порядке комиссии за байт. Затем майнер добавляет транзакции в блок, начиная с самой оплачиваемой транзакции. Майнер проверяет, действительно ли такая транзакция прибыльна в сравнении со штрафом и/или затратами. Что касается затрат майнера - здесь я имею в виду другие дополнительные обстоятельства. Так, например, может возникнуть ситуация с образованием осиротевших блоков. Один парень по имени Питер Риццо, который, по-моему, работает разработчиком в Bitcoin Cash, написал статью, где утверждает, на основе риска появления осиротевших блоков можно ввести эффективный штраф. И это может стать своего рода дополнением. Затем майнер останавливается, поскольку у него либо заканчиваются транзакции, либо у место в блоке. То есть, тут есть два варианта: у вас или заканчиваются транзакции, или заканчивается место. Если вам платят достаточно, то речь идёт о месте в блоке. Или же вы проводите транзакцию с соблюдением определённых критериев. Итак, вы упорядочиваете транзакции, и сначала занимаетесь майнингом самых высокооплачиваемых. И как только штраф достигает размера комиссии за транзакцию, которая является самой допустимо низкой, по мере увеличения штрафа комиссия за транзакцию падает, вы достигаете оптимального момента и останавливаетесь на этом. И в результате транзакция с самой низкой оплатой платит самый высокий штраф. И вы уже смотрите на дополнительный штраф за добавление этой транзакции. Это работает, если размер транзакции намного меньше размера блока. В этом случае вы должны приблизительно рассчитать всё подобным образом.

Итак, у вас есть три возможных типа рынка комиссий. Первый - когда MB значительно меньше ML. ML, конечно, является не облагаемой штрафами зоной в MS. Таким образом, минимальная свободная зона означает конец набора, но ML становится не облагаемой штрафами зоной. По сути, это сценарий для больших блоков Bitcoin, и в этом случае штраф отсутствуете, поскольку блок можно заполнить до достижения уровня, когда взимается штраф. Таким образом, B и BT равны нулю. Теоретически здесь могут быть комиссии. Так было в случае с Bitcoin примерно с 2014 по 2016 год, когда у них начались проблемы с заполнением блоков.

И это текущая ситуация с Bitcoin Cash. Ключевой момент, который необходимо понять, в случае большим блоком Bitcoin комиссия и вознаграждение очень низкие. Ниже, чем в Monero. И единственная причина, по которой Monero может поддерживать минимальную комиссию и вознаграждение, это угроза штрафа в случае возникновения подобной ситуации. Так что в этой ситуации мы пребывали большую часть времени, за исключением случаев, когда переходили к штрафам. То есть, большую часть времени мы находились в первой ситуации, и комиссия устанавливалась в зависимости от угрозы такого увеличения.

Следующий случай - это второй сценарий, который я называю чистым сценарием Monero. В данном случае на вас налагается штраф. Это по-настоящему важная формула. Вы добавляете транзакцию размера T к блоку в точке B со штрафом и определяете эталонную транзакцию штрафа, которая выглядит как RBase(B+BT), и возводите всё в квадрат. Вы берете разницу B в квадрате и оставляете эти два слагаемых. Это транзакция, которую вы добавляете, и это точка штрафа, в которой вы её добавляете. И тогда вам становится ясно, что вам лучше получить комиссию от транзакции, равную этому значению, которое будет больше штрафа.

Итак, это критически важная формула для рынка комиссий Monero. Это, по сути, соответствует ситуации, когда значение B равно 0, являясь при это квадратичным. Оно очень мало. Если вы полностью заполните блок, соотношение между этими членами для однопроцентного  роста фактически составит 200, что означает, что ваша максимальная комиссия при B, равном 1, будет равна соотношению этих двух величин. Итак, B равно 0,1, и мы можем вычислить, что у нас получится. Итак, если BT равно 0,01, вы можете вычислить, что здесь получается 200. Потому что вы делите 1 на 0,01. И именно здесь вы получаете этот коэффициент в комиссиях. Таким образом, когда вы увеличиваете комиссию, штраф увеличивается в 200 раз.

[Продолжаем. Кажется, вот оно] Хорошо. Далее рассмотрим другой очень интересный сценарий, который мы ранее не рассматривали. Я называю его сценарием "Monero плюс малый блок Bitcoin". Это происходит, когда вы максимально используете MS и MB. На самом деле, это больше, чем 16 ML. Таким образом, мы имеем дело с ситуацией, когда вы максимально увеличили MS, краткосрочное среднее значение, но напоследок у вас всё ещё остается масштабирование, при котором вы ещё сможете добавить блок, размер которого в два раза превышает среднее значение. И эту область отличает отсутствие масштабирования, потому что значение MS ограничено значением ML, которое, в свою очередь, может быть ограничено MA.

Итак, что происходит в этот момент: у вас увеличивается штраф, и вы получаете небольшой блок навроде блока Bitcoin. Таким образом, вы фактически получаете поведение, схожее с Bitcoin. И вы упираетесь в барьер. Но вместо того, чтобы удариться о кирпичную стену, как в случае с Bitcoin, в Monero происходит следующее. Вы ударяетесь о барьер, но попадаете на жёсткую пружину. Вы получаете некоторое сопротивление для последнего удвоения размера блока. И это сопротивление направлено против этой очень крутой кривой штрафов, которая идёт с коэффициентом 200. И чем сильнее вы давите на штраф, тем больше и больше растет комиссия, вплоть до размера штрафа. Итак, вместо того, чтобы ударяться о кирпичную стену, как в случае Bitcoin, вы встречаете жёсткую пружину. Представьте себе вокзал и прибывающий поезд, который для замедления упирается в такую вот большую пружину. В этом и состоит идея - избежать удара о кирпичную стену, как в случае с Bitcoin.

Интересно, что комиссия Bitcoin выше, чем в Monero. Другой интересный момент, на который стоит обратить внимание, - всё зависит от вознаграждения за блок, что создаёт серьёзнейшие проблемы для Bitcoin, поскольку, если наша база становится равной нулю, все эти штрафы и стимулы также становятся равными нулю, и вы фактически имеете дело с нулевыми затратами на проведение атак. И когда мы смотрим на эти формулы, не следует забывать и об этом.

И теперь поговорим об атаках. Вот две самые популярные из них, которые уже обсуждались - атака Big Bang и атака путём наполнения злоумышленником блокчейна своими выходами, атака Black Marble. Сейчас я кратко расскажу о них.

Итак, первая атака - Big Bang. По сути, это атака, проводимая без причины. Просто давайте атакуем Monero. Проблема в том, что менее затратно провести атаку 51 % на Monero, чем проводить Big Bang. Но эту атаку можно провести в качестве дополнения к атаке 51 %. Эта вероятность уже рассматривалась, но пока ничего такого не произошло. Но если злоумышленник уже провёл атаку 51 %, то сможет провести и эту. Ключевым моментом в данном случае является то, что при проведении атаки нет конкретного мотива для наблюдения за блокчейном. Она не предназначена для каких-либо физических целей. Но более интересным типом атаки является атака Black Marble.

При проведении атаки Black Marble противник пытается наводнить блокчейн Monero достаточным количеством выходов и контролировать их, пытаясь ослабить кольцевую подпись. И если вы контролируете, скажем, 50 % выходов, вы можете уменьшить размер кольцевой подписи вдвое, и в этом случае снова можно будет спорить о проблеме наблюдения за блокчейном. Но это игра вероятностей, игра с подбрасыванием монеты и тому подобное.

И сейчас я вам расскажу кое-что. Фактически я являюсь сертифицированным специалистом в области наблюдения за блокчейном CypherTrace. Это может показаться удивительным, но я прошёл обучение. Это стало частью моей работы над делом Стерлингова. Я очень хорошо сдал экзамен. Фактически я получил высший балл - 20 из 20. Это было похоже на обучение лисы строительству курятников, или сертификацию по способам их строительства. Правда, было очень интересно. Но одна из вещей, по-настоящему заинтересовавших меня, стал соблазн. То есть, многие из тех, кто проходил обучение, были сотрудниками правоохранительных органов, и их действительно интересовало то, как работает Monero. Это было для них самое важное, вероятности были очень высоки, причём этом не было частью обучения и так далее, и так далее. Но в основном всё было связано с Bitcoin.

Но сама идея, связанный с ней соблазн, который определённо присутствует. Мы можем уменьшить размер кольца, и тогда, возможно, сделаем с Monero что-то, что не будет работает. Ну и ладно, зато мы можем это сделать. Так что единственное действительно эффективное средство защититься от этой атаки - доказательства участия на базе полного блокчейна. Они полностью уничтожают иллюзию. Да, вы можете сделать что-то интересное, вы можете сказать: "Хорошо, если у меня есть коэффициент роста, равный 16, и размер кольца, равный 60, то я могу усилить атаку Black Marble в 16 раз". Но при этом вы столкнётесь с огромным размером кольца, а это сильный смягчающий фактор. Так что, если вы значительно увеличите размер кольца при таком коэффициенте роста, вы сможете устранить иллюзию. Я знаю, что в этом направлении уже проделана большая работа. Ruknium действительно проделал большую работу, выясняя, какова оптимальная цена при определённом бюджете, и подобные вещи, и пришёл к выводу, что эти два числа на самом деле являются оптимальными без факторизации с этой стороны. Но если вы измените коэффициент роста, а затем используете анализ Ruknium, всё станет довольно интересно. Потому что сейчас вы можете сказать: "Я могу усилить атаку только в 16 раз, но при этом я имею дело с размером кольца, равным  60".

Ну, у меня остаётся ещё одна проблема - ценообразование, которое, безусловно, является средством смягчения. Увеличение размера кольца и ценообразование. Важно понимать, что жёсткое ценообразование очень важно. В 2023 году Zcash подвергался атакам в течение шести месяцев. И причиной атак было ценообразование. Если посмотреть на атаки Black Marble, которые мы наблюдали в Monero, то они довольно незначительны. Злоумышленники сдаются. Может быть, они что-то и пробуют, но во многих отношениях создается ощущение, что атакующий разочарован и просто измотан борьбой со всеми нашими средними значениями и прочим. Вот в чём суть.

[Хорошо, это я сказал. Вот оно]. Теперь, одна вещь, о которой нужно помнить при такого рода атаках - в основе всего лежит постэмиссия. Если она отсутствет, если она становится нулевой, всё рушится. Вся модель безопасности Monero, вся защита от спама рушится. Это очень важно понять сообществу Bitcoin. Мне жаль сообщать им это, но у них есть проблема, связанная с падением размера вознаграждений за блок. Потому что это коренная причина. На мой взгляд, это падение - коренная причина споров о размере блока в Bitcoin. В Monero решили эту проблему простым способом. Мы просто реализовали постэмиссию, которая на том уровне, на котором мы находимся сейчас, примерно эквивалентна халвингу Bitcoin. Но это тоже обязательно нужно учитывать. Это то, что, по сути, защищает Monero от многого.

Далее: комиссии и использование ретрансляционных узлов или обеспечение гибкости без консенсуса. Опять же, идея заключается в том, чтобы противостоять изменениям размера комиссий. И здесь мы можем сделать несколько вещей. Поскольку размер кольца увеличивается, мы довольно легко превысим 4000 байт. Поэтому мы переходим к двухпроцентной эталонной транзакции вместо 8000 байт. Насколько я могу судить, доказательства участия на базе полного блокчейна будут очень близки к этому. Поэтому мы возвращаемся к нормальному масштабированию.

По сути, мы увеличиваем все комиссии в четыре раза. Кажется, в этом направлении имеется достаточный консенсус. И, если захотим, после того, как будут реализованы доказательства на базе полного блокчейна, мы сможем добавить уровень комиссии, допускающий размер в 1 %. Так что при выполнении всех условий увеличение размера комиссии вызовет действительно значительный рост, и нам будет нужно сдерживать рост блокчейна в других точках. Это имеющийся на данный момент вариант.

Хорошо. Теперь о требованиях к пропускной способности. Что мы рассматриваем? Это довольно интересно. Никакого масштабирования. И когда я говорю о коэффициенте 2,5, я предполагаю, что мы перемещаем блоки в каждой транзакции примерно 2 раза или 1 раз. Это значение можно уменьшить. Мы транслируем транзакцию, затем транслируем блок транзакции и тому подобное. А затем, при отсутствии масштабирования, мы фактически получаем скорость, немного превышающую скорость модема, около 6700 TPS, что примерно в два раза быстрее модема. По сути, это скорость ISDN, если вы знаете, чем была линия ISDN примерно 25 лет назад. Вы достигаете пика в 1,5 мегабайта. Это максимум, или та самая жёсткая пружина и 2,2 мегабайта.

И снова, мы говорим об одной транзакции в секунду, 16 транзакциях в секунду, затем – около 32. А затем вы переходите на этот уровень 256, что-то вроде PayPal. При этом не забывайте, что всегда необходимо учитывать среднее значение. Это эквивалентно 6700 транзакциям у Visa. Это тот самый рост. Вы имеете 16-кратный рост. Опять же, думаю, на практике мы не увидим, как жёсткая пружина сожмётся до конца. Это просто слишком дорого. Вероятно, она остановится где-то на значении 20 или около того, может быть, на 25. Так что это нужно иметь в виду. Мы можем что-то с этим сделать. Но мы находимся в диапазоне 546 мегабайт при 256. Здесь мы идем дело с 1000. Это примерно 1000 транзакций в секунду в блокчейне изначально. И опять же, мы имеем дело с 1,1 гигабита. Это в допустимых пределах. Даже здесь, в случае с Monero, с ноутбуком, например, это нормально работает с 2,2 гигабита. Здесь есть хороший графический процессор, который можно использовать для параллельной обработки, а ключевым элементом будет именно параллельная обработка. Это высокий уровень, опять же в пределах диапазона, обеспечиваемого центром обработки данных. И да, есть также другие интернет-соединения, жилые дома, малые предприятия, и цена золота сейчас тоже находится на высоком уровне, и мы тоже как бы приближаемся к уровню Visa. Я думаю, через десять лет Monero сможет с легкостью справляться с объёмами Visa. Мы можем масштабировать блокчейн и расти в соответствии с законом Нильсена. Это то, к чему мы стремимся.

Некоторые соображения на тему. Всё это касается необрезанных узлов - мы не обрезаем узлы. Также нужно иметь в виду, что всплеск длится в течение очень короткого периода времени. Примерно пару дней. Так что, можно, например, запускать стандартный узел в течение 51 недель в течение  года, а на одну неделю переходить на обрезанный узел, а затем, когда всплеск закончится, снова возвращаться к стандартному узлу и навёрстывать упущенное. Так что есть и такие варианты, достойные нашего внимания.

Это интересная цифра. Для тех, кто не знает, что такое DOCSIS - это стандарт передачи данных по кабельным сетям. По  сути, речь идёт о кабельных модемах. Они, как правило, обеспечивают максимальную скорость до 10 гигабит в одном направлении, а в будущем - до 60 гигабит. Одно из основных изменений, которое мы наблюдаем, заключается в том, что, как я заметил, кабельные компании ещё примерно год назад использовали часть своей пропускной способности для традиционного кабельного телевидения, а остальную часть - для интернет-услуг. Теперь они отказались от традиционного телевидения и говорят нам: "Хорошо, если вы хотите кабельное телевидение, мы предоставим его вам через обычный интернет, и теперь вам просто будет нужно подписаться на интернет-услугу", после чего они предоставляют услуги кабельного телевидения через интернет. Теперь вся пропускная способность используется для интернета, а кабельное телевидение транслируется через интернет-соединение, что освобождает всю пропускную способность. И DOCSIS 4.1 позволяет достичь скорости около 10 гигабит в одном направлении и 2 гигабита в другом. Так что они действительно движутся в этом направлении.

Опять же, мы хотим устранить долю сокращения транзакций и данных транзакций. Это важно. Параллельная обработка очень важна. Резкое увеличение количества финансовых транзакций в сети - это исключение, а не норма. И в течение года мы имеем дело с подобной ситуацией лишь на протяжении небольшого периода. В большинстве случаев мы с этим справляемся. Так, например, мы можем производить синхронизацию новых узлов вне этого окна, и таким образом контролировать ситуацию. Ключевым элементом является меньшая гибкость в обслуживании, что является одним из больших недостатков работы с ретрансляционными узлами Monero согласно консенсусу. Мы должны быть готовы реагировать. Что произойдёт, если вдруг, например, будет возбуждено несколько судебных дел, связанных с отслеживанием данных блокчейна, и вдруг все захотят перейти на блокчейн Monero, который тихо рос и совершенствовался. И тогда нам придётся столкнуться со всем этим.

И всё это нам необходимо учитывать, и вот такие вопросы при этом возникают. А теперь перейдем к вопросам и обсуждению.
