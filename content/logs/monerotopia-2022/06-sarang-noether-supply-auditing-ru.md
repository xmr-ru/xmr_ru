---
title: "Аарон Фейкерт (Саранг Нётер) - Аудит денежной массы: что это такое (и чем это не является)"
date: "2022-05-11"
categories:
  - "Стенограмма"
tags:
  - "Monerotopia 2022"
lead: "Aaron Feickert (Sarang Noether), a Research Contributor speaks about Supply Auditing: What it is (and isn't), at the Monerotopia 2022 #XMR4ALL event!"
pager: true
toc: false
sidebar: "right"
---

{{< youtube id="aHv2gq4Wm5I" autoplay="false" >}}

---

_**Модератор:**_ Следующим выступит Саранг. Этот парень — просто бог в данной области. Так что, надеюсь, вам понравится выступление. Он будет говорить о возможности проведения аудита. Я правильно говорю? Это одна из вещей, которые становятся основным предметом критики. Люди говорят: «Да, да. Monero — это круто». Но мы говорим о критике на более высоком уровне. В целом люди мало знают об этом, мало знают о Bitcoin, будучи максималистами Bitcoin. И они говорят: «Ну да, но провести аудит, нельзя сложить все Monero и посчитать их на калькуляторе TI-82, просто заглянув в прозрачный реестр». Нет, нельзя. Но нам и не нужно. И Саранг объяснит почему. И на этом я передаю ему слово.

_**Саранг:**_ Большое спасибо, великолепно. Спасибо. Итак, да, сегодня мы поговорим о возможности аудита денежной массы, идее инфляции цифровых активов, включая Monero и прочих, и рассмотрим несколько конкретных случаев. И я с сожалением вынужден сообщить вам, что вы будете разочарованы ответом. Народ, это настолько тонкая проблема. Но будет и хорошая информация. Я понимаю, слайды трудно рассмотреть, поэтому я нарушу основное правило презентаций и постараюсь прочитать всё, что там написано, в ходе выступления. Итак, продолжим.

Безусловно, это не профессиональный совет и не некая финансовая консультация. Ничего подобного. Дальше.

Прежде всего, что мы имеем в виду, когда говорим об инфляции, и что подразумеваем под аудитом денежной массы. Это взаимосвязанные понятия, но они различаются в зависимости от того, кто их использует, от проекта к проекту. Начнём с того, что, когда речь заходит о цифровых активах, Monero и прочих, необходимо быть уверенным в том, что сумма, которая может быть потрачена в системе в целом, будет соответствовать ожидаемой согласно правилам протокола. Но, опять же, это зависит от протокола. Но зачастую мы сталкиваемся с некими общими вещами, разговаривая на эту тему. И таким общим примером могут служить транзакции перевода средств, при проведении которых тратится несколько монет, «векселей», выходов, чего угодно. При этом также генерируются новые и отправляются кому-то: себе, кому-то ещё, не суть важно. И необходимо гарантировать, что не будет создано больше единиц чего-либо, чем было потрачено. То есть нельзя потрать определённое количество монет, а затем создать большее количество просто из воздуха, если только по какой-то причине это не предусмотрено протоколом. Также средства не должны тратиться дважды. Нельзя потратить их более чем в одной транзакции, создав таким образом в системе больше средств, чем предполагается. И второе, существуют транзакции, специально предназначенные для того, чтобы добавлять средства. Примером таких транзакций могут служить coinbase-транзакции, которые были разработаны специально для добавления средств в систему в соответствии с графиком эмиссии, который гарантирует, что не будет создано средств больше, чем ожидается. Можно по-разному относиться к понятию инфляции. Но если эти два условия не будут соблюдаться, то в системе точно будет происходить инфляция. Это будет означать, что в системе можно будет потратить больше средств, чем предусмотрено протоколом. И нам это не нужно. Продолжаем.

И нам необходимо ответить на несколько важных вопросов. Первый: по каким причинам происходит инфляция? Ответ: причин много. Мы говорим не о неком маленьком списке, состоящем из пары причин. Это зависит от протокола, реализации, криптографии, многих других причин. Второй вопрос: насколько мы можем быть уверены, что происходит или не происходит инфляция? Опять же, это зависит от разных причин. И мы рассмотрим несколько примеров. И третий: каковы последствия инфляции? Этот вопрос задаётся реже других, но он становится особенно серьёзным, когда речь заходит о цифровых активах. Как только случается инфляция, вам приходится решать, что предпринять, и оценивать масштаб последствий. Дальше.

Прежде всего, хочу привести несколько утверждений, с которыми мне приходилось сталкиваться и которые либо немного, либо в некоторой степени являются неверными. Согласно одному из них, инфляция невозможна в случае с таким прозрачным активом, как Bitcoin. Это не верно. И мы рассмотрим конкретный пример. Инфляция возможна и случалась в случае с прозрачными активами, и Bitcoin является наглядным примером. Согласно второму утверждению, которое иногда доводится слышать, даже если случится инфляция, достаточно проверить каждую coinbase-транзакцию, сосчитать прозрачные средства, ведь средства в coinbase-транзакции может увидеть каждый, то есть суммы, имеющиеся в coinbase-транзакциях, должны быть общедоступными, сеть должна иметь возможность проверить их правильность. Итак, можно просто сосчитать все суммы и сказать: «Ага, итог соответствует ожидаемому». Но этого недостаточно, чтобы подтвердить отсутствие инфляции. Существуют и иные способы вызова инфляции, помимо указания неверной суммы в coinbase-транзакции со злым умыслом или без него. И ещё одно утверждение гласит, что инфляции невозможна, если использовать прозрачную миграцию, перенос средств. ZCash является типичным примером популярного актива, использующего прозрачную миграцию, когда у вас есть пул защищённых средств, и в некоторый момент вы переходите в новый пул защищённых средств. И для перехода между этими пулами протокол заставляет вас раскрыть суммы, когда вы достаёте их из старого пула и перемещаете в новый, что должно некоторым образом позволить избежать инфляции. Ну, этого также недостаточно, чтобы избежать некоторых последствий и видов инфляции, и мы увидим почему. Дальше.

Здесь я привожу небольшую схему. Ничего страшного, если вы не видите её, на ней показано, что в случае с прозрачными активами суммы, которые вы тратите при проведении транзакции, и суммы, которые вы создаёте, как правило, являются прозрачными. Мы можем видеть входящие суммы, мы можем видеть исходящие суммы. А посередине, как правило, происходит некоторое подтверждение, какая-нибудь цифровая подпись, подпись Шнорра, ECDSA или любая другая. И это подтверждение демонстрирует, что у вас есть возможность, что вы имеете право тратить эти средства, как правило, с помощью приватного ключа. И теоретически вы можете проверить все входы, проверить все выходы и убедиться в том, что баланс соблюдён. С левой стороны схемы мы тратим монету номиналом, равным двум, и ещё монету номиналом, равным пяти. А с другой стороны мы генерируем выходы достоинством, равным двум, одному и четырём. Если вы возьмёте калькулятор или, я надеюсь, сосчитаете всё в уме, то увидите, что суммы сбалансированы. То есть никаких дополнительных средств создано не было. Ура! Примерно так и выглядит транзакция в случае с определёнными прозрачными активами. Дальше.

Теперь о приватных активах, в противоположность прозрачным, назовём их непрозрачными. Я буду использовать слово «непрозрачные», потому что понятие «приватный актив» будет иметь различные значения в зависимости от протокола. И непрозрачными мы назовём те активы, в которых суммы тратятся и генерируются не явным образом, то есть они скрыты. И, как правило, это делается с помощью односторонней алгебраической конструкции под названием «обязательство», когда вместо того, чтобы продемонстрировать сумму, вы секретно, скрытым образом, даёте обязательство по сумме. Но это прекрасно работает, благодаря алгебре, арифметике на эллиптических кривых и подобным вещам. И в идеале, если всё будет сделано правильно, вы сможете доказать, что суммы во входах и выходах сбалансированы. С другой стороны, вы не сможете сделать это, просто взглянув на числа и сложив их, так как у нас попросту нет этих чисел. Вместо них мы имеем эти алгебраические конструкции. Вместо значений суммы, равных двум и пяти, помещаемых в транзакцию, у меня будет обязательство по значению, равному двум, и обязательство по значению, равному пяти. А с другой стороны имеются обязательства по всем суммам выходов, и мы не видим эти суммы и не можем просто сложить их, чтобы проверить баланс. Но тут снова используется алгебраическая конструкция, позволяющая показать, что если сложить и вычесть их, то мы получим некоторое нулевое значение. Тут интересно, что значит для вас ноль — в некотором смысле, это философский момент. А по средине у нас снова используется некое подтверждение вашего права на трату этих средств. И в случае с непрозрачными активами, такими как Monero, ZCash и прочими, такое подтверждение является довольно сложным. ZCash, например, использует различные системы доказательства, которые применяются при различных способах проверки баланса — подписи и другие способы. Monero использует кольцевые подписи и доказательства диапазона, а также некоторые другие способы проверки баланса. Но всё это уже не так просто. Нельзя просто взять и всё сложить, как в случае с обычными транзакциями перевода средств, поскольку вы не видите суммы. Дальше.

И в этом случае нам необходимо гарантировать отсутствие инфляции, потому что это наша цель, так как нам не нужна инфляция. И если мы имеем дело с непрозрачными активами, такими как Monero и прочие, нам необходимо убедиться в том, что сумма транзакций действительно скрыта. Я не хочу представлять значение суммы таким образом, чтобы его можно было раскрыть, поскольку мы не должны видеть сумму — каждая транзакция должна быть максимально неотличима от любой другой. И нам нужно — а всё остальное, о чём я буду говорить, в равной степени относится и к прозрачным активам, с которыми у непрозрачных есть некоторые общие аспекты, то есть это совсем необязательно будут какие-то отдельные вещи — нам нужно, чтобы нельзя было создать некое «непредвиденное» значение суммы. Это вызовет инфляцию. Нам нужно, чтобы значение суммы в системе всегда было таким, как мы ожидаем, опять же, в соответствии с графиками эмиссии, правилами протокола и подобными вещами. Нам нужно, чтобы значения суммы в транзакциях были сбалансированы. Уже было сказано, что в случае с прозрачными транзакциями это сделать довольно просто — достаточно воспользоваться своим калькулятором, но в случае с непрозрачными транзакциями мы имеем дело с этими абстрактными обязательствами, с которыми приходится повозиться. Также необходимо быть уверенными в том, что средства нельзя потратить множество раз. Два раза, три раза, много раз. Можно лишь один раз и не разом больше. Также необходимо гарантировать правильность всех подтверждений. И мы также уже говорили, что есть некоторая подпись, подтверждающая ваше право тратить эти средства. И в этом случае есть моменты, когда что-то может пойти не так, в результате чего возникнет возможность двойной траты. И мы увидим соответствующие примеры. Поэтому нам необходимо гарантировать правильность таких подтверждений, что, как было сказано, довольно сложно в случае с непрозрачными активами. Сложный протокол, сложная реализация — всё это предполагает дополнительные риски. Всё это влечёт за собой риски, связанные с криптографией и реализацией, о которых мы поговорим. Дальше.

Давайте рассмотрим несколько примеров, когда что-то пошло не так. А затем рассмотрим гипотетический случай, когда что-то могло пойти не так в будущем. И первым примером будет Monero. Как и многие другие непрозрачные активы, Monero использует нечто под названием «связующие теги» или, как вы могли слышать, «образы ключей», аннулирующие функции, порядковые номера — термин никак не согласуют. Все они означают примерно одно и то же. Они используются в качестве так называемого связующего тега, я буду называть его так, для предотвращения попыток двойной траты. И они работают следующим образом: всякий раз, когда вы пытаетесь потратить монету в транзакции, и, опять же, это часть некоторого набора возможных трат, связанных с кольцевыми подписями, и каждый раз, когда вы тратите монету, вы раскрываете образ ключа, связующий тег. Он не идентифицирует монету напрямую, но он уникальным и скрытым образом связан с монетой, и в идеале вы не сможете потратить монету, не раскрыв этот конкретный тег. И это необходимо для того, чтобы всякий раз, когда вы как участник сети видите связующий тег, вы могли понять, видели его или нет ранее. Если вы видели тег до этого, то это попытка двойной траты, и вы должны отклонить транзакцию. Если же такой тег не попадался ранее, можно продолжать проверку подтверждения и совершать прочие процедуры с транзакцией. Но случилось так, что в протоколе Monero и его реализации обнаружился баг, позволявший владельцу практически любой монеты раскрывать множество различных тегов просмотра для одной и той же монеты. Предполагалось, что такое невозможно. Предполагалось, что при трате в транзакции одной определённой монеты будет раскрываться один связующий тег. А тут была даже не двойная трата. Это была «октотрата». По алгебраическим причинам каждую монету можно было потратить восемь раз. Это и есть ненужная нам инфляция. И вот что было сделано. Дальше.

Здесь написано, как была решена проблема. Баг был раскрыт приватным образом и секретно исправлен при обновлении клиента. До обновления говорилось, что дела обстоят не совсем так, а после уже были раскрыты все подробности. Если более тщательно рассмотреть этот пример, исправление было довольно простым. К счастью, в этом случае последствий удалось избежать, потому что баг определённо не использовался. Мы рассмотрим примеры, когда инфляцию можно было не заметить, но здесь это получилось, и было однозначно продемонстрировано, что баг не использовался. Всё дело было в том, что эти «вредоносные» теги, которые можно было раскрывать по-отдельности для одной и той же монеты, обладали определённым алгебраическим свойством, которое можно было проверить, а у других тегов такого свойства не было. Но если бы багом воспользовались, всё было бы очень и очень плохо. И это пример, когда определённая часть подтверждения, связующие теги, имела изъян в реализации, который бы привёл к инфляции, если бы им воспользовались. Продолжаем.

Давайте рассмотрим ещё один пример с непрозрачным активом. Многие знают о ZCash. О безопасности системы доказательства ZCash. Они используют различные системы доказательства и различные версии итераций их протокола. Частично они зависят от этих «церемоний» генерации с привлечением множества сторон. Возможно, вы слышали о них, о церемониях, доверенных настройках, как бы их не называли, MPC. В процессе таких церемоний были сгенерированы системные параметры, которые были необходимы для начальной загрузки этих итераций протокола. У платёжного протокола Sprout была церемония, и у протокола Sapling тоже была церемония. У их следующей итерации церемоний не было, поскольку в их случае уже уходили от доверенных настроек. Но эти церемонии сопровождались так называемыми транскриптами, по сути, файлами с анализируемыми данными, которые могли бы быть использованы инструментами. И они позволяли третьим сторонам проверять действительность определённых частей церемонии, поскольку частью церемонии является проверка того, правильно ли все участники сделали то, что положено. И отдельно можно предположить, что они избавились от части секретных данных, потому что в случае сговора могла бы быть нарушена безопасность. Но с транскриптом церемонии Sprout возникла проблема. Она заключалась в том, что наблюдатель, просматривающий транскрипт, мог интересным образом, математически, генерировать транзакции и добавлять их в блокчейн, добавляя тем самым произвольные суммы в пул Sprout. Воспользовались ли этой возможностью? На данный момент нельзя сказать наверняка да или нет. Просто имелась возможность добавлять произвольную сумму в пул в обход этой формы подтверждения, воспользовавшись информацией, которая доставалась из неправильно написанного транскрипта. Дальше.

Какими были последствия? Проблема была внутренне и приватным образом раскрыта и исправлена с помощью совместного обновления системы доказательства и протокола. Так и было сделано. Система более не является уязвимой с точки зрения инфляции, которая могла случиться. Вся информация была раскрыта после обновления. Все подробности были всесторонне опубликованы. Есть небольшая статья, в которой рассматривается математика, позволяющая воспользоваться этой ошибкой. Это очень интересно. Но обратной стороной данного случая является невозможность сказать наверняка, была использована уязвимость или нет. И мы ещё немного поговорим о том, как идея обновления прозрачных пулов и переноса прозрачных пулов, реализованная Zcash, некоторым образом позволяет решить часть проблемы, но не всю её целиком, что интересно. Так что ещё одним примером в данном случае является само последствие, связанное с неопределённостью того, была использована ошибка или нет. Дальше.

А теперь давайте поговорим о том, что я называю «смоделированным примером», поскольку часто доводится слышать: «Ага, а что если в будущем появится некий волшебный причудливый квантовый компьютер?» Что можно будет сделать с его помощью? Представляет ли он собой риск с точки зрения инфляции? Давайте представим себе такого воображаемого злоумышленника, у которого имеется такой воображаемый квантовый компьютер, способный взломать любые интересные криптографические допуски сложности, на которые мы полагаемся сейчас с точки зрения безопасности. И снова: это смоделированный пример, я не знаю, есть ли сегодня такое, надеюсь, что нет. У меня нет причин верить в существование подобного, но, как уже было сказано, для защиты баланса в этих так называемых непрозрачных активах используются обязательства, являющиеся скрытым представлением суммы, не раскрывающим эту сумму напрямую. Monero использует это, Zcash использует подобную форму защиты, да и другие тоже. И частично такая защита баланса зависит от того, что обязательства не только скрывают сумму, которую мы не хотим раскрывать, но и от того, что обязательства уникально привязаны к определённому значению суммы. То есть я хочу сказать, что мне не нужно, чтобы обязательства выглядели одинаково, представляя два различных значения суммы. Это было бы очень и очень плохо. Например, мне бы не хотелось давать обязательство по значению, равному трём, и чтобы оно выглядело так же, как обязательство, связанное со значением, равным тысяче и трём, так как, по сути, это означало бы, что я бы мог заявить, что в моей транзакции содержится сумма, равная тысяче трём, а по факту она была бы равна всего трём. Нам это не нужно. И если бы я смог раскрыть ключ к этому обязательству по другому значению суммы, это обмануло бы систему проверки, а в результате бы мы получили самый худший или, я не знаю, самый лучший вид инфляции за всю историю, в зависимости от того, приветствуете вы инфляцию или нет. И выходит, что если мы имеем дело с воображаемым квантовым злоумышленником, способным выяснить алгебраическую связь между некоторыми компонентами этих обязательств, а в основе этих обязательств лежат некоторая алгебраическая связь, то такой злоумышленник смог бы сделать это, он смог бы в любом скрытом обязательстве указать любое желаемое значение суммы. А это позволило бы ему обойти проверку баланса и вызвать инфляцию. И возникает вопрос: насколько это вероятно? Кто-то считает, что подобное непременно возможно уже буквально завтра или ещё вчера, а кто-то скажет: «Нет-нет. Это очень сложная задача, и мы не увидим никаких результатов при нашей жизни или даже при жизни следующих поколений». Поэтому у меня нет чёткого ответа на этот вопрос. Я не так сведущ в этой области, чтобы судить, возможно подобное или нет. Но я могу сказать, что всё это в целом крайне маловероятно. Скажем так, едва ли это будет осуществимо в ближайшем будущем. Но, опять же, это зависит от того, кого вы спросите. И определённо, без какого-то воображаемого квантового злоумышленника вы можете попытаться методом перебора установить эту алгебраическую связь, но на это у вас уйдёт бесконечное количество времени во вселенском масштабе. Так что я не знаю. Лично я спокойно сплю, не думаю, но уверен, есть и другие люди. Продолжаем.

Итак, как можно избежать этого? Есть несколько вариантов: можно воспользоваться несколько иными типами криптографических компонентов в конструкции, чтобы избежать этого, или, как вариант, попытаться избежать этого в будущем. Но это будет иметь свои последствия, также связанные с криптографией и эффективностью. Но о них я не стану рассказывать, так как это будет немного связано с технической стороной. Тем не менее в результате будет невозможно понять, произошло или нет вмешательство. Если кто-то, сидящий в очень дорогом подвале с очень большим и дорогим квантовым компьютером, сможет провернуть это, то сейчас мы не сможем сказать наверняка, случилось это или нет. И это будет примером инфляции, которую нельзя обнаружить. Дальше.

Хорошо. Теперь немного поговорим о том, как кто-то предлагал нам, и мы уже мимоходом упоминали их, кто предлагал нам просто сосчитать средства в coinbase-транзакциях, которые передаются в эти непрозрачные пулы либо путём перевода прозрачных средств в скрытый пул, если ваш протокол допускает это, либо путём подобным coinbase-транзакциям, которые предназначены для добавления известных видимых сумм в некоторый вид скрытого пула. Ну, действительно, добавление в coinbase-транзакцию суммы выше предполагаемой может стать одной из причин возникновения инфляции. То есть, я не знаю, возможно, ваш код и не проверяет суммы в списке coinbase-транзакций. Но это было бы просто глупо. Но если дело обстоит именно так и существует возможность указания любого значения суммы в coinbase-транзакции, то это приведёт к инфляции. Возможно, по счастливой случайности вы сможете обнаружить это, когда кто-то посмотрит и скажет: «Нет, это не совсем верно». Но, опять же, это не единственный путь к инфляции. Нам известны и другие примеры возникновения инфляции, не имеющие ничего общего с coinbase-транзакциями или подсчётом значений суммы. То есть важно, чтобы вы или ваш код занимались таким подсчётом, но этого недостаточно, чтобы избежать всех возможных форм инфляции. Как уже было сказано, это не позволит выявить возможные проблемы с подтверждениями, как случилось в случае с ZCash, это не позволит обнаружить взлом криптографической защиты квантовым злоумышленником и это также не позволит обнаружить проблем с консенсусом. И мы увидим примеры, когда всё пошло не так с Bitcoin, не являющимся непрозрачным активом. Дальше.

Итак, почему мы не можем просто воспользоваться прозрачным переносом средств, если переводим их из скрытого пула в скрытый пул, и если это требует раскрытия прозрачного значения суммы, когда она перемещается между пулами? Почему я просто не могу взглянуть на сумму, чтобы убедиться в том, что не будет выведена слишком большая сумма? По сути, это просто переход к другому виду coinbase-транзакции. Coinbase-транзакция говорит о том, что есть некое значение суммы, которое добавляется в пул, и запрашивает, является ли оно правильным. При прозрачном переносе вы берёте скрытую сумму, и в этом отличие от coinbase-транзакции, но затем вы говорите, какую сумму кладёте в новый пул. Эти методы имеют определённое сходство, я бы сказал математическое и философское. ZCash, например, использовали прозрачный перенос при переходе к пулу, соответствующему протоколу Sapling. Можно было переносить средства между пулом Sprout и пулом Sapling, можно было перенести их в прозрачное пространство или же в новое пространство Sapling, позволявшее более эффективно совершать операции. Но, опять же, чтобы перенести средства из Sprout в Sapling, было необходимо раскрыть сумму. И они сказали, что создадут правило, согласно которому, если пул Sprout покинет больше средств, чем было изначально переведено в него в открытую, то пул станет «отрицательным», и, согласно установленному правилу консенсуса, остающиеся в нём средства будут заморожены. Вы никогда больше не сможете взять их из пула — всё, что находится в пуле, там и останется. Возможно, в случае с другими протоколами в такой ситуации было бы принято иное решение, но в данном случае было установлено именно это правило. Дальше.

Итак, каковыми могли бы быть последствия всего этого? Ведь это действительно интересная проблема. Могло бы быть несколько последствий. Первое: если бы злоумышленник решил извлечь достаточное количество средств для запуска инфляции, как в случае с уязвимостью в транскрипте или иным путём, он смог бы начать инфляцию в пуле Sprout, но вскрытую. И если бы он сделал пул «отрицательным», то со всеми остающимися средствами честных пользователей произошло бы то, что предусмотрено протоколом. В случае с ZCash в пуле Sprout больше не оставалось бы никаких сумм Sprout. А что если бы злоумышленник вместо этого решил: «Нет, я не буду делать этого, потому что тогда весь мир погрузится в хаос, а также я не хочу, чтобы мои деньги упали в цене, а никакая инфляция того не стоит». И злоумышленник по-прежнему сможет достать какие-то обесцененные деньги, но сделает это очень осторожно, чтобы пул не стал «отрицательным». Сможет ли кто-то наверняка сказать, вероятно, нет, ведь суть скрытого пула именно в том, чтобы вы не могли сказать, сколько средств было у злоумышленника изначально. И, безусловно, злоумышленник по-прежнему сможет тратить обесцененные средства в пределах пула. В данном случае штука в том, что прозрачный перенос работает только в том случае, если средства покидают пул, но если вы тратите их внутри защищённого пула и они никогда не покидают его, никакая возможная инфляция, никакие средства, которые имелись в нём, вовсе не станут предметом прозрачного переноса, и обесцененные средства так и будут тратиться в самом этом пуле. И, наконец, немного отступая от темы, в процессе этих так называемых прозрачных переносов раскрываются суммы. А нам известно, что транзакции, в случае Monero, ZCash и им подобным, не являются неким единообразным ничего не значащим блобом, а содержат метаданные, и ваш интернет-провайдер видит, что происходит в сети, если вы не используете какого-либо средства, чтобы избежать этого, а как мы упомянули, суммы раскрываются, и это также представляет собой определённый риск. Так что это невероятно увлекательная проблема. И это поможет избежать некоторых рисков, связанных с инфляцией, например, если пул станет «отрицательным», теоретически это повлияет на известную денежную массу. Но придётся решать, что делать с этим. Дальше.

А что насчёт прозрачных активов? Как говорилось до этого, неверно утверждать, что прозрачные активы не подвержены инфляции. Это не так. Прозрачные активы могут иметь и имеют уязвимости, способные привести к инфляции, и некоторые из них уже были использованы. Дальше.

Посмотрим на... назад. Так.

Рассмотрим ситуацию на примере Bitcoin. Мне знакомы две известных уязвимости Bitcoin, которые потенциально могут привести к инфляции. Поговорим о той, которой реально воспользовались, а со второй вы можете ознакомиться сами, если пожелаете. Как вам, вероятно, известно, протокол Bitcoin содержит реализованные в коде правила консенсуса, согласно которым суммы, которые тратятся и генерируются при проведении транзакции, были сбалансированы. Таким образом, вы не можете взять большую прозрачную сумму, чем положите. Это правило консенсуса и кода. Но несколько лет назад обнаружился баг, позволявший генерировать монеты с такими невероятными привязанными к ним суммами, что, когда проводились все эти операции сложения и вычитания, позволяющие определить, что транзакция сбалансирована, обнаруживался явный избыток. И если вы знакомы с математикой, которая лежит в основе всех этих вычислений, то понимаете, что всё это очень и очень плохо, поскольку выясняется, что когда вы складываете все эти суммы, если одна из них оказывается так велика, что указывает на очевидный избыток, уравнение баланса выглядит нормально и код пропускает транзакцию, несмотря на тот факт, что в ней очевидно создаётся гораздо большая сумма, чем предполагается. Таким способом удавалось обойти проверку баланса. К счастью, это заметили люди, обнаружившие эти суммы, и подумали: «Хм, но ведь это лишено даже толики здравого смысла», и код был исправлен всего за пять часов или около того. Это невероятно, просто невероятно быстро, так как ошибкой успели воспользоваться, и транзакция уже продемонстрировала данную возможность. Дальше.

Как была решена проблема... да, итак, эксплойт был обнаружен при проведении транзакции и был исправлен при обновлении клиента. Эффект же заключался в том, что удалось определить, что баг был действительно использован, так как люди заметили его и очень, очень быстро исправили. Но выяснилось, что в результате в блокчейне пришлось реализовать софтфорк, чтобы отменить транзакцию. К счастью выяснилось, что эти средства на тот момент не были потрачены где-либо ещё. Если бы это произошло, пришлось бы решать, что делать с транзакциями потенциально честных пользователей. То есть, например, как если бы вы были продавцом, а кто-то воспользовался багом, а затем передал средства вам, и вы захотели бы воспользоваться ими — и что произойдёт в случае форка блокчейна? Вы лишитесь этих средств, уже продав при этом свой товар. Это трудные решения. К счастью, в этом случае решение было довольно понятным, скажу я вам. Таким образом, решение проблемы оказалось довольно эффективным, а последствия, на мой взгляд, минимальными. Но в рамках этого примера, в связи с угрозой инфляции, которая, по сути, произошла, пришлось принимать сложные решения. Продолжаем.

И какие уроки мы можем извлечь из всего этого? Я бы сказал, множество уроков, и, как я уже говорил, это очень тонкий вопрос. И вот, чему мы можем научиться на этих и многих других примерах, на рассмотрение которых нам просто не хватит времени. Но я рекомендую вам ознакомиться с некоторыми, поскольку они просто удивительны. Прежде всего, не все формы инфляции и не все риски, связанные с ней, одинаковы. Нами были рассмотрены несколько примеров, которые различались между собой. Они могут возникнуть в результате взлома криптографической защиты, различных допусков сложности решения, в результате либо плохо разработанных, либо плохо реализованных в коде правил консенсуса, просто из-за недостатков вполне хороших протоколов, наличия в них ошибок, ошибок в коде, а зачастую это очень сложные части кода, а иногда и из-за действительно плохо разработанных протоколов, не учитывающих всех тех видов атак, которых вам хотелось бы избежать. Второй урок заключается в том, что, в случае с непрозрачными активами, инфляцию обнаружить можно, но не всегда. В примере с квантовым злоумышленником такую атаку обнаружить не удалось бы. В случае с Monero, как мы видели, определённую уязвимость выявить удалось, а в случае с ZCash баг мог быть и не обнаружен, и всё зависело от поведения злоумышленника. То есть если пул не стал «отрицательным», то нельзя сказать с уверенностью, была или нет использована уязвимость. Третий урок, на мой взгляд, говорит нам о том, что прозрачные активы также подвержены инфляции. И даже несмотря на то, что теоретически это можно обнаружить, она всё же будет иметь свои последствия. Что вы станете делать, если столкнётесь с инфляцией? Просто «откатите» блокчейн в надежде, что больше никто не пострадает? Не знаю. Несколько лет назад это сработало в случае Bitcoin, но, должен сказать, если это повторится, последствия могут быть куда серьёзнее. Четвёртый урок: такие методы, как прозрачный перенос средств или подсчёт средств в coinbase-транзакциях, определённо недостаточны. Они подходят, чтобы избежать некоторых рисков, но, на мой взгляд, их точно не хватит, чтобы уйти от всех возможных рисков и последствий инфляции в случае непрозрачных активов. Мы видели соответствующие примеры, и, возможно, в голове вы прокрутили целый ряд других случаев или обстоятельств. Дальше.

Итак, думаю, мы вполне уложились в отведенное время. Да? OK, отлично. У кого-нибудь есть вопросы? Думаю, Джастин тоже принесёт микрофон, чтобы все, кто слушает стрим, тоже смогли услышать вас. Хорошо.

_**Вопрос из зала:**_ У меня вопрос, касающийся возможного взлома, который может осуществить квантовый злоумышленник, если бы его можно было обнаружить. Можно ли будет отследить, был ли это классический или квантовый злоумышленник, какой метод использовался?

_**Саранг:**_ Вам нужен пример нахождения отношения дискретных логарифмов между генераторами обязательств?

_**Вопрос из зала:**_ Это может быть...

_**Саранг:**_ Тот, на который я ссылался? То есть, нет... Нельзя... Я хочу сказать, что можно построить транзакцию, которая будет отслеживаемой, если вы плохой злоумышленник, но я не вижу причин, по которым меня вообще можно было бы отследить.

_**Модератор:**_ Ну, я думаю, это не совсем ответ на вопрос, который был задан. Вопрос касался эксплойта, о которым ты говорил, воспользовавшись которым кто-то смог бы... не так... не важно... То есть как можно было бы отследить его, если бы это было возможно? Какой метод можно было бы для этого использовать?

_**Саранг:**_ Если брать тот конкретный случай, не думаю, что это было бы возможно. Но, по сути, это риск.

_**Вопрос из зала:**_ То есть, если бы кто-то смог сделать нечто подобное, вы не могли бы сказать, был ли это классический случай и какой тип воображаемого компьютера использовался. Мой вопрос был об этом.

_**Саранг:**_ А, нет-нет-нет. То есть, в случае с этим конкретным примером, вы можете просто найти отношение между дискретными логарифмами этих генераторов. И, опять же, вы можете попытаться сделать это методом грубого перебора. Но придётся держать пальцы скрещенными, потому что на это уйдёт много световых лет, так как размер этих групп просто чудовищен.

_**Вопрос из зала:**_ Остаётся молиться RNGesus.

_**Саранг:**_ Нет, я имею в виду, что можно взять случайную группу элементов, и, возможно, вам повезёт найти отношение дискретных логарифмов. Но, опять же, необходимо также помнить о том, что существует аргумент в виде квантового компьютера, который справится конкретно с этим криптографическим допуском сложности, но его также можно использовать для многих других вещей, помимо обесценивания средств. Можно найти секретные ключи и потратить чужие деньги, взломать весь интернет. Знаете, если весь мир в огне, то и ваш дом, вероятно, тоже. Но и у многих других людей имеются проблемы.

_**Вопрос из зала:**_ Отлично. Спасибо за невероятное выступление. Я будто побывал в комнате со всеми вами и узнал, над чем вы работаете каждый день. Но мой вопрос будет следующим. Я понял, откуда вы, и что многие проекты могут работать над решением проблемы инфляции. Но в конечном счёте все мы связаны с фиатом, посредством него мы определяем цену криптовалюты, баланс или процент. Как мы можем полностью уйти от фиата? Поскольку даже несмотря на то, что мы работаем над решением проблемы инфляции, инфляция USD происходит ежедневно, и это будет иметь каскадный эффект для Monero. Возможно, это не ваша сильная сторона, не то, над чем вы задумываетесь каждый день, но как, по вашему мнению, мы можем разорвать связь с фиатом, если не давать стандартный ответ, связанный с внедрением?

_**Саранг:**_ Я не тот человек, кому можно адресовать этот вопрос. Я математик. А это мне кажется больше социальная или экономическая проблема. Мне не хотелось бы притворяться экспертом в этой области.

_**Вопрос из зала:**_ Хорошо, я вас понял.

_**Саранг:**_ Да, я могу говорить об инфляции на уровне протокола. Но вопрос об инфляции USD — это не ко мне.

_**Вопрос из зала:**_ OK, я передаю микрофон.

_**Модератор:**_ Спасибо. Есть ещё вопросы? Есть, отлично.

_**Вопрос из зала:**_ Я заметил, что такие государства, как США или некоторые другие правительства, хотят разобраться с Monero или как-то навредить проекту. Сколько компьютеров и разработчиков им понадобится, чтобы изменить код? Или насколько это будет осуществимо?

_**Саранг:**_ Ох, в этом я тоже не особо сильно разбираюсь. Это по большей части вопрос безопасности. Но всё же это тоже очень интересный момент, поскольку, как было сказано, многие из подобных вещей и многие из рисков возникают в результате наличия недостатков в коде и реализации. То есть, как в случае с Monero, когда эта уязвимость была устранена, но что, если исправление сделал тот, кто и создал уязвимость. Теоретически это возможно. Кто-то мог проанализировать прошлый код или сделать нечто подобное. Я не представляю, насколько это сложно, поскольку это зависит от того, насколько протокол позволяет проанализировать код. Я считаю, что снижение уровня доверия было бы хорошим способом решения этой проблемы. Необходимо допускать, что весь предлагаемый код может оказаться вредоносным. Но это довольно трудно. У нас имеется очень большой объём кода, и если в него будут включены уязвимости, их будет довольно сложно обнаружить, даже если вы очень хороши в этом. Так что полагаю, это просто знак необходимости в постоянной бдительности в случае со свободными и открытыми проектами.

_**Вопрос из зала:**_ Так сколько, по-вашему, компьютеров понадобится для этого. Плюс-минус.

_**Саранг:**_ Думаю, я не совсем понимаю, что вы имеете в виду под количеством компьютеров. Мы говорим о внедрении вредоносного кода в кодовую базу?

_**Вопрос из зала:**_ Да, каким должен быть уровень доступа?

_**Саранг:**_ То есть, чтобы объединить? Если честно, я не знаю, скольким людям можно объединять код. То есть хорошо уже то, что мы видим каждое такое включение кода. Вы видите, как он объединяется, вы видите, что происходит, если, например, тот, кто объединяет код, делает что-то не то, по мнению сообщества, совершает попытку реализации форка или чего-то подобного. Но я не знаю, мне не известно, сколько человек должно внедриться, чтобы что-то изменить. Но это интересный момент. За этим необходимо следить, так как протокол может быть просто великолепным, но если он будет плохо реализован или же на него повлияют каким-то вредоносным образом, то это будет плохо.

_**Модератор:**_ Отлично, прекрасные вопросы. Просто прекрасные. И наш следующий выступающий также затронет их. Ещё вопросы? Я уверен, что они у вас имеются, но...

_**Саранг:**_ Я буду по близости, если кто-то решит пообщаться об этом позже. Спасибо за внимание.

_**Модератор:**_ Да, отлично.

_[Аплодисменты]_
