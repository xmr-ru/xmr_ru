---
title: "Джастин Берман - Ключи просмотра баланса: приватные ключи для просмотра входящих и исходящих транзакций"
date: "2023-05-06"
categories:
  - "Стенограмма"
tags:
  - "Monerotopia 2023"
lead: "Колония Рома, Мехико, Monerotopia 2023 - День 2"
pager: true
toc: false
sidebar: "right"
---

{{< youtube id="Pbby8V53zqA" autoplay="false" >}}

---

_**Даг:**_ Следующим выступит Джастин Берман. Он расскажет нам... Кстати, как называется твоя презентация?

_**Джастин:**_ Ключи просмотра баланса.

_**Даг:**_ Итак, для тех, чьё знакомство с Monero только начинается, это выступление может показаться немного продвинутым. Но это, пожалуй, даже хорошо. Оставайтесь и постарайтесь почерпнуть что-то полезное. Всё действительно будет так сложно?

_**Джастин:**_ Я постараюсь сделать всё попроще. И начну с самого главного — с кольцевых подписей и подобных вещей. Постараюсь всех заинтересовать. Даже тех, кто совсем ничего не знает о Monero.

_**Даг:**_ Отлично. Итак, наш следующий участник — Джастин. Джастин, забирай у меня микрофон.

_**Джастин:**_ Большое спасибо.

Итак, сегодня я буду говорить о ключах просмотра баланса, являющихся приватными ключами, которые находятся под вашим контролем, и которые позволяют просматривать все ваши входящие и исходящие транзакции, но без возможности траты средств. То есть у вас появляется приватный ключ, позволяющий увидеть всё то, что происходит в вашем кошельке, но не допускающий траты находящихся в нём средств.

Сегодня в Monero мы используем имеем приватные ключи просмотра, которые отличаются от ключей просмотра баланса тем, что они позволяют видеть только входящие средства. А для того, чтобы определить, когда вы потратили полученные деньги, понадобится ключ траты. И, само собой, ключ траты также используется для того, чтобы тратить средства.

Теперь коротко о себе. Меня зовут Джастин Берман, в интернете я известен как Джей Берман. Я являюсь контрибьютором проекта Monero на постоянной основе, и мою деятельность финансирует сообщество вот уже более полутора лет.

И давайте сразу перейдем к ключам просмотра баланса и обсудим всё, что с ними связано.

Итак, немного из истории возникновения идеи ключей просмотра баланса. Их планируется реализовать в рамках потенциального обновления Monero, которое сейчас находится в разработке под названием Seraphis/Jamtis. То есть это совсем не то, что уже существует сегодня, но то, что будет существовать в будущем. И, как оказалось, эти ключи являются наиболее спорным аспектом или одним из наиболее спорных аспектов обновления, и некоторые люди негативно высказываются в их отношении в интернете. Поэтому я надеюсь, что сегодня мне удастся глубже проанализировать и помочь людям понять, что в таких ключах действительно есть большой смысл, а их отрицательные стороны немного преувеличены, особенно если сравнить их с используемыми сегодня ключами, а плюсы очень значительны. Таким должен стать основной вывод, к которому, я надеюсь, люди придут после этого выступления.

При этом, думаю, нам не особо понадобятся слайды...

Следующее, о чём бы хотелось немного рассказать, это кольцевые подписи, поскольку информация по ним станет весьма актуальной чуть позже. Кольцевые подписи используются в Monero для обеспечения приватности отправителя Monero. Допустим, вы получаете Monero в понедельник, а во вторник идёте куда-то, чтобы их потратить. И вот, что происходит во вторник: программное обеспечение вашего кошелька, отвечающее за отправку Monero, ссылается на Monero, полученные вами днём ранее в понедельник, а затем выбирает из блокчейна 15 других Monero, полученных кем-то ещё. Это может быть любой случайный человек. Эти Monero включается в кольцевую подпись вместе с вашими Monero, полученными в понедельник, и никто, увидев вашу транзакцию в блокчейне, не сможет определить, когда увидит вашу транзакцию Monero в блокчейне, который из 16 участников кольца является вашим. То есть, вы будете одним из 16. Также важно отметить, что любой другой человек, создавая свои транзакции Monero, сможет включить в них и вашу. Таким образом, кто бы ни просматривал блокчейн Monero, он не сможет определить, когда вы потратили свои Monero. Именно так кольцевые подписи обеспечивают приватность отправителя.

А теперь вернёмся к ключам просмотра баланса в контексте их нынешнего состояния... мы просмотрели этот слайд... Итак, в настоящее время Seraphis и Jamtis находятся в стадии разработки как предлагаемое обновление кода Monero. И вот здесь можно найти тех, кто стоит за Seraphis, а tevador вообще, по сути, является мозгом Jamtis.

Итак, основная идея Seraphis и соответствующих исследований заключалась в том, чтобы найти способ увеличить размер кольца Monero на значительную величину. То есть, чтобы увеличить его с 16 до 128. И вы уже не будете икать 15 других участников. При трате своих Monero вы станете одним из 128.

Более подробную информацию по Seraphis можно найти по первой ссылке, а по второй ссылке — спецификацию Jamtis от tevador. Также я выступил с презентацией на Monerokon, в которой рассказал об основных, на мой взгляд, функциях Seraphis, и сделал своего рода высокоуровневый обзор каждой из них. И ключи просмотра баланса были одной из тех функций, которые я упомянул на этом слайде. Так что некоторые вещи, о которых я говорил ещё в той презентации, будут повторяться. Но, опять же, основная идея, которую я собираюсь донести до слушателей сегодня, заключается в том, что, на мой взгляд, это очень и очень полезные инструменты, у которых практически нет недостатков, практических недостатков, если сравнивать их с используемыми сегодня ключами просмотра Monero. И я ещё поделюсь с вами более глубоким анализом.

Итак, мы начнём с существующих «за» и «против», затем перейдём к анализу уже существующих ключей просмотра и их работы, а также рассмотрим некоторые проблемы, связанные с ними, и некоторые аспекты обеспечения приватности. Затем обсудим гипотетические ключе просмотра Seraphis, а именно, как будут выглядеть ключи просмотра, позволяющие просматривать только входящие средства, когда размер кольца действительно значительно увеличится. Затем заглянем в гипотетически возможное будущее Monero, которое, как я надеюсь, наступит скорее раньше, чем позже, когда будет реализовано доказательство присутствия во всём  блокчейне, то есть, размер кольца не обязательно будет строиться по схеме «1 из 128», а будет охватывать весь блокчейн. Другими словами, когда вы будете тратить Monero, вы окажетесь среди множества вообще всех Monero, которые были получены когда-либо в прошлом. Поэтому я собираюсь поговорить о ключах просмотра и о том, какими они будут, сравнивая с тем, какие они сегодня. Ну а затем мы перейдём к выводам.

И сначала о плюсах. Пожалуй, самым значимым плюсом ключей просмотра баланса, или, я бы сказал, один из самых значимых плюсов, является возможность создание полнофункционального и более безопасного, более надёжного кошелька просмотра. Сегодня у вас может иметься кошелёк просмотра, установленный на каком-то «горячем» устройстве, на вашем компьютере, например, где вы будете не так надёжно защищены. Также это может быть ваш «холодный» кошелёк, подписывающее устройство, которое может являться вашим аппаратным кошельком или каким-то безопасным автономным устройством, которое никогда не подключалось к интернету, и позволяет только тратить средства, а ваш кошелёк просмотра — видеть все получаемые вами Monero.

Существующие кошельки просмотра не способны правильно рассчитать баланс без дополнительной информации, получаемой с помощью ключа траты, поскольку ключ просмотра позволяет увидеть только поступающие средства. Поэтому в какой-то момент вам придётся загрузить ключ траты на какое-то устройство. Возможно, вы храните ключ траты на каком-то отсоединённом от сети устройстве, которое предпочитаете вообще не трогать как можно дольше, что, по сути, является оптимальным подходом к обеспечению безопасности. Ключ просмотра баланса позволит использовать кошелёк просмотра для получения полной информации баланса, не прибегая к ключу траты. Существующие на сегодня кошельки просмотра неудобны с точки зрения пользовательского интерфейса, ведь вам приходится загружать необходимое устройство, переносить данные туда и обратно, загружая её из кошелька просмотра в «холодный» кошелёк, а затем обратно в кошелёк просмотра, и ключи просмотра баланса решают все эти проблемы.

И это решение является аналогичным для аппаратных кошельков и кошельков, использующих мультиподпись, и подразумевает всё те же улучшения. В случае аппаратного кошелька ключи должны быть реализованы таким образом, чтобы можно было передавать информацию от аппаратного кошелька на компьютер, обратно в приложение, а затем обратно в аппаратный кошелёк. И все эти дополнительные шаги усложняют реализацию. А с помощью ключа просмотра баланса можно создать соответствующую настройку на своём устройстве и просто отсечь всю информацию, которую необходимо передавать в аппаратный кошелёк. И аппаратный кошелёк тогда будет использоваться исключительно для подписания транзакций и подтверждения данных о тех средствах, что вы тратите, совершая транзакцию.

Что касается мультиподписей, просто представьте мультиподпись, транзакцию с несколькими подписями или схему мультиподписи «два из трёх», в рамках которой есть три человека, каждый со своим ключом, и чтобы потратить Monero, необходимо, чтобы двое из них собрались вместе. Согласно этой схеме, один человек не сможет потратить средства в одностороннем порядке.

А в случае использования ключа просмотра баланса, допустим, есть два человека, которые вместе собираются потратить средства из какого-то конкретного кошелька. И как третий человек узнает, что Monero были потрачены? Он понятия не будет иметь об этом, и будет пребывать в полном неведении. Но ключ просмотра баланса позволяет третьему человеку узнать об этом. А если подробнее углубиться в детали реализации ключей для мультиподписи, то потребуется меньше раундов связи, чем в классической схеме, и это значительно упрощает подход в целом. Это значительно улучшает процесс взаимодействия с пользователем в Monero, что, на мой взгляд, является одним из самых больших плюсов.

Третье, о чём я расскажу подробнее далее в ходе презентации, связано с тем, что ключи просмотра баланса имеют во многом схожие свойства приватности с сегодняшними ключами просмотра, которые позволяют просматривать только входящие транзакции. Я собираюсь привести свои аргументы и проанализировать, почему используемые сегодня ключи просмотра входящих транзакций в подавляющем большинстве случаев технически позволяют увидеть баланс кошелька, о чём, возможно, кто-то не знает. Так что, я вернусь к этому чуть позже. Тем не менее проблема заключается в том, что вы не сможете создать приложение, которое будет полностью полагаться на это. Вы не можете создать кошелек, который бы полагался на такой допуск, поскольку всегда есть некоторые мелкие нюансы и единичные случаи, когда это не сработает.

Четвертый пункт, который мной также был затронут на Monerokon, мне просто хотелось бы особо выделить это, когда я говорил о лёгком кошельке и о том, что ключ просмотра баланса обеспечивает новый уровень протокола Monero — это не совсем так, по крайней мере, не буквально. Но новые лёгкие кошельки в некотором смысле связаны с ключами просмотра баланса. Поэтому я просто вычеркнул этот пункт, чтобы исправить эту неточность сегодня.

Теперь перейдём к минусам. Итак, вот то, что говорят люди, тот негатив, который существует по отношению к ключам просмотра баланса. По сути, если в итоге Monero действительно увеличит размер кольца на значительную величину, возможность определить баланс кошелька и увидеть, когда кто-то тратит Monero, исключительно с помощью ключа просмотра входящих транзакций, будет ослаблена. Поэтому утверждается, что, возможно, в этом контексте ключ просмотра баланса потенциально является той самой вещью, которую кто-то случайно сможет раскрыть в один клик, невольно и полностью утратив приватность. И если это действительно так, то, очевидно, нам не хотелось бы, чтобы так происходило, поскольку это очень скверный сценарий.

Но я против такого подхода. Во-первых, будьте уверены, в случае с используемыми сегодня ключами просмотра входящих транзакций это уже возможно. Вы уже можете в один клик полностью раскрыть баланс своего кошелька, предоставив, собственно,  ключ просмотра и все образы ключей для всех полученных выходов. То есть технически это уже возможно, и вы можете представить себе ситуацию, в которой какой-то сервис потребует от вас предоставить свой ключ просмотра баланса, чтобы вы смогли воспользоваться его услугами. И почему бы не требовать того же всякий раз, когда вы захотите воспользоваться таким сервисом? Так что функционально, на мой взгляд, они очень похожи.

Стоит отметить, что при использовании ключа просмотра баланса вы не обеспечите приватность в перспективе. А в случае с используемыми сегодня ключами просмотра вы тут же предоставляете нужную информацию, и в будущем её обладатели смогут увидеть все ваши поступления и сделать довольно точные предположения о ваших расходах. Но при этом они не будут знать их наверняка, как если бы пользователь предоставил образы ключей. Как бы то ни было, далее я собираюсь аргументировать и продемонстрировать, что на самом деле не имеет никакого значения, как реализованы существующие ключи просмотра. Неважно, что сегодня с их помощью пользователь практически навсегда открывает доступ к балансу своего кошелька. И я еще вернусь к этому.

Второй возможный результат, который был отмечен и обозначен как негативный — потенциально сервис или кошелёк, который захочет обеспечить наилучший пользовательский опыт, станет собирать ключи просмотра баланса пользователей, и тогда каждый раз, когда вы будете загружать своё приложение, ваш кошелёк Monero будет мгновенно готов к работе. Если кто-либо пользовался Monero, то, вероятно, знает, что если вы не пользовались кошельком, то вам придётся сидеть и ждать, пока он синхронизируется. По сути, этот процесс означает, что каждая транзакция, совершённая с момента последнего открытия кошелька, расшифровывается, чтобы проверить, принадлежит ли она вам. Это напрягает, и, кроме того, если вам понадобится восстановить мнемоническую фразу, на основе которой был создан кошелёк, то вам придётся пройти процесс полной синхронизации. Если бы существовал какой-то сервис, который бы собирал ключи просмотра баланса, то никакой синхронизации не понадобилось в принципе.

В обновлении Seraphis/Jamtis эта проблема решается с помощью лёгких кошельков на новом уровне. По сути, это лёгкие кошельки, которые делают всё так же, как сегодня это делает MyMonero. Таким образом, новый уровень лёгкого кошелька обеспечивает все преимущества мгновенной загрузки наряду с довольно высоким уровнем приватности, поскольку сервис уже не может при каких-либо обстоятельствах точно сказать, когда вы получаете или тратите средства, не может увидеть получаемой сдачи. Таким образом, функционально реализуется нужный опыт взаимодействия с пользователем, который должен и будет обеспечивать кошелёк. И поэтому, на мой взгляд, в связи с этим новым уровнем не должно возникнуть никаких причин для сбора ключей просмотра баланса, если только какой-то злоумышленник не решит заняться этим. koe также опубликовал некоторые аргументы, с которыми можно ознакомиться, перейдя по этой ссылке.

Теперь перейдём к рассмотрению существующих ключей баланса. Итак, если помните, используемые сегодня ключи просмотра позволяют просматривать только входящие средства, но не отправляемые. Поэтому я собираюсь привести пример транзакции.

_[Обрыв трансляции]_

Итак, здесь показана транзакция, совершённая в августе 2022 года. Я взял данные из блокчейна, но это не точные данные, я их изменил — они не содержат никакой информации, которая бы позволила идентифицировать пользователя. Но данный пример близок к тому, что могло бы происходить в реальности.

У нас имеется один вход, и, по сути, при проведении этой транзакции пользователь получил 10 Monero какой-то другой стороны, и поэтому со стороны входа пользователь ничего не знает о том, откуда взялись эти Monero. А на стороне выхода мы имеем два сообщения enote, где второе связано с получением 10 Monero пользователем, а первое, предположительно, является сдачей, которая возвращается отправителю.

Итак, сообщение enote2 и Транзакция A — далее мы будем использовать эти обозначения. Как я говорил ранее, рассказывая о кольцевых подписях, любая последующая транзакция, совершаемая в блокчейне, происходит через 10 блоков после того, как пользователь получит свои Monero. Затем эти Monero, эти сообщения enote, которые вы получили, могут быть включены в любые другие транзакции. Поэтому я просмотрел блокчейн и проследил примерное количество транзакций, в которые в качестве участника кольца на стороне входа были включены эти сообщения enote2, гипотетические enote2. Так, например, в верхнем левом углу показана транзакция, также совершённая в августе 2022 года, и на стороне входа у неё было сообщение enote2 из Транзакции A, а на стороне выхода — ни одного сообщения enote, которое бы позволил увидеть ключ просмотра. И здесь у нас есть ещё одно поле, выделенное жёлтым, сообщение enote на 9,2 XMR, выделенное зелёным, что означает, что при проведении этой транзакции пользователь точно получил 9,2 XMR. В этой транзакции использовалось кольцо из 16 участников с одним действительным входом. То есть, одним из участников кольца было сообщение enote2 пользователя.

Здесь указано девять транзакций, а их было около 14, когда я просматривал данные блокчейна, просто это то количество, которое я вычислил, чтобы определить, сколько раз enote потенциально может быть включено в другие транзакции, если оно было создано нескольких дней назад. Ну и последняя транзакция была совершена в марте 2023 года.

Итак, переходим к слайду номер 11, где выделена эта подозрительная транзакция, одна из четырнадцати. И опять же, данная транзакция имела один вход, включавший в себя enote2 из Транзакции A на стороне входа. Один из 16. При проведении этой транзакции пользователь получил 9,2 XMR. Одно важное замечание: с того момента, когда эта транзакция была впервые получена пользователем, то есть с 22 августа, и вплоть до позавчерашнего дня было проведено около 4,6 миллиона других транзакций, которые потенциально могли включать в себя это сообщение enote со стороны входа. Так вот, из этих 4,6 млн. транзакций нам удалось выделить всего 14, в которых оно присутствовало. И только в одной из этих 14 транзакций пользователь получил 9,2 Monero.

Таким образом, мы можем сделать очень обоснованное предположение, согласно которому эти 9,2 Monero, которые пользователь получил в данной транзакции, являлись сдачей пользователя. И очень, крайне вероятно, что пользователь потратил 10 XMR, которые получил до этого, и потому должен был потратить 10 минус 9,2, что составляет 0,8 XMR. Таким образом, второе сообщение enote2, присутствующее в этой транзакции и неизвестное нам, предположительно составляет 0,8 XMR, и пользователь потратил своё предыдущее сообщение enote. И сегодня всё это можно выяснить исключительно с помощью ключа просмотра, ключа просмотра входящих транзакций.

Поэтому я произвёл моделирование, и начал с того момента, когда сообщение enote, принадлежащее этой транзакции могло быть включено в транзакции других людей. Я смоделировал ситуацию 100 раз и выяснил, что вероятное количество составляет около 12, то есть можно ожидать, что 12 других человек включат ваше сообщение enote в качестве участника кольца в свои транзакции. Красная линия на графике — это фактическое количество, равное 14. Тёмная бирюзовая линия — это распределение, демонстрирующее, сколько раз сообщение enote было включено в другие транзакции. И в среднем расчётное значение составляет около 12. Так что проведённое моделирование было полезно, и теперь я могу перейти непосредственно к Seraphis.

Итак, в Seraphis мы собираемся увеличить размер кольца с 16 до 128 — таков текущий план в отношении Seraphis. И поэтому я хотел бы показать, как гипотетически будут выглядеть ключи просмотра входящих транзакций в Seraphis, и будут ли такие ключи достаточными для защиты транзакций и информации в предлагаемых обстоятельствах.

Я делаю ряд допусков и предлагаю рассмотреть их, поскольку среди них есть несколько довольно важных. Во-первых, предполагается, что объём транзакций оставался прежним. То есть, по сути, моделирование охватывает период, начиная с момента проведения этой транзакции в августе 2022 года, и заканчивая позавчерашним днём. Но вместо предположения, согласно которому размер других колец в каждой отдельной транзакции также будет равен 16, я допускаю, что он составит 128.

И была сделана ещё пара допусков, согласно которым алгоритм выбора других сообщений enote оставался прежним, а это не так. Но я не думаю, что результаты как-то сильно изменятся. Также я не использовал криптографически защищённый генератор случайных чисел, потому что это заняло бы много времени, и просто воспользовался «Вихрем Мерсена». Так что вы можете воспринимать результаты с некоторой долей скепсиса, но они примерно соответствуют ожиданиям.

И я обнаружил, что при увеличении размера кольца до 128, количество будет действительно пропорциональным — 8 раз по 12. То есть, ожидалось 96 транзакций, и про факту получилось 92. То есть, в принципе, можно ожидать, что когда мы увеличим размер кольца до 128, после получения пользователем этого сообщения enote в транзакции 22 августа, около 92 других транзакций включат его в свои транзакции.

_**Вопрос из зала:**_ ...

_**Джастин:**_ Я думаю, что количество будет пропорциональным, как 128 относительно 16, то есть 16, помноженным на 8. И получилось примерно так — чуть меньше 12. Это результат 100 случаев моделирования. То есть, по сути, ожидаемое количество других транзакций, в которые в качестве участника кольца войдёт ваше сообщение enote, увеличилось в 8 раз.

Итак, мы имеем 92 транзакции из 4,6 миллиона, что составляет 0,002 процента. Это всё ещё довольно небольшое количество. Поэтому данная транзакция по-прежнему выделяется как одна из 92, в которых пользователь получил соответствующее сообщение enote. Вы видите 92 транзакции, и среди них есть одна жёлтая, которая как бы выделяется среди этих 92, и представляется просто песчинкой среди всех транзакций, которые имели место.

И эта одна подозрительная транзакция из предыдущих с размером кольца 16 всё ещё довольно подозрительна, пока что мы, воспользовавшись исключительно ключом просмотра входящих транзакций, можем с высокой долей уверенности предположить, что пользователь потратил 10 XMR в транзакции, получив 9,2 XMR в качестве сдачи.

Теперь вы можете спросить, а что насчёт гипотетических ключей просмотра в будущем, когда Monero больше не будет использовать кольцевые подписи с небольшим количеством участников со стороны входа, а вместо этого будут ссылаться сразу на все Monero, которые когда-либо были получены? Как они будут выглядеть в таком контексте? Вот некоторые другие предположения, которые можно сделать в отношении такого будущего.

В таком случае, естественно, мы не сможем сузить кольцо участников, выделив небольшое количество транзакций, и сказать, получил ли пользователь в какой-то конкретной транзакции Monero. То есть, такая возможность теперь исключается.

Теперь прибавим ещё несколько допусков. Допустим, большинство людей будет получать зарплату в Monero. Зарплата — это, как правило, более крупная выплата, осуществляемая с некоторым интервалом, например, раз в две недели. Тут, конечно же, мне возразят, что и в этом случае не будет возможности определить, когда пользователь начнёт тратить деньги, потому что этот ключ просмотра входящих транзакций не позволит увидеть этого. На это я отвечу примером с известным нам парнем по имени Боб и продемонстрирую, что всё может быть и иначе.

Итак, он получает свою зарплату 1 числа, допустим, 1 мая, и он получает 50 000 пиконеро, предположим, что в будущем это будет так, а пиконеро — это самая малая часть Monero, 12 нулей после запятой, то есть, один пиконеро — это одна триллионная часть Monero. Итак, 1 мая он получает 50 000 пиконеро, что является значительной суммой, а 2 мая он собирается взять эти деньги, пойти в магазин и купить молоко за 42 пиконеро. А 3 мая он собирается купить гамбургер за 316 пиконеро.

Как всё это выглядит при использовании ключа просмотра? Итак, он получает зарплату 1 мая, 50 000 пиконеро, 2 мая он идёт и покупает молоко за 42 пиконеро, и при использовании ключа просмотра входящих транзакций вы видите ещё одно сообщение enote в транзакции со значением 49 900 пиконеро, если отбросить комиссию. Комиссия является публичной, и можно просто произвести вычитание, но сейчас это не имеет значения. Так что, вы увидите основное значение, равное 49 900, что довольно близко к 50 000, которые получил пользователь... кто-то свалился со стула — настолько это сногсшибательный материал. Итак, 49 900 пиконеро с чем-то. А затем он идёт и покупает гамбургер на свои Monero, полученные в качестве зарплаты. И теперь получается 49 600 с чем-то пиконеро. Вот, как это выглядит, при использовании ключа просмотра входящих транзакций.

Теперь становится совершенно очевидно, что Боб не получает всю свою зарплату каждый божий день — 1, 2 и 3 мая. То есть, довольно легко прийти к выводу, что Боб, вероятно, тратит небольшую часть своей зарплаты на следующий день, а затем через день. Таким образом, даже в контексте групп, состоящих из всех участников блокчейна, где вы не можете свести к нулю значения со стороны входа, из-за выходов сдачи всё равно существует довольно приличный объем раскрываемой информации.

Безусловно, на это можно возразить и сказать, что ситуацию можно смягчить, если Боб будет получать сообщения enote меньшего номинала, и него будут тысячи таких enote, которые он сможет потратить. Например, Боб может получить 10 enote по 5000 пиконеро каждая, и когда он будет покупать молоко, то возьмёт деньги из 5000, и, возможно, меньшее количество Monero, 4900 пиконеро были получены от кого-то другого. В некоторых случаях это действительно может помочь, но, безусловно, такое решение имеет и свои недостатки. Например, как узнать, что это правильный номинал? Как понять, насколько крупным или мелким он должен быть? Всё это сложно, и зависит от условий рынка. Кроме того, естественно, в блокчейне появится больше сообщений enote, что увеличит объём данных. И это всё равно не поможет при иных обстоятельствах, и поэтому, пожалуй, в интересах Боба учесть в его модели угрозы, что если он предоставит свой ключ просмотра, он так или иначе раскроет уйму информации, ослабляющей его защиту.

И что делать пользователю в контексте того, что обсуждалось ранее? Возможно, он мог бы подчистить все enote, которые когда-либо получал, и не получать никакой сдачи, чтобы ключ просмотра не позволил точно сказать, сколько сдачи было отправлено, поскольку никакой сдачи попросту не будет. Но что делать, если вам понадобится купить молоко? У вас будут все эти сообщения enote, но они не будут иметь нужного для покупки молока номинала. Вот и всё — вы попали. Так что это просто не сработает. Никак не сработает в предлагаемом контексте.

А что насчёт ключа просмотра, который не позволяет увидеть сдачу? В отличие от используемого сегодня ключа просмотра, ключ просмотра, не позволяющий увидеть сообщение enote со сдачей, создаваемое при проведении каждой транзакции — и в рамках Seraphis и Jamtis предлагается реализовать возможность просмотра полученного, View Received, которая действительно позволит делать именно это. Но, главное, что я хотел доказать, и надеюсь, что вы придёте к тому же выводу после моей презентации, главное заключается в том, что если сравнивать ключи просмотра баланса, которые позволяют увидеть все входящие и исходящие транзакции, с используемыми сегодня ключами, с помощью которых можно просмотреть только входящие транзакции со всеми этими оговорками, то я считаю, что ключи просмотра баланса обеспечивают значительные преимущества, а их недостатки с точки зрения приватности, и те опасения, которые были высказаны, я рассматриваю как минимальные или непрактичные. Таким образом, ключи просмотра баланса — прекрасное решение.

Вопросы.

_**Вопрос из зала:**_ Спасибо. Этот вопрос я хотел бы задать каждому из выступающих. Мы тут обсуждаем все возможности криптовалют, имеющиеся на сегодня. Но я не помню, чтобы кто-то затронул тему цифровых идентификаторов, биометрии и потенциальной необходимости использовать их для выхода в интернет. И что будет с криптовалютой, если и когда это будет сделано? Мне кажется, что это будет тупиковая ситуация. Буду рад услышать ваши мысли по этому поводу.

_**Джастин:**_ В своё оправдание скажу, что я не говорил об этом, потому что хотел обсудить нечто очень конкретное. Но, как бы то ни было, цифровые идентификаторы и вероятность того, что они будут требоваться повсеместно — действительно довольно интересная вещь.

Один мой друг спросил меня, не хочу ли я получить бесплатный бургер в In-N-Out, а я из Калифорнии, и я ему ответил: «Ну да, конечно, кто бы хотел получить бесплатный бургер в In-N-Out? С удовольствием». И вот мы идём в In-N-Out, где выясняется, что для получения бесплатного бургера необходимо зарегистрироваться в их приложении и отсканировать своё лицо. И я этого не стал делать. Ну просто потому что мне это кажется странным. Но вы можете представить себе, как подобные стимулы заставляют людей идти на это. Я имею в виду, что вы просто должны сказать «нет». Всё зависит от вас, всё зависит от самих людей — не следует поддаваться и использовать такие технологии. Лично я пользуюсь наличными и пытаюсь убедить предпринимателей принимать Monero и не двигаться в неверном направлении.

Другими словами, криптовалюта вроде Monero никогда не будет существовать как система, требующая идентификации для её использования. Подобное никогда не будет заложено в протокол. Это система, не требующая особых разрешений...

_**Вопрос из зала:**_ ...

_**Джастин:**_ Нет, я имею в виду, что если правительство потребует, чтобы все мы сидели в своих капсулах весь день и ничего не делали, мы должны отвечать: «Нет, мы не хотим этого», и добиваться альтернативных решений, ходить и тратить свои деньги там, где нет таких требований. Я думаю, лучшее, что мы можем сделать, работая над Monero — предоставить альтернативу, при которой у вас будут деньги, не дающие никакой информации о вашей личности, когда вы будете использовать их где бы то ни было, и в идеале они будут обеспечивать наилучший пользовательский опыт, который позволит легко их тратить и получать, привлекать тех, кто хочет идти в этом направлении, помогать предпринимателям принять это, и подтолкнуть их в нужном направлении, и построить лучшую альтернативу такому потенциально возможному будущему. Я думаю, это лучшее, что мы можем сделать. Не знаю, в конечном итоге всё будет зависеть от людей, которые скажут «нет», чтобы остановить это как в социальной, так и в политической сфере. И я считаю, что имеющиеся в криптовалюте инструменты и продвижение циркулярных моделей экономики, равно как и работа с предпринимателями — это, вероятно, наилучший способ борьбы в долгосрочной перспективе. Я думаю, это построение бизнеса и построение подобных вещей, развитие которых трудно остановить, когда они достигают некоторой критической массы. Вот моё мнение.

_**Даг:**_ Отлично, отлично. Есть ещё вопросы? Подходите.

_**Вопрос из зала:**_ Возвращаясь к теме ключей просмотра, как вы думаете, существует ли обоснованный риск того, что, скажем так, «дерьмовые» кошельки будут использовать ключ просмотра баланса вместо более подходящего ключа лёгкого кошелька с Seraphis просто по причине некомпетентности или в силу злого умысла.

_**Джастин:**_ Знаете, такое возможно. Да, как я говорил ранее, это может появиться какой-то вредоносный кошелек. Но вредоносный кошелек или, если угодно, «некомпетентный» кошелёк также может собирать мнемонические фразы и делать то же самое. Поэтому, в конечном счете, пользователи должны сами защищать свои мнемонические фразы и конфиденциальную информацию и делать осознанный выбор в пользу использования кошельков, не допускают подобного.

Так что я думаю, да, в этом есть риск. Но с технической точки зрения то, что такой кошелек может предоставить пользователю, и весь смысл этого уровня лёгких кошельков сводится к тому, чтобы обеспечить некий выход, чтобы исключить вероятность подобной ситуации, за исключение случаев некомпетентности или злого умысла. И они совсем не обязательно выиграют за счёт лучшего пользовательского опыта, но за счёт, не знаю, за счёт маркетинга или чего-то еще. Людям нет до этого дела.

_**Даг:**_ Продолжайте.

_**Вопрос из зала:**_ Ещё один вопрос. Проводили ли вы анализ с использованием готовящегося к реализации ключа сканирования лёгких кошельков Seraphis, обладающего некой встроенной обфускацией, сравнивая его существующим ключом просмотра, и пытались ли произвести эвристический анализ для вычисления выходов сдачи в этом случае, или же этот аспект не исследовался?

_**Джастин:**_ Мы не исследовали это в полной мере. Надеюсь, это будет сделано ближе к очередной Monerokon, где, надеюсь, я выступлю с презентацией, в которой подробно разберусь в этом вопросе и проанализирую этот аспект. Но помимо этого есть и другие вопросы. То есть, это не идеальное решение. Я бы пока не стал утверждать, что данный уровень лёгкого кошелька защищает абсолютно всё. Сервер лёгкого кошелька может анализировать, когда вы используете кошелек, и если этот сервер в какой-то момент узнает ваш адрес, он будет получать информацию о ваших входящих транзакциях, но не о сдаче. И я говорю о том, что всё ещё остаются опредёленные сложности с точки зрения обеспечения приватности. Пока это не самый лучший вариант. Тем не менее, в конечном счёте рекомендуется использовать свой собственный узел, собственный сервер лёгкого кошелька или что-то в этом роде.

_**Даг:**_ У наших «тяжеловесов» к тебе много вопросов.

_**Вопрос из зала:**_ Поскольку мы обсуждаем влияние ключей просмотра на приватность, и, как ты утверждаешь, ключи просмотра баланса не оказывают существенного влияния на приватность в реальном мире, возникает очевидный вопрос: почему ваши ключи вообще как-то влияют на приватность?

_**Джастин:**_ Да, так и есть. Думаю, этот вопрос потенциально заслуживает внимания. Думаю, примеры использования, преимущества, возможность обладания «горячим» кошельком, в котором нет ключа траты, сводятся к тому, что это самая безопасная настройка из возможных. Поэтому если у вас нет ключа просмотра, например, или если у вас нет ключа просмотра баланса, вы не будете обладать одной из самых безопасных настроек. Так что да, проблемы есть, но я считаю, что и преимущества очень и очень значительны. Чтобы до конца быть ясным, думаю, что аргумент не должен сводиться к тому, что мы не должны сравнивать ключи просмотра в том виде, в котором они существуют сегодня, с ключей просмотра баланса. Не думаю, что они станут просто какой-то будущей пародией. Очевидные преимущества ключей просмотра баланса станут очевидны совсем скоро. И если и должен быть какой-то аргумент, то этот вполне подходит. Это моё личное мнение.

_**Вопрос из зала:**_ Привет! Вопрос такой, на самом деле два вопроса. Первый: рассматриваете ли вы возможность использования этих ключей просмотра в качестве инструмента реализации неких публичных кошельков для аудита, чтобы, например, какие-то общественные организации смогли обеспечить прозрачность своих средств? Рассматриваете ли вы это как легитимный вариант использования? И если это так, то как вы относитесь к проблеме того, что создаваемые этими кошельками выходы документируются? Как вы считаете, нужно ли их как-то пометить, чтобы исключить их использование в будущих транзакциях?

_**Джастин:**_ Понятно. Итак, первый вопрос, связанный с тем, считаю ли я допустимым использование этого ключа какой-либо организацией, прозрачной организацией, для того, чтобы любой мог видеть переводимые и отправляемые ей средства. Да, я считаю, что это допустимый вариант использования. Взять, к примеру, фонд разработчиков Monero. Думаю, там используется механизм публичных пожертвований, когда люди жертвуют свои Monero, и вполне логично, что они хотели бы знать, как эти Monero тратятся, хотели бы знать, что они никто попросту не сбежал с этими деньгами. И ключ просмотра баланса позволяет сделать это, что, на мой взгляд, является правильным вариантом использования.

Что касается проблемы, о которой вы упомянули: вы можете определить, когда тратится много Monero, и это проблема. Сегодня мы используем размер кольца, равный 16, и ваш выход является одним из 16. И если кто-то сможет увидеть и узнать, какие из этих 16 были выбраны вашим кошельком, и уже были потрачены, эффективный размер вашего кольца сократится.

Поэтому Андрей и заговорил о потенциальной проблеме. Есть такие крупные организации, которые могут «загрязнять» ваш набор выходов, и, возможно, есть способ исключить их выходы из вашего кошелька. Это уже обсуждалось. Существует инструмент маркировки под названием Black Balling, с помощью которого вы включить в чёрный список определённые выходы и запретить своему кошельку использовать их. Насколько нам известно, им никто не пользуется, и ведутся разговоры о том, чтобы совсем от него избавиться. Недавно было внесено предложение исключить из поля дополнительной информации транзакций сообщения enote, потенциально позволяющие майнерам узнать, когда они будут потрачены. Я считаю, что это довольно  сложное направление деятельности, потому что круг сценариев использования становится всё шире и шире.

Поэтому я думаю, что наилучшее направление, в котором мы могли бы двигаться, ведёт к увеличению размер кольца настолько, насколько это возможно, чтобы максимально исключить возможность влияния этой проблемы. А затем, в конечном счёте, нужно работать над доказательствами участия в полном блокчейне. Это лучшее направление, на мой взгляд. В противном случае мы потратим много времени, много рабочих циклов на решения, которые будут постоянно расширяться, и которые будет очень сложно поддерживать, что приведёт только к ухудшению пользовательского опыта.

_**Даг:**_ Отличные вопросы. Кто-нибудь ещё? Вот, есть ещё один.

_**Вопрос из зала:**_ Привет, Джастин.

_**Джастин:**_ Привет.

_**Аудитория:**_ Спасибо за выступление. Я Пол из команды Zano. Я не уверен, могу ли я задать очень технический вопрос, но мне хотелось бы, чтобы ты немного рассказал об использовании двух эллиптических кривых. Я видел, что в Jamtis используются кривые 25519 и ed25519. Не мог бы ты немного осветить этот вопрос и рассказать о недостатках использования одной ed25519? Спасибо.

_**Джастин:**_ Да, конечно. Идея использования x25519 для обмена ключами заключается в том, что при использовании x25519 скорость обмена ключами гораздо выше, поэтому мы можем получить гораздо более значительное ускорение на стороне сканирования. И, насколько я понимаю, код сможет дать более точный ответ, и об этом будет сказано чуть позже в одном из последующих выступлений. Но, насколько я понимаю, ed25519 более производительна с точки зрения подписей, в то время как x2559 с точки зрения обмена ключами. Таким образом, существуют все эти алгоритмы ECDH, при использовании которых, даже несмотря на то, что им приходится делать при сканировании, x25519 обеспечивает значительное ускорение. В этом и заключается смысл.

_**Даг:**_ У меня есть сильное искушение и дальше дать возможность задавать вопросы, поскольку тут присутствуют просто выдающиеся «тяжеловесы». Есть ли ещё какие-нибудь важные вопросы, которые стоит задать? Хорошо. Тогда давайте вместе поаплодируем Джастину Берману.

_**Джастин:**_ Спасибо.

_**Даг:**_ Спасибо тебе. Большое спасибо.
