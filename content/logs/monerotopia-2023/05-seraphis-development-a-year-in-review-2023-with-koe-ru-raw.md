---
title: "Koe - Разработка Seraphis: что изменилось за 2023 год"
date: "2023-05-06"
categories:
  - "Стенограмма"
tags:
  - "Monerotopia 2023"
lead: "Колония Рома, Мехико, Monerotopia 2023 - День 2"
pager: true
toc: false
sidebar: "right"
---

{{< youtube id="https://youtu.be/vXqy0WFbdQc" autoplay="false" >}}

---

_**Даг:**_ Итак, следующим выступит koe. Он поделится новостями разработки Seraphis. koe является разработчиком, ведущим разработчиком Seraphis, и он подробно расскажет о том, что представляет собой Seraphis. Это ведь будет крупнейшее обновление Monero за всю историю протокола? Мы ведь можем так говорить?

_**koe:**_ Да.

_**Даг:**_ Отлично. Тогда вперёд, расскажи нам об этом.

_**koe:**_ Итак, сегодня не собираюсь рассказывать о том, как работает Seraphis, а вместо этого сосредоточусь на том, что было сделано за год, прошедший после Monerokon 2022.

Итак, краткий обзор того, что происходит с Seraphis. Это новый протокол транзакций, фундаментальное решение, в рамках которого реализованы улучшенные доказательства участия, и который также позволяет строить цепочки транзакций, когда при проведении транзакции можно потратить средства, которые ещё не были добавлены в реестр. Это обеспечивает преимущества с точки зрения построения мультиподписей и проведения атомных свопов.

Помимо Seraphis мы работаем над Jamtis, новой схемой адресов, выходящей за рамки того, что обеспечивает CryptoNote, и предполагающей полное восстановление баланса с помощью кошелька просмотра, о чём сегодня уже говорил Джастин. Также схема призвана оптимизировать сохранение приватности при удалённом восстановлении баланса. Таким образом, лёгкий кошелёк, обладающий некоторыми из ваших ключей просмотра, некоторыми частями ключей просмотра, ускорит сканирование вашего локального устройства без раскрытия значительного количества информации о вашем балансе.

Также с помощью Jamtis нами была реализована возможность генерации случайных адресов. Подадреса, добавленные в CryptoNote, не позволяли восстановить индекс адреса при сканировании блокчейна. Поэтому, когда вы сканировали блокчейн и находили enote, который мог бы принадлежать вам, приходилось сопоставлять его с заранее вычисленной таблицей подадресов, с которыми мог бы быть связан ваш. Таким образом, вы должны были знать эту таблицу заранее. И если бы enote отправлялся на случайно сгенерированный подадрес, то как бы этот подадрес оказался в вашей предварительно вычисленной таблице? Например, если вы восстанавливаете свой баланс с нуля, то, скажем так, вы сбрасываете все свои записи. Но Jamtis решает эту проблему простым шифрованием индекса и размещением его в enote.

Мы также работаем над решением некоторых относительно небольших проблем. Так мы пытаемся минимизировать возможность атаки Януса, исправить «баг сжигания», который присутствует в протоколе мультиподписи и других подобных протоколах, и можем реализовать «доказательства индекса», о которых я расскажу позже. Если кратко, они позволяют доказать, на базе конкретно какого индекса был построен ваш адрес. Кроме того, мы придумали, как обеспечить «опережающую приватность» против DLP-солвера, программы решения задачи дискретного логарифмирования. То есть, если квантовый компьютер сможет проанализировать содержимое блокчейна,то enote, созданные с помощью Jamtis, большая часть информации, содержащейся в этих enote, (то большая чать информации, содержащейся в этих enote, созданные с помощью Jamtis,) останется для него закрытой. Но это условно, поскольку существуют определённые требования. Так, если вы дадите квантовому компьютеру определённую информацию, он сможет вскрыть весь ваш баланс. Вот, что такое условная «опережающая секретность».

Итак, за последний год мы некоторым образом улучшили Jamtis если сравнивать с тем, о чём я говорил год назад.

Мы находимся в процессе разработки нового протокола. За последние полтора года мне часто казалось, что всё уже сделано, и работать больше не над чем. Но с течением времени я постоянно нахожу новые идеи или сталкиваюсь с новыми проблемами, которые можно решить. И вот я в очередной раз достиг той точки, когда мне кажется, что всё на своих местах. Так что каждый из аспектов, о которых я буду говорить, это очередная итерация того, о чём говорилось в прошлом году.

Итак, «баг сжигания» был обозначен Люком как проблема, требующая обязательного решения, если это будет возможно. По сути, «баг сжигания» заключается в том, что вы можете создать несколько идентичных enote и поместить их в блокчейн посредством транзакций. А в силу их идентичности может быть потрачен только один из всех этих enote. Но при восстановлении баланса вы найдёте все enote, являющиеся дубликатами. Поэтому может случиться так, что вашему кошельку придётся отслеживать все дубликаты и следить за тем, чтобы вы видели ровно столько средств, сколько соответствует одному из дубликатов. И вы наверняка захотите  потратить дубликат с наибольшей суммой, а все остальные проигнорируете. В противном случае кто-то может прислать вам небольшую сумму с адресом дубликата enote, и если вы потратите эту небольшую сумму, все остальные enotes окажутся неизрасходованными, включая enote с наибольшей суммой, который вы действительно хотели бы потратить. Таким образом, мы получаем своего рода вектор атаки, и если вы не будете достаточно осторожны, ваши средства могут быть сожжены.

И это особенно проблематично в случае с протоколами, использующими мультиподпись, поскольку при переводе средств на кошелёк, поддерживающий схему мультиподписи, вы ожидаете, что всё гарантированно пройдёт, как положено. При создании мультиподписи вам ни к чему появление дубликатов, так как это может нарушить инвариантность используемого вами протокола. Поэтому мы исправили «баг сжигания», добавив в процесс построения enote некоторую уникальную информацию. Теперь, всякий раз создавая enote, вы добавляете в него такую уникальную информацию, так что при восстановлении enote всё пройдёт успешно только в том случае, если вы будете использовать эту уникальную информацию и надлежащим образом выполните все необходимые шаги. Ну а если два enote имеют повторяющиеся адреса, один из них никогда не будет обнаружен благодаря уникальной информации, добавляемой в процессе построения, так как, по сути, для восстановления одноразовых адресов в процессе, использующем такую уникальную информацию, вам придётся найти конфликтующие хеши. А включаемая нами уникальная информация является обычным образом ключа транзакции, в которую будет помещён enote, или же, в случае с coinbase-транзакцией, это будет высота блока, на которой будет обнаружена транзакция.

Поэтому важной, несколько недооценённой частью общей криптовалютной структуры является возможность создания доказательств созданных вами транзакцийя(х) и полученных enote, позволяющих, например, в случае конфликтной ситуации доказать, что вы заплатили поставщику некоторую сумму и можете ожидать что-то взамен. И вот в процессе размышления над реализацией этих доказательств в Seraphis и Jamtis я понял, что по-настоящему полезной информацией являются индексы адресов Jamtis. То есть, как у обычного подадреса есть индекс, так и у адреса Jamtis тоже есть свой индекс, и вы владеете большим набором адресов, у каждого из которых есть свой индекс. И возможность доказательства принадлежности индекса конкретному адресу может быть очень полезной. Поэтому мы внесли некоторые изменения в Jamtis, позволяющие реализовать такие доказательства.

Наконец, было много шума по поводу того, будут ли квантовые злоумышленники представлять для нас угрозу в будущем. И одна из проблем, связанных с подобного рода угрозой, заключается в том, что такие злоумышленники могут просматривать, а сегодня безопасность криптовалют основывается на том, что дискретный логарифм не может быть «взломан». Но квантовый злоумышленник будет способен решить задачу дискретного логарифмирования. Возникает вопрос: какую именно информацию в перспективе сможет получить такой злоумышленник? И в процессе обдумывания этого вопроса в контексте Seraphis и Jamtis, я пришёл к выводу, что в Jamtis можно внести некоторые изменения, позволяющие сократить объём раскрываемой информации. В этой презентации решение не достаточно подробно, но если вы захотите узнать больше, я написал сопутствующую статью в дополнение к документу по Seraphis, в которой рассматриваются способы реализации, и в ней есть раздел, посвящённый проблеме «опережающей секретности».

В процессе разработки протокола, помимо возможностей, важно учитывать, насколько эффективны будут вносимые изменения. В Jamtis был реализован целый ряд оптимизаций, направленных на то, чтобы сделать восстановление баланса максимально быстрым и эффективным. Ещё один момент, который необходимо учитывать: Jamtis - это схема адресации с несколькими приватными ключами. И здесь возникает вопрос. Например, существует ключ генерации адресов, который можно передать кому-либо для создания произвольных адресов для вашего кошелька. Так, например, торговая точка может иметь ключ генерации адреса, который используется для создания новых адресов для каждой новой продажи. И есть ещё один ключ, «ключ поиска принятых средств», который используется лёгким кошельком для сканирования блокчейна с минимальной утечкой информации.

Но что произойдёт, если объединить ключи генерации адресов и поиска принятых средств? Хотелось бы быть уверенными в том, что подобное объединение не приведёт к появлению нового уровня кошелька, который будет более уязвимым, чем допускает протокол. Поэтому в прошедшем году мною была добавлена одна вещь под названием «разблокировка суммы», которая гарантирует, что объединение ключа генерации адреса и ключа поиска принятых средств не позволит вам разблокировать суммы и enote.

Мы также определились с конструкцией тегов адресов. Теги адресов - это зашифрованная форма индекса, который находится в вашем адресе. Тег адреса добавляется в адрес, а затем уже сам снова шифруется и вставляется в enote. При восстановлении баланса тег адреса расшифровывается один раз, после чего расшифровывается ещё раз, чтобы извлечь индекс. Затем, в течение всего процесса восстановления баланса  используется уже полученный индекс. И эта конструкция была усовершенствована - мы реализовали 16-байтовый индекс с дополнительной 2-байтовой подсказкой для расшифровки. Подсказка используется для оптимизации. Это своего рода фильтр между этапами процесса восстановления баланса. Подсказка вычисляется с помощью простого хеша, а затем, если подсказка не воспроизводится, процесс восстановления баланса можно прервать, пропустив последующие шаги, которые являются более затратными с точки зрения вычислений. Размер в 16 байт был выбран потому, что является стандартным для устойчивой случайной генерации индексов без риска возникновения конфликтов.

Я пропущу пункт с транзакциями с двумя выходами, поскольку это лишь детали, связанные с оптимизацией. То есть, когда мы проводим оптимизацию и у нас имеется транзакция с двумя выходами, требуется только один эфемерный ключ, который может быть разделён между двумя enote. А в случае с Jamtis всегда требуется один эфемерный ключ на enote, то есть, выход транзакции. И для того, чтобы реализовать транзакцию с двумя выходами оптимизацию при наличии адресов Jamtis, которые не имеют общих эфемерных базовых ключей, потребовалось некоторое изящество.

И, наконец, что касается замены эллиптической кривой Диффи-Хеллмана, являющейся отправной точкой для восстановления баланса...

_[Обрыв связи]_

Связь прервалась?... Замена кривой Диффи-Хеллмана...

Оказалось, что использование другой кривой, которая… не знаю, как это правильно сказать, которая очень похожа на Ed25519, приводит к существенному повышению скорости, поскольку эта кривая оптимизирована для такого использования. Поэтому, мы поменяли кривые конкретно в части восстановления баланса. Но это никак не влияет на что-либо иное, связанное с транзакциями, включая адреса —адреса Jamtis по-прежнему используют Ed25519. А tevador реализовал библиотеку, которую я использовал, чтобы измерить показатели увеличения скорости. И теперь можно перейти, собственно, к разговору о библиотеках.

Итак, мною была написана библиотека для Seraphis, включающая в себя протокол, а также вспомогательные функции, такие как восстановление баланса. Что касается самого протокола, то за последний год было реализовано несколько вещей. Одна из них - «дискретизированные комиссии». Насколько мне известно, в настоящее время во всех криптовалютах комиссии за проведение транзакции сильно привязаны к обстоятельствам и номиналу базовой валюты. То есть, комиссия точно вычисляется, исходя из номинала XMR, и поэтому может составлять 0,013578 или совершенно иную сумму. Таким образом, количество возможных значений комиссии равно общему количеству возможных сумм, которые могут существовать в данной валюте.

Проблема состоит в том, что когда вы выбираете комиссию, её размер зависит от текущего контекста: каков приоритет, каковы условия в сети в момент выбора комиссии - чтобы опередить другие транзакции по мере заполнения блоков, требуется, чтобы приоритет вашей транзакции был выше. Таким образом, комиссии, которые в большей степени привязаны к всевозможным условиям, могут стать источником довольно точной информации. Например, указать на то, когда была выбрана комиссия, и какое программное обеспечение для этого использовалось. И идея дискретизированных комиссий состоит в том, чтобы свести общее количество возможных значений комиссий к минимуму, отбросив при этом незначительные детали контекста, в рамках которого будет выбираться комиссия.

Кроме того, в рамках библиотеки был реализован процесс «миграции унаследованных enote», позволяющий тратить старые enote, созданные в соответствии с протоколом CryptoNote, в транзакциях Seraphis. Это делает процесс перехода абсолютно бесшовным. Также мной был реализован coinbase тип транзакции Seraphis, который поддерживает enote Serasphis для выходов.

Так что с точки зрения самой библиотеки эти изменения влияют только на пользовательский опыт. Мною был реализован солвер для выбора выходов, который используется, например, в тех случаях, когда требуется перевести некоторую сумму денег и необходимо выбрать входы из тех enote, которыми вы владеете, чтобы потратить их. И солвер будет делать это за вас.

А вот работа над этим средним пунктом в прошедшем году заняла больше всего времени - «концепция восстановления баланса», позволяющая сканировать блокчейн, находить все принадлежащие вам enote или определять, когда они были потрачены, обновлять хранилище enote со всеми их статусами, независимо от того, находятся ли они в цепочке или в пуле транзакций, а также осуществлять реорганизацию, при которой будут произвольно отбрасываться блоки, находящиеся в блокчейне. Это фундаментальная и очень важная часть того, что делает криптовалюта, потому что криптовалюта прежде всего предназначена для перевода денег, и возможность нахождения своих средств - единственное, что всех действительно волнует. И чтобы всё работало надлежащим образом, требуется невероятный объём «фоновой» работы.

Мне также пришла в голову идея реализации «контрольных точек идентификации блоков». Сегодня кошелёк Monero отслеживает каждый идентификатор блока для всех транзакций или для всех блоков, просканированных этим кошельком. Он сохраняет каждый идентификатор блока, чтобы при восстановлении баланса в будущем надлежащим образом справиться с реорганизацией. Но проблема заключается в том, что в блокчейне очень много блоков, их миллионы. И если сохранять идентификатор каждого блока, то их объём в кэше кошелька составит множество мегабайт, что серьёзно увеличит требования к хранению данных в кошельке. Поэтому в сотрудничестве с ghostway я реализовал контрольные точки идентификации блоков, благодаря которым в кошельке можно хранить незначительное количество идентификаторов блоков, что позволяет значительно уменьшить размер кошелька.

Также в рамках библиотеки мною были реализованы некоторые части схемы мультиподписи. Существующий вариант схемы не очень подходят для переноса. Поэтому я реализовал ряд улучшений для унаследованной части. Так как мы тратим унаследованные enote в транзакциях Seraphis, кошельки, поддерживающие схему мультиподписи, также должны иметь такую возможность. Поэтому я добавил то, что назвал «церемонией восстановления образа ключа». Образы старых ключей могут быть вычислены только в том случае, если вы знаете ключ траты вашего кошелька. Но в случае с мультиподписью ключа траты неизвестен никому. Поэтому для получения образов ключей унаследованных enote при использовании кошелька, подерживающего мультиподпись, необходимо взаимодействие всех участников группы. Сегодня образы ключей можно восстановить путём простого суммирования долей ключей. Но этот способ ненадёжен. Именно поэтому я и реализовал более надёжную церемонию восстановления образов ключей.

Мною также был реализован процесс перехода между счетами. Старые счета, кошельки, использующие схему мультиподписи, в будущем должны стать кошельками Seraphis, также поддерживающими мультиподпись. Поэтому я реализовал церемонию перехода, которую могут пройти существующие группы, чтобы их обновлённые кошельки Seraphis продолжали работать, как и положено.

Используемая сегодня концепция мультиподписи работает, как алгоритм Round Robin. Когда вы инициируете транзакцию, вы рассылаете частичную транзакцию участникам группы, пока не соберёте полную подпись. И если у вас несколько участников группы, передача сообщений этим участникам может занять некоторое время. В качестве альтернативы я реализовал процесс подписания «в стиле агрегации», когда вы просто отправляете предложение проведения транзакции по схеме мультиподписи, а затем все участники группы высылают так называемые «подтверждения открытия подписи», после чего каждый участник группы отвечает на сообщение других членов, и на этом процедура подписания завершается. Это окончание одного раунда подписания. И мною было реализовано подписание в стиле агрегации как для унаследованных доказательств, так и для доказательств Seraphis, то есть, сложных доказательств CLSAG и Seraphis.

Одним из преимуществ созданной мной библиотеки является возможность надёжной проверки предложений проведения транзакции по схеме мультиподписи. Допустим, кто-то предлагает провести такую транзакцию. Все ли enote, все ли входы этой транзакции будут действительными? Структурировано ли предложение транзакции таким образом, что транзакция будет реально проведена? Нет ли в нём ошибок, которые могли бы привести к сбою на каком-то этапе процедуры подписания? Таким образом, с помощью библиотеки можно полностью проверить предложение проведения транзакции по схеме мультиподписи, что невозможно было сделать в рамках существующей библиотеки. В целом, можно сделать вывод, что в транзакциях Seraphis, поддерживающих мультиподпись, можно будет расходовать как средства Seraphis, так и «унаследованные» средства.

Теперь мы можем перейти к доказательствам знания Seraphis. По сути, это то, что я называю «концепцией аудита» или «концепцией доказательства знания». Это все доказательства, связанные имеющимися у вас enote и проведёнными вами транзакциями, которые вы можете написать или построить с помощью Seraphis и Jamtis. Итак, у нас имеется «доказательство владения адресом», есть «доказательство индекса адреса», есть доказательство, позволяющее узнать, владеете вы enote или нет, доказательство суммы в enote, доказательство принадлежности образа ключа конкретному enote, доказательство того, был потрачен enote в блокчейне или нет - и это важно, поскольку позволяет избежать раскрытия образа ключа enote, который, как вы хотите доказать, ещё не был потрачен.

Таким образом, можно просто создать доказательство образа ключа, и тогда образ ключа будет указывать на то, был потрачен enote или нет. Но в будущем тот, кому вы передадите доказательство образа, сможет использовать этот enote, чтобы определить, когда он был потрачен. Это своего рода постоянное доказательство, но доказательство отсутствия траты является действительным только для тех транзакций, на которые вы ссылаетесь в доказательстве. Поэтому, если размер кольца невелик, вы можете создать доказательство отсутствия траты для каждой транзакции, которая ссылается на ваш enote во входящей кольцевой подписи. И если вы создадите доказательство отсутствия траты для всех этих транзакций, то верификатор будет знать, что enote, обладание которым вы предположительно доказали, является неизрасходованным.

Также можно создать доказательство наличия средств, необходимых для проведения транзакции. Оно бы подтверждало, что вы владеете enote, который тратится в транзакции, не раскрывая ни самого enote, ни суммы, что, я считаю, может быть полезно.

Также у нас имеется «доказательство отправки enote», которое доказывает, что enote принадлежит определённому адресу и имеет определенную сумму. По сути, доказательство отправки enote - это просто доказательство принадлежности и доказательство суммы, объединённые вместе.

Ну и в завершение мы имеем «доказательство зарезервированного enote» и «доказательство резервирования». Так, доказательство зарезервированного enote доказывает, что enote принадлежит вам и не сохранён в блокчейне в качестве потраченного. А доказательство резервирования - это набор доказательств зарезервированных enote, доказывающий, что у вас есть определённая сумма, совокупные средства, принадлежащие вам на тот момент, когда вы создаёте такое доказательство. Но после создания доказательства оно может стать недействительным, поскольку enote, на которые оно ссылалось, будут потрачены.

Итак, я рассказал о том, что было сделано за прошедший год, а теперь мы можем поговорить о том, что нас ждёт впереди.

Работа над Seraphis в основном завершена - библиотека находится в достаточно стабильном состоянии, хотя, возможно, предстоят небольшие изменения, связанные с полем дополнительной информации транзакций, но это уже больше связано с кошельком, или полем для комментариев. Но в остальном библиотека готова. Я обновил черновик документа, добавил документ по реализации Seraphis, который, по сути, является сопроводительным документом, в котором говорится о Jamtis. И помимо предоставления доказательств безопасности по этим документам и рецензирования кода, что нам действительно нужно дальше, так это кошельки, созданные с использованием данной библиотеки, то есть, кошельки, поддерживающие схему мультиподписи, обычные кошельки, аппаратные кошельки, лёгкие кошельки и так далее.

Ещё одна вещь, требующая реализации в будущем, является специфической для Seraphis, но я надеюсь, что мы сможем её внедрить. Это «алгоритм расчёта комиссий». В Monero, когда вы выбираете комиссию за проведение транзакции, вы берёте минимальную комиссию, а затем применяете к ней некоторый множитель - однократный, двукратный или четырёхкратный, что-то в этом роде. Но результат будет очень неточным, так как не учитывает, не упрощает механизм определения ставок в пространстве транзакций - вы можете создать альтернативный кошелёк, который будет игнорировать множители при расчёте комиссий и будет использовать один множитель по умолчанию или систему приоритетов. А алгоритм расчёта комиссий просто учитывает объём последних транзакций и оценивает необходимое количество блоков или примерное время подтверждения при определённой комиссии, которую вы можете использовать. А затем в этот расчёт можно включить и приоритет, чтобы ваша транзакция была быстрее включена в блок. Это будет своего рода демонстрация технологии, которая должна быть реализована.

В порядке исследования Monero нами обсуждались дополнительные варианты оптимизации транзакций. Мы с большим энтузиазмом относимся к полному отказу от этого поля. Мы также с энтузиазмом относимся к идее превращения поля произвольной длины с произвольным содержанием в поле фиксированного размера, которое кошелёк будет шифровать по умолчанию, что значительно повысит приватность этого поля.

С криптографической точки зрения доказательства диапазона и доказательства участия всегда открыты для оптимизации. Так нами рассматривались Bulletproofs++, а затем было предложено новое доказательство диапазона под названием Constant Size, призванное ускорить создание и уменьшить размер доказательства диапазона. Кроме того, ведутся исследования в области доказательств участия с нулевым разглашением, которые позволят ссылаться на все enote, имеющиеся в блокчейне, и тогда нас уже не так сильно будет волновать проблема кольцевых подписей.

Вот над чем я планирую поработать в будущем. То есть,  для завершения документов по Seraphis требуются доказательства безопасности, которые я не могу предоставить самостоятельно, а потому буду искать помощи в решении этой задачи.

Поскольку библиотека Seraphis находится в стабильном состоянии, я планирую заняться разработкой кошелька, хотя, вероятно, и здесь не буду основным участником работы.

Также я задумываю создать эффективный эскроу-рынок, который бы бесшовно использовал схему мультиподписи «2 из 3». То есть, продавец и покупатель не видели бы всех криптографических и математических механизмов, которые бы работали в фоновом режиме. Они бы просто взаимодействовали в той последовательности, которая была бы им понятна, без каких-либо дополнительных шагов, связанных с обменом ключами, который, как мне кажется, может нарушить такое взаимодействие. Поэтому на MoneroKon 2023 я планирую представить проект протокола, который будет использовать множество нестандартных оптимизаций с точки зрения счетов, поддерживающих схему мультиподписи, и подписания. А затем, в конечном счёте, я напишу демонстрацию на C++, чтобы приблизительно показать, как всё это сочетается. И, наконец, возможно, когда-нибудь я напишу целый документ по мультиподписи, потому что за прошедшие с момента предыдущих публикаций Исследовательской лаборатории Monero годы её дизайн претерпел множество итераций.

И это всё, о чём я планировал сегодня рассказать. Документы выложены у меня на GitHub. Мною написан обзор технического решения, с которым можно ознакомиться, если вы захотите узнать о том, что имеется в предложении Seraphis более подробно, чем было изложено в рамках этой презентации. Для удобства я использую bit.ly. И, конечно, что касается Jamtis, теперь данные по этой схеме также продублированы в документе по реализации Seraphis, который тоже можно найти по этой ссылке на GitHub. И ещё одно последнее замечание - tevador разработал некоторые схемы URI для Jamtis, которые могут заинтересовать тех, кто занимается технологиями, связанными с торговлей.

Вопросы?

_**Модератор:**_ Есть ли у кого-нибудь вопросы к koe?

_**Вопрос из зала (Андрей):**_ Прежде всего, вы проделали просто великолепную работу по развитию данной технологии. Но у меня вопрос более общего характера. Вчера мы широко обсуждали влияние разработчиков на процесс принятия решений в блокчейн-проектах. И у меня такой вопрос: существуют самые разные проекты, и, в некоторых проектах, например, разработчики просто принимают решения, хотя проект должен быть децентрализованным. Но в руках разработчиков сосредоточено слишком много власти. В то же самое время в других проектах, в том же Bitcoin, например, в силу обширности сообщества разработчиков бывает очень трудно достичь консенсуса, и у них возникают проблемы. Так, например, они не могут принять решение, включать или не включать какую-то функцию, такую как замену комиссий. Поэтому иногда возникают проблемы с продвижением некоторых технологий. И мой вопрос будет следующим: каким вы видите будущее Monero, насколько сильным должно быть влияние разработчиков на процесс принятия решений? Каково ваше мнение на этот счёт?

_**koe:**_ Думаю, в долгосрочной перспективе мы должны стремиться к минимизации влияния или минимизации количества решений, которые могут быть приняты, а также минимизации частоты их принятия. Просто потому, что в долгосрочной перспективе нет никакой гарантии, что люди, вовлечённые в проект в будущем, будут иметь такую же приверженность идеалам, что и существующие участники проекта, или даже если они будут привержены им, то и решения всегда будут хорошими. Поэтому я считаю, что чем меньше решений принимается, тем лучше, и именно поэтому я с таким рвением взялся за Seraphis. Мы пытаемся решить как можно больше проблем, чтобы затем в будущем принимать как можно меньше решений.

Я считаю, что принятие решений - это очень сложный вопрос, на который нельзя дать конкретный или короткий ответ. Всё как бы складывается из людей, вовлечённых в проект, личностей, прецедентов, которые были созданы, того, как принимались предыдущие решения, а также того количества энергии, которое люди привнесли в обсуждение различных вопросов. Всё это как бы сливается воедино. И я думаю, что это мощно и одновременно опасно. Именно потому, что всё так аморфно. Вот моё мнение.

_**Модератор:**_ Ещё вопросы? Подходите.

_**Вопрос из зала:**_ Привет, koe. Меня зовут Рубен. Приятно наконец-то встретиться «воочию». Один довольно общий вопрос. Я не очень следил за Seraphis, за тем, как протокол был воспринят сообществом. Очевидно, все в восторге от него. Но есть ли в нём что-то, что беспокоит людей? Есть ли сторона, которая, например, говорит: «Давайте не будем реализовывать Seraphis». Есть ли какие-то опасения по этому поводу, или же все и во всём согласны?

_**koe:**_ На мой взгляд, есть несколько моментов, вызывающих беспокойство. Один из них заключается в том, что переход на новую схему адресации является значительным изменением всей экосистемы. В связи с этим возникает вопрос, действительно ли стоит идти на такие серьезные изменения? И другой вопрос, который уже поднимался, заключается в том, является ли Seraphis тем правильным направлением, в котором должен двигаться проект? Возможно, вкладывая столько средств в Seraphis, мы упускаем из виду другие пути. Но я считаю это своего рода спекулятивным опасением, но и с ним мы должны считаться и не зацикливаться на одном решении.

Я не знаю, какие ещё критические замечания были высказаны, но, возможно, я недостаточно внимателен. Так что если они есть у вас, озвучьте их, чтобы я не сбился с пути.

_**Модератор:**_ Если есть другие вопросы, пожалуйста, подходите.

_**Вопрос из зала:**_ Привет, koe. Отличная работа. Многое уже сделано, так что поздравляю. Я хотел бы спросить тебя о будущей секретности, которую ты упоминал. Это так называется?

_**koe:**_ Опережающая секретность?

_**Аудитория:**_ Да, и по поводу квантового солвера задачи дискретного логарифмирования. Правильно ли я понимаю, что Seraphis решает эту проблему, и, если я всё-таки всё правильно понял, насколько сложным было решение? Не мог бы ты немного рассказать об этом? Спасибо.

_**koe:**_ На самом деле всё оказалось не так уж и сложно. Обязательства Педерсена уже обладают этим свойством, поскольку они идеально скрывают информацию. Поэтому мы можем просто перенести этот принцип на саму схему адресации. Таким образом, даже если вы получите дискретный логарифм компонентов адреса… Адрес состоит из трёх генераторов, и к каждому из этих генераторов прикреплены три ключа. И если каждый из этих ключей будет открыт для солвера, то сколько информации он получит, зная эти части информации? Но если каждая из этих частей имеет идеально скрывающий её компонент, то никакая информация о вашем кошельке в целом или, может быть, о сумме средств в транзакциях не будет раскрыта. Математические подробности прописаны в документе, но если вы будете знать, что какая-то часть информации может быть раскрыта солвером, то вам следует убедиться, что это не раскроет напрямую ваши приватные ключи. То есть, в результате у вас будет, например, приватный ключ плюс маска, плюс ещё одна маска и так далее.

_**Вопрос из зала:**_ Ты говорил о возможном переходе к использованию глобальной анонимной группы после реализации Seraphis. Как ты думаешь, насколько это важно, и не видишь ли ты в этом угрозы, ведь другие проекты уже делают это?

_**koe:**_ Я думаю, что в долгосрочной перспективе это критически важный шаг, который должен быть сделан. Я думаю, что к достижению этой цели мы должны идти постепенно, не предпринимая слишком амбициозных шагов, в правильности которых мы не будем уверены. Zcash, например, всячески стремились к созданию глобальной анонимной группы, а закончилось всё вводом доверенных настроек. Но мы вовсе не хотим ввязываться во что-то, что противоречило бы целям и обязательствам проекта перед пользователями.

_**Вопрос из зала:**_ Я просто хотел бы получить некоторые разъяснения по поводу противодействия квантовой угрозе. Это ведь никак не касается доказательств участия, верно?

_**koe:**_ Насколько мне известно, оно не раскрывает никакой информации о группе участников. Опережающая секретность... Думаю, она присутствует, но это действительно требует строгого доказательства. Не должно раскрываться никакой информации о людях, чьи адреса неизвестны солверу.

_**Модератор:**_ Вопрос от Саранга. Он спрашивает, где можно найти все эти доказательства?

_**koe:**_ Все доказательства знания? Я написал об этом, это есть в одной из работ по Seraphis. Это есть в документе по реализации Seraphis на GitHub. Оба документа можно найти по этой ссылке на GitHub. Там всё есть.

_**Модератор:**_ Есть другие наболевшие вопросы? Подходите.

_**Вопрос из зала:**_ Принято ли уже решение относительно размера кольца, на который вы хотите перейти? Или решение пока ещё только принимается?

_**koe:**_ Этот вопрос пока не решён. Но я упоминал размер кольца, равный 128, обеспечивающий сходные характеристики с тем, что мы имеем сейчас с 16 участниками.

_**Модератор:**_ Кто-нибудь ещё?

_**koe:**_ Я действительно думаю, что если бы мы могли получить лучшее доказательство диапазона, то было бы оправданно увеличить размер кольца до 256. Но это моё личное мнение, и особого энтузиазма по этому поводу не наблюдается.

_**Модератор:**_ После этого мы уйдём на перерыв, а пока у меня есть к вам один вопрос, сэр.

_**koe:**_ Давай.

_**Модератор:**_ После работы над столь значительными изменениями в таком крупном проекте, что ты посоветовал бы для будущих крупных проектов? Что из того, что ты узнал, ты хотел бы передать другим разработчикам, руководителям проектов, людям, которые, возможно, захотят профинансировать крупный проект? На что им следует обратить внимание, чтобы быть уверенными в успехе проекта в будущем?

_**koe:**_ Это чрезвычайно сложный вопрос.

[...]

_**Модератор:**_ Возможно, придётся.

_**koe:**_ Это действительно сложный вопрос. Я бы сказал, что заниматься действительно большими проектами можно только в том случае, если они оказывают по-настоящему большое влияние на реальные свойства вашей системы. Так, с помощью Seraphis мы получаем значительно улучшенные доказательства членства. Изначально идея Seraphis пришла мне в голову, потому что я пытался понять, как можно было бы реализовать глобальные доказательства участия. Так что Seraphis ориентирован на обеспечение глобальных доказательств участия. И мы действительно достигли прогресса в обсуждении таких доказательств, потому что Seraphis, само решение Seraphis действительно откалибровано под это пространство.

Jamtis - это значительное улучшение для кошельков просмотра, которые некоторые люди не считают чем-то действительно необходимым. Но они по-настоящему ценны с точки зрения экосистемы в целом. Вот моё мнение. Но, вероятно, на эту тему можно сказать ещё немало интересного.

_**Даг:**_ Отлично. Ещё один вопрос, а затем мы прервёмся на короткий обед. Всего на полчаса.

_**Вопрос из зала:**_ Спасибо за сегодняшнее выступление. Я хотел бы поздравить вас с проделанной работой. Действительно вдохновляет видеть то, как вы с головой погрузились в работу. И я знаю, что при разработке Seraphis у вас не было всех ответов, вы были открыты для обратной связи. И было здорово наблюдать, как люди в сообществе могли сотрудничать в рамках такого грандиозного начинания. Я хотел спросить вот о чём: изначально ты пришёл из MobileCoin, это была такая «точка входа» в Monero...

_**koe:**_ Я работал с Monero до MobileCoin, написал книгу «Monero с нуля», а уже после этого работал с MobileCoin.

_**Вопрос из зала:**_ Каким ты видишь этот проект сейчас? Происходит ли там что-то, на что нам следует обратить внимание с точки зрения технологий?

_**koe:**_ В последнее время я не следил за MobileCoin, поэтому не могу ничего прокомментировать.

_**Вопрос из зала:**_ Хорошо, спасибо.

_**Даг:**_ Chaotic, как всегда, со своими острыми вопросами.

Ладно, думаю, на этом мы закончим. Давайте все вместе поаплодируем koe. Спасибо. Это было просто потрясающе.
