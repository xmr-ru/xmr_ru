---
title: "Элизабет Бинкс - Атомарные свопы ETH-XMR"
date: "2023-05-06"
categories:
  - "Стенограмма"
tags:
  - "Monerotopia 2023"
lead: "Колония Рома, Мехико, Monerotopia 2023 - День 2"
pager: true
toc: false
sidebar: "right"
---

{{< youtube id="wKWxxzwiKAI" autoplay="false" >}}

---

_**Даг:**_ Большое спасибо, что присоединилась к нам.

_**Элизабет:**_ Спасибо. Круто. Экран включён? Хорошо, отлично.

Всем привет. Я рада присутствовать здесь. Я собираюсь рассказать об атомных свопах ETH-Monero. Но сначала немного о себе. Я занимаюсь разработкой программного обеспечения, разработкой блокчейн-протоколов уже чуть более пяти лет, и последние несколько лет работала над реализацией множества классных вещей.

Итак, о чём мы будем говорить. Сначала я расскажу о состоянии протокола проведения свопов, затем запущу демонстрацию, потому что она займёт около 20 минут, а потом сделаю небольшой обзор свопа, расскажу, как это работает, как этим пользоваться, расскажу о планах, а затем мы завершим демонстрацию.

Немного истории атомных свопов для тех, кто может быть не в курсе. По сути, это P2P-технология, позволяющая обмениваться двумя разными активами между блокчейнами, и в данном случае это будут Ether и Monero. «Атомный» означает, что либо своп проходит успешно и обе стороны получают свои средства, либо своп переходит в стадию возмещения, и обе стороны получают свои средства обратно. Это криптографически гарантированно обеспечивается протоколами проведения свопов.

Коротко о прогрессе. Как уже сказал Даг, в прошлом году я выступила на Monerotopia с демонстрацией в отладочной сети. С того момента удалось многого достичь, и протокол проведения свопов был реализован уже в основной сети. Да, это произошло. Так что все, кто хочет попробовать воспользоваться им, могут смело это сделать.

Хотелось бы поблагодарить всех за финансирование, выразить благодарность MAGIC за организацию и помощь в осуществлении второго раунда сбора средств. И, как сказал Даг, MAGIC - это действительно круто, потому что исключает возможность налогообложения, если вы являетесь гражданином страны. Лично я не являюсь, но если вы гражданин, тогда это круто. Также спасибо всем контрибьюторам кодовой базы. Код является открытым для всех контрибьюторов, и написан на языке Go. Go очень прост, так что если вы хотите внести свой вклад, просто зайдите в репозиторий, где вы найдёте хорошие начальные версии.

Итак, я запускаю демонстрацию. Сейчас я покажу, как происходит своп в основной сети. Для начала я немного увеличу, а то всё будет не очень понятно. Немного сложно делать это одной рукой. Хорошо. Так достаточно? Итак, на данный момент своп работает только через командную строку, поскольку пользовательский интерфейс, к сожалению, отсутствует, потому что это сложно, и я просто не знаю, как его сделать. Таким образом, для запуска мы используем командную строку, которую максимально упростили. На GitHub выложены двоичные файлы, которые можно скачать для Mac или Linux. Если вы работаете под Windows, рекомендуется использовать Docker, потому что я не пользуюсь Windows, и я не знаю, как собрать отдельный дистрибутив для этой системы. Так что вы сами можете собрать его из исходников или работать через Docker. Мой компьютер работает медленно. Пожалуй, удалю некоторые из строк, некоторые из них устарели.

_**Модератор:**_ Настраивай демонстрацию, а я подержу микрофон.

_**Элизабет:**_ Да, было бы здорово. Спасибо. Итак, как только всё будет готово, вы можете сделать сборку, он сам её сделает, а я просто изменю сборку и покажу двоичные файлы. По сути, мы имеем демон свопа CLI свопа для взаимодействия с ним. Демон свопа - это одноранговая программа, использующая библиотеку P2P. Когда вы инициируете своп, демон подсоединяется к одноранговой сети, после чего может взаимодействовать в ней со всеми остальными узлами. Так вы находите предложения, имеющиеся в сети.

Итак, у меня есть двоичные файлы, и я просто запущу их. На самом деле они уже работают, поэтому я не стану перезапускать их. Но я покажу вам некоторые команды и прочие вещи. Всё работает очень медленно. Боже, я знала, что так и будет. Ладно, неважно. В общем, здесь вы можете увидеть кучу значений конфигурации и прочей информации. В принципе, если вы запускаете своп в основной сети, единственное, что вам нужно указать, это конечные точки Monero и Ethereum. Если у вас запущен демон Monero, он подключится автоматически, в противном случае вам придётся указать всё это. В любом случае, тут он уже запущен.

Итак, я собираюсь опросить мои узлы. Первое, что я могу сделать, это проверить наличие предложений в сети. Сейчас у меня их два, потому что одно будет принадлежать «создающей стороне», а другое - «принимающей стороне». Так что, по сути, это все предложения на данный момент. Ещё одна особенность такого свопа заключается в том, что из-за ограничений протокола «создающей стороной» могут быть только владельцы Monero, а владельцы ETH могут быть только «принимающей стороной». К сожалению, в силу определённых причин это пока так, но я думаю, что в случае со свопами Bitcoin существует точно такое же ограничение. Поэтому, в настоящее время все предложения создаются в Monero, а если у вас есть ETH, то вы сможете их принять. И я могу проверить все предложения, а затем здесь, на своем узле, я могу проверить свои локальные предложения, и тогда я увижу, что, например, это предложение доступно прямо сейчас.

Это мой P2P идентификатор и я не хотела его копировать. Поэтому я введу его ещё раз. Я всё уже хочу начать и чувствую, что процесс затягивается. Итак, мы хотим принять предложение. Прошу прощения, я создам другое предложение. Я могу взять это. Я покажу вам, как это делается. Всё очень просто, вы просто вводите make, «создать», а затем указываете ту минимальную сумму Monero, которую хотите предложить. И я просто скопирую тот же своп, что и здесь. Упс. Я укажу немного другую сумму, а затем обменный курс. То есть, такие параметры, как обменный курс, указываются в момент создания предложения. Это соотношение ETH к XMR, и оно было немного другим. И так я создаю предложение. Отлично, круто.

Теперь здесь я должна принять его, для этого необходимо просто ввести take, «принять», и затем указать идентификатор предложения. Каждое предложение имеет хеш. Это её идентификатор, затем следует P2P идентификатор, а затем сумма, которую вы хотите предложить. Сумма указывается в ETH, и я вижу, что сумма находятся в диапазоне от 0,1077 ETH до этой суммы в ETH, так что я укажу, не знаю, давайте укажем 0,02. Итак, своп запущен. Ура!

Вы также можете просмотреть текущие свопы. Вскоре мы увидим, что ETH заблокирован. И он уже заблокирован. В данный момент мы просто наблюдаем, что происходит, и можем выйти, оставив CLI свопа в активном состоянии. Если ввести команду ongoing, вы сможете увидеть, когда своп был запущен, сколько вы получите, обменный курс, прочую информацию, статус и затем время свопа, в протоколе свопа есть как бы два таймера, и тот, о котором я говорю, показывает примерное время совершения, которое сейчас составляет около 20-25 минут. Вы можете заметить, что оно будет немного отличаться для принимающей и создающей сторон, потому что принимающая сторона переведёт Monero позже. Мы подождём 20 минут, а затем проверим. Отлично, спасибо. Причина, по которой своп занимает 20 минут, состоит во времени блокировки Monero, существующего периода, равного 10 блокам. Но если блоки добавляются достаточно быстро, это уже не является ограничивающим фактором.

Итак, демонстрация запущена. И теперь я расскажу о том, как работает протокол проведения свопов. По сути, есть две стороны, которые мы назовём Элис и Бобом. У Элис есть ETH и она хочет получить Monero, а у Боба есть Monero и он хочет получить ETH. Боб создаёт в P2P сети предложение, а Элис просто просматривает сеть и находит его, а затем говорит: «О, хорошее предложение», и принимает его. Затем во время инициации свопа каждая из сторон генерирует секретное значение, которые мы назовём просто XA и XB. Таким образом, у Элис это будет значение XA, а у Боба - XB.

И в случае успешного проведения свопа происходит следующее: в начале свопа Элис, и это первый обмен ключами, в начале свопа, она обменивается публичными ключами, соответствующими секретным значениям, с Бобом. Затем Элис блокирует ETH в контракте, Боб видит, что ETH заблокирован, и блокирует Monero на счёте, где приватный ключ является суммой двух приватных ключей. Таким образом, Боб знает публичный ключ Элис, знает собственный приватный ключ, перемножает их и может получить доступ к этому счёту, а на следующем этапе контракт переводится в состояние ready, «готов». Элис видит, что Monero был заблокированы, и позволяет Бобу взять средства, заблокированные в контракте. В принципе, этот шаг необязателен, но он ускоряет своп, поскольку в ином случае придётся ждать, пока не истечёт первый тайм-аут. Итак, после этого контракт станет доступным для Боба, и Боб, когда будет забирать ETH, заблокированный в контракте, в той же транзакции должен будет раскрыть своё секретное значение свопа XB. Это, по сути, атомная часть. Таким образом, при получении доступа к заблокированным средствам раскрывается секретное значение свопа, что позволяет Элис забрать Monero с другой стороны. Так что да, по сути, это и есть атомная часть свопа.

Теперь, существует два пути возврата средств. Причина, по которой существуют тайм-ауты, заключается в том, что в случае, если кто-то откажется от свопа или уйдёт в офлайн, то есть, если произойдёт что-то непредвиденное, вы сможете вернуть деньги в течение определённого периода времени. Так, например, в первом случае Элис заблокирует свои ETH, а Боб просто выйдет, не блокируя свои Monero. Когда истечёт первый тайм-аут, в контракте появится функция возврата средств, которой Элис сможет воспользоваться. И в рамках использования этой функции она также должна предоставить свой секрет свопа, например, на случай, если Боб заблокирует средства, а Элис по каким-то причинам не поймёт этого, и это позволит Бобу вернуть средства в случае необходимости.

Во втором случае, возврат средств осуществляется, если обе стороны заблокируют контракт, а Боб так и не заявит о своей готовности, что вполне может произойти. Например, он уйдёт в офлайн или что-то в этом роде. При этом контракт будет приведён в состояние «готов», Боб так и не заявит о своей готовности, истечёт время второго таймаута, и после этого единственное, что может произойти - Элис заберёт свои ETH из контракта. Таким образом, как я уже говорила, при возврате средств используется секрет, и благодаря ему Боб, позже вернувшись в сеть, сможет получить Monero обратно с заблокированного счета.

Хорошо, надеюсь, что вместе со схемами всё будет окончательно понятно. Так что, если останутся какие-то неясности, спросите меня после выступления. Всё это также обсуждается на GitHub, так что после вы можете зайти и туда.

Теперь немного о том, как мы вышли в основную сеть, о том, что было сделано, начиная с прошлого года. Сам протокол проведения свопов довольно прост. Его реализация не занимает много времени. Гораздо сложнее реализовать всё то, что строится вокруг него, чтобы сделать протокол действительно пригодным для использования и безопасным. На случай, если ваш компьютер сломается, чтобы вы не потеряли свои средства, и чтобы не случилось ничего подобного.

Итак, первое - это безопасность баз данных и перезагрузки. Вы можете спокойно перезапускать демон свопа, ваш компьютер может сломаться, интернет может отключиться, и прочее, прочее… Когда вы перезапускаете демон свопа, своп возобновляется с того места, где был прерван. И если время тайм-аута не истекло, он просто продолжит своп, или же произойдёт возврат средств, если время всё-таки истекло, или случилось что-то в этом роде. Это очень важно, поскольку позволяет выйти из системы, не потеряв свои средства. Сам процесс реализации был очень интересным, потому что было необходимо предусмотреть множество разных сценариев, которые могут произойти в любое время. И это всегда одна из тех основных вещей, которые следует учитывать при фракционировании кода.

Другой важный аспект - система ретрансляции. Одно из ограничений Ethereum состоит в том, что для вызова функции по контракту для оплаты газа вам нужно иметь ETH на вашем счёте. То есть, если, например, Боб из предыдущего примера является принимающей ETH стороной, ему, чтобы получить свой ETH, необходимо воспользоваться функцией извлечения средств из контракта. Однако если у вас изначально нет ETH, или вы хотите вывести средства на новый счёт, это плохо с точки зрения пользовательского опыта и приватности. Поэтому в качестве обходного пути предлагается система ретрансляции, в рамках которой вы подписываете сообщение с текстом «Я хочу получить средства», а затем кто-то другой передаёт его и оплачивает газ за вас. В настоящее время система уже реализована и работает. В том варианте, который был мной продемонстрирован, возможно, будет использоваться ретранслятор.

Таким образом, если у вас недостаточно средств, или если вы просто дадите знать, что хотите воспользоваться услугами ретранслятора, то всё произойдёт автоматически. Это не требует особого разрешения и делается децентрализовано в P2P сети. Вы просто говорите: «Я хочу стать ретранслятором», и получаете доступ к сети, а также небольшую плату, небольшую часть из средств из свопа за ретрансляцию, поскольку вы тратите средства на то, чтобы произвести её. И эта возможность уже реализована. Эта часть работы также была очень интересной и прошла через несколько итераций, пока всё не стало работать достаточно хорошо. И сейчас всё это прекрасно работает. И если вы захотите стать ретранслятором, то я рекомендую сделать это.

Ещё один из реализованных аспектов - поддержка ERC20. Я знаю, многие просили реализовать поддержку ERC20. Теперь это сделано на уровне контракта. Так что вы можете создать предложение и сказать: «Я хочу получить DIE» или «Я хочу получить...» не знаю, какой-нибудь стейблкоин или какой-нибудь токен. То есть, по сути, вы создаёте предложение и говорите: «Я хочу получить какой-то токен», и при совершении свопа вы получаете этот токен вместо ETH. Теперь это реализовано.

Помимо этого, было исправлено множество ошибок, улучшен пользовательский интерфейс, что позволило сделать CLI более удобным и понятным. А ещё была создана специальная программа для загрузочных узлов. Как я уже говорила, сеть является одноранговой, поэтому одной из составляющих функций одноранговой сети является начальная загрузка. То есть когда вы подсоединяетесь к сети, вам нужно знать кого-то из участников, чтобы сделать это впервые. Именно для этого и были созданы загрузочные узлы. По сути, это общедоступный список узлов, входящих в сеть, и когда вы подсоединяетесь к сети, вы сначала обращаетесь к загрузочным узлам, а затем можете найти остальные узлы, входящие в сеть. По сути, это точка входа. И если кто-то захочет запустить такой узел, это вполне можно сделать. Для этого не нужно быть обладателем ни ETH, ни Monero, но это будет вкладом в децентрализацию сети, потому что чем больше загрузочных узлов, тем лучше.

Затем, и, по-моему, я уже упоминала об этом, программа свопа использует библиотеку libp2p. Она обладает множеством полезных возможностей. Она, например, позволяет использовать протокол NAT Traversal (Нат ТравЕрсал) и метод прямого соединения. Так что если вы находитесь в своей домашней сети или используете NAT, все одноранговые функции будут работать, что просто превосходно, и всё это уже встроено. Также для обнаружения пиров, предложений, ретрансляторов и так далее имеется DHT. Всё это можно использовать на одноранговой основе, без разрешений и децентрализовано, что меня очень радует.

Наверное, я уже говорила об этом, но если узел выходит из сети во время совершения свопа, это не страшно, потому что его можно перезапустить. Думаю, я уже рассказала обо всём, что есть на этом слайде. Всё хранится на диске и находится в папке .atomicswap. Так что если вы не удалите её, то всё будет в порядке. Поэтому не удаляйте ее.

Так, об этом я уже говорила. Точно, думаю, я уже говорила об этом. Итак, ретранслятор получает часть суммы свопа, найденного в сети, так как оплачивает газ. Сейчас плата за газ в ETH довольно высока, и это плохо. Поэтому в следующей версии мы улучшим метод определения части вознаграждения, получаемой ретранслятором.

Итак, система ретрансляции и как она работает. Первый этап тот же, что и прежде. Элис блокирует ETH, Боб блокирует Monero, а затем, когда контракт переходит в состояние готовности к получению средств, Боб находит в сети ретранслятора, допустим, это будет Чарли, после чего Чарли отправляет свой адрес для выплаты Бобу. Это адрес, на который будет отправлено вознаграждение. Боб подписывает данные для получения средств вместе с адресом ретранслятора, то есть, простите, вместе с адресом выплаты Чарли, а затем Чарли передаёт их в контракт, который отправляет ETH Бобу за вычетом вознаграждения, отправляемого Чарли. Всё довольно просто.

Одна из особенностей заключается в том, что изначально мы выбрали решение, использующее уже существующие в Ethereum стандарты ретрансляции транзакций. Но это было очень неудобно, потому что все библиотеки были написаны на JavaScript, и в них было много абстракций, которые, по сути, были не нужны в силу специфики нашего сценария использования - вызывалась только одна функция. Нам было не нужно, чтобы она была универсальной. По-моему, я уже упоминала то, о чём говорится на этом слайде.

Кроме того, смарт-контракт не был защищён от фронтраннинга. Тестирование в основной сети сильно отличается от тестирования в отладочной сети, поскольку при этом задействованы реальные деньги, то есть, V-боты там просто дикие, и поэтому первая итерация не была защищена от фронтраннинга, и при тестировании моя транзакция подверглась ему, что означает, что какой-то бот потребовал комиссию, в то время как я продолжала платить за газ. Так что, этот вариант был похоронен. Как бы то ни было, новое решение имеет такую защиту, все функции защищены от фронтраннинга, и никакая подобная атака невозможна.

Таким образом, стать ретранслятором можно совершенно свободно, это не требует разрешений. Для начала вам потребуется лишь очень небольшое количество ETH. Сумма, которая вам нужна, по сути, должна быть достаточна для реализации функции ретранслятора, связанной с выведением средств, и она очень, очень мала. Она составляет 0,01 или 0,02 ETH, или что-то в этом роде. По-моему, сейчас она составляет 0,02, потому что газ подорожал, так что для начала работы вам понадобится незначительное количество ETH. И, надеюсь, вы получите некоторое вознаграждение. Так что, я настоятельно рекомендую это сделать, если вы хотите присоединиться, но не собираетесь совершать своп или что-то подобное прямо сейчас.

Итак, мы обсудили фронтранниинг. Да, я уже рассказала об этом. Загрузочные узлы, проведение свопа, вернуться к демонстрации... Итак, давайте вернёмся к демонстрации и посмотрим, как всё работает. Я думаю, что своп пока не продвинулся, потому что ожидается разблокировка Monero. Так, остался всего один блок. Ура, круто! А пока мы ждем разблокировки, пожалуй, я покажу некоторые команды CLI, необходимые для проведения свопа. Да, всё работает очень медленно. В softeli есть куча команд. Итак, своп работает, он продвигается, так что скоро увидим, что произойдет.

Итак, например, воспользовавшись CLI свопа вы можете просмотреть баланс ETH, баланс Monero, ваши счета. Есть команда discover для обнаружения одноранговых узлов, query - это запрос конкретного узла, query(квэри) -all позволяет найти сразу все узлы. Работу команд make и take я уже демонстрировала. Команда ongoing позволяет просмотреть ваши текущие свопы, как я уже тоже показала. Затем команда past выводит ваши прошлые свопы - у меня здесь есть несколько прошлых свопов. Что ещё? С помощью CLI вы можете очистить предложения, ваши текущие предложения, просмотреть статус свопа, обменный курс, ленту цен, где предлагается текущий обменный курс - всё это вы можете это сделать. Лента цен сейчас не обновлена, но вообще она обновляется довольно часто, но обязательно перепроверяйте это. Это хорошая отправная точка. Кроме того, есть функция перевода средств. Возможно, я забыла  упомянуть, но когда вы запускаете своп, демон, если вы не укажете адрес ETH и Monero или кошелька, он сгенерирует его для вас, а затем вы просто пополните его. Так, например, эти кошельки были сгенерированы автоматически, а затем я пополнила их. Если вы захотите перевести средства, то вы можете сделать это с помощью CLI. Таким образом, вам не придется импортировать свой приватный ключ в кошелек.

Итак, что у нас происходит со свопом? Проверим статус. Да, своп совершается, а значит, по сути, он почти завершён. Текущие свопы. Да, этот завершён. Ура! Идентификатор предложения был 0xa7f07, а тут должен быть этот. Значит, своп был успешно завершён. Ура! Всё получилось. Да! А вот это предложение в настоящее время находится в процессе, и всё происходит следующим образом: когда он получает Monero, они сначала попадают в, скажем так, временный кошелёк, поэтому они просто отправляется обратно на исходный счёт. Именно это сейчас и происходит. Так что, всё произойдёт в ближайшее время. Также вы можете посмотреть, как всё происходило. Вы можете проверить контракт, увидеть, какие запросы по контракту были сделаны, увидеть, что это была новая транзакция, проведённая в рамках свопа. Надеюсь, вам всё видно. Итак, это мой новый своп, видно, что он был совершён 18 минут назад. Это очень быстро. Вероятно, многие сейчас меняют Monero. Иногда это занимает полчаса. Итак, вы видите, что своп ETH был проведён, контракт был переведён в состояние «готов», что позволяет принимающей ETH стороне забрать средства. И вот последний запрос - это запрос ретрансляторам, запрос для получения средств через ретранслятора. В общем, всё сработало как надо. Ура! Вот и всё. Но на самом деле нет. Моя презентация ещё продолжается.

И последнее - дорожная карта, то, что будет происходить дальше. Одна вещь, которая, на мой взгляд, была бы очень хороша, и которая, по сути, должна быть у нас - это приватность сети. Сейчас, к сожалению, у нас нет встроенной функции обеспечения приватности. Используемая библиотека libp2p, к сожалению, не обеспечивает достаточной поддержки. Так что мы будем работать над тем, чтобы обеспечить приватность посредством Tor или Nim. Я ранее работала с Nim, библиотекой P2P, так что мы могли бы воспользоваться ими.

И еще один момент - я упоминала о динамическом определении размера вознаграждения для ретранслятора. Сейчас вознаграждение фиксировано, что плохо, потому что цены на газ ETH очень высоки. И последняя вещь или вторая последняя вещь - это пользовательский интерфейс. Здесь я использовала браузерный пользовательский интерфейс, но пока я выбираю между браузерным пользовательским интерфейсом и графическим интерфейсом, или же интеграцией с чем-то другим, что уже имеет пользовательский интерфейс или графический интерфейс. Но, поскольку сейчас всё делается через CLI, людям это может не понравиться. Возможно, было бы неплохо обернуть это в программу, которую вы будете использовать в графическом виде. И ещё одна приятная особенность браузера заключается в том, что для взаимодействия со свопом вы можете использовать MetaMask, который представляет собой браузерный кошелёк Ethereum. Тогда вам не придётся переводить средства в программу свопа. Вы сможете сделать это в браузере. Так что это может быть даже здорово. И, как всегда, тестирование, исправление ошибок. Уверена, люди обязательно найдут что-то, что они хотели бы улучшить.

Итак, подведём итог: своп готов к бета-тестированию, так что если вы захотите его опробовать, пробуйте. Если возникнут какие-то проблемы, пишите на GitHub или в чат Matrix, ссылка на который будет на следующем слайде. Кроме того, нам нужны провайдеры Monero. Программа или вся сеть работает на основе предложений, в частности, предложений Monero. Так что если у вас есть Monero, и вы хотите, не знаю, попробовать провести своп, оформляйте своё предложение. Нам нужна ликвидность. Всё уже создано, и, конечно же, нам хочется, чтобы люди начали пользоваться этой возможностью уже сейчас. А ещё нам нужны ретрансляторы и загрузочные узлы, и чем больше, тем лучше. Это способствует повышению уровня безопасности сети. Так что если вы хотите принять участие, но не хотите совершать свопы, вы можете поучаствовать и таким вот образом.

Вот, в принципе, и всё. Итак, у нас есть страница на GitHub, которая находится по адресу AthanorLab/atomic-swap. Есть комната в Matrix, #ethxmrswap. И там, и там вы можете посмотреть код. Или же пишите в чат, мы всегда там. Пожалуй, на этом всё. Всем спасибо.

_[Реклама]_

_Вы любите кофе и Monero так же сильно, как и мы? А вам не хотелось бы начинать каждый свой день с чашки Gratuitas? Покупайте зёрна премиум-класса за Monero, и если вам придётся по душе их вкус, поделитесь цифровыми чаевыми непосредственно с гватемальскими фермерами, которые позаботились о вас. Ваша поддержка способствует развитию нашего предприятия. Gratuitas и Monero._

_**Элизабет:**_ Да, конечно. У кого-нибудь есть вопросы?

_**Вопрос из зала:**_ Как ты бы прокомментировала предыдущие выступления, интеграцию с форком Bisq, Haveno?

_**Элизабет:**_ Да, это было бы здорово. Я еще не обсуждала это с людьми из Haveno, но да, определённо мы хотели бы реализовать такую интеграцию. Когда я создавала этот протокол проведения свопов, я не хотела, чтобы он был единственным вариантом реализации. Это может быть совершенно иной вариант. Так что, это полностью открытый исходный код, и вы можете интегрировать его в другие вещи. И я буду рада пообщаться с людьми из Haveno по поводу интеграции. Я немного поговорила с людьми из Basic Swap, которые, как мне кажется, заинтересованы в интеграции. И я думаю, что интеграция не за горами. Так что, если кто-то заинтересован, обязательно свяжитесь с нами, потому что я действительно хочу, чтобы наш протокол использовали. Ещё вопросы?

_**Вопрос из зала:**_ Какова точка интеграции с сетью Ethereum? Как транзакции передаются в Ethereum?

_**Элизабет:**_ Как они ретранслируются?

_**Вопрос из зала:**_ Да, например, вы используете API провайдера или как-то иначе получаете доступ к сети Ethereum? Это отдельный узел? Как это работает на уровне сервера?

_**Элизабет:**_ Да, действительно, необходима конечная точка Ethereum. Она может быть как удалённой, так и локальной - любой из вариантов работает. То же самое с Monero - вам нужно запустить узел Monero или связаться с удалённым узлом Monero. Поэтому в обоих случаях нужны конечные точки.

Франциско Кабаньяс:

Имеется ли возможность подключения Polygon MATIC?

_**Элизабет:**_ Да, и это еще одна вещь, о которой я не упомянула. Своп, в том виде, в котором он существует сейчас, полностью совместим с EVM. Всё, что вам нужно сделать, чтобы интегрировать его с чем-то вроде Polygon, который является таким же EVM, как и основная сеть Ethereum это просто повторно развернуть своп. Фактически мы размещаем своп-контракт. Вот и всё. Так что определённо это возможно.

Франциско Кабанас:

То есть, вы интегрируете своп-контракт в Polygon?

_**Элизабет:**_ Именно. Вы развёртываете своп-контракт в Polygon и затем, когда вы запускаете своп-узел, просто указываете конечную точку Polygon.

_**Вопрос из зала:**_ Может, гипотетически, более безопасным было бы перейти на мосты Polygon раньше?

_**Элизабет:**_ Зависит от того, что вы подразумеваете под безопасностью. Не знаю, всё зависит от того, что вы имеете в виду, от того, с какого конца начинать. Если вы идете переходите в Polygon из ETH, то, вероятно, просто используйте мост, если же из Monero в Polygon, то лучше использовать своп. Надеюсь, я ответила на вопрос.

_**Вопрос из зала:**_ Что вы думаете насчёт реализации возможности проверки лимита, Возможно ли это и представляет ли интерес в принципе?

_**Элизабет:**_ Да, я думала об этом, но сейчас это сделать довольно сложно. Думаю, проще всего разработать хороший пользовательский интерфейс, который будет проверять все заявки за вас и находить наилучшее предложение, основываясь на том, что вам нужно. Но, определённо, это будет возможно уже во второй версии.

_**Вопрос из зала:**_ Ещё один вопрос. Есть ли какие-нибудь соображения по поводу введения лимита средств, дневного лимита или чего-то подобного, как это делается в случае с некоторыми другими миксерами?

_**Элизабет:**_ Извините, ты не мог бы повторить вопрос?

_**Вопрос из зала:**_ Ну, знаете, например, как это делается в случае Aztec, CK Money, у которых лимит составляет тысячу или десять тысяч в день.

_**Элизабет:**_ Вы имеете в виду ограние суммы?

_**Вопрос из зала:**_ Да.

_**Элизабет:**_ О, нет никаких ограничений.

_**Вопрос из зала:**_ Очень здорово.

_**Элизабет:**_ Нет никаких ограничений по ставкам, ничего подобного. И если возникают проблемы с контрактом или, не знаю, если на него будут наложены санкции или что-то в этом роде, вы можете просто перераспределить его. Это сильно отличается от того, как работает Tornado Cash, потому что здесь нет пула. Вы можете просто перераспределить контракт, и всё будет в порядке.

_**Вопрос из зала:**_ Круто. Есть ли у вас активные маркет-мейкеры, использующие протоколе, и есть ли у вас план по привлечению маркет-мейкеров к его использованию?

_**Элизабет:**_ Протокол был запущен всего два дня назад, так что пока нет. Но, безусловно, это очень важно. Так что если у кого-то есть идеи, как привлечь маркет-мейкеров, если вы хотите стать маркет-мейкером, обязательно свяжитесь с нами.

_**Вопрос из зала:**_ И ещё один вопрос, связанный с эффективностью расхода газа в рамках контракта. Этот механизм достаточно оптимизирован, или же вы и далее будете оптимизировать его со стороны Ethereum?

_**Элизабет:**_ Он уже достаточно хорошо оптимизирован. Я также могу показать точный расход газа. Например, вызов функции вывода средств стоит примерно в два раза дороже, чем перевод ETH. Так что при выводе средств через ретранслятор расходы будут довольно низкими. По-моему, вывод средств обходится в четыре раза дороже, чем перевод ETH с последующим запуском свопа. Примерно 2,5 от размера стоимости. Так что всё уже достаточно оптимизировано.

_**Модератор:**_ Есть ещё желающие задать вопрос?

_**Вопрос из зала:**_ Я хотел спросить про загрузочные узлы. Что требуется для запуска загрузочного узла с технической точки зрения?

_**Элизабет:**_ Вы можете сделать это посредством VPS. Вам просто нужно что-то с публичным IP и статический публичный IP. Необходимые для этого ресурсы незначительны, менее одного гига оперативной памяти, UDS - это мало, это очень мало.

_**Вопрос из зала:**_ Можно ли запустить загрузочный узел через Tor на ITP?

_**Элизабет:**_ Пока нет, но, надеюсь, скоро это будет возможно.

_**Вопрос из зала:**_ Отлично, здорово. Спасибо.

_**Вопрос из зала:**_ Меня интересует проблема обеспечения приватности со стороны Ethereum при совершении свопа. Очевидно, что если все средства проходят через один смарт-контракт, то будет несложно увидеть, что входит и что выходит. Но предположим, что я проделал всё необходимое и развернул контракт для совершения только одного свопа. Какая ещё информация будет видна со стороны Ethereum, которая потенциально сможет указать на то, что происходит обмен на Monero?

_**Элизабет:**_ Думаю, если вы развертываете контракт только для проведения одного свопа, это совершенно нормально, вы можете это сделать, только это будет затратно. Но я думаю, что проблема в том, что байт-код того, что вы развернули, всё равно можно будет увидеть и определить, что он такой же, как у существующего контракта. То есть вы увидите, что это будет точно такой же контракт, если только вы немного не измените байт-код, чтобы скрыть это. В принципе, можно будет определить, что это тот же самый своп-контракт, но ничто не будет говорить о том, что на другой стороне находится Monero. Это будет просто контракт ETH. Если только кто-то не будет заниматься активным мониторингом P2P-сети и проверять каждое событие. Никакого особого своп-контракта для Monero не существует. Он не похож на Monero и теоретически может быть связан с любым другим блокчейном.

_**Вопрос из зала:**_ Спасибо.

_**Даг:**_ Не могла бы ты немного рассказать о потенциальной поверхности атаки. Как упоминалось, если я не очень разбираюсь во всём этом, то на этот случай предусмотрены встроенные средства защиты от перезагрузки кошелька и узла. А что, если я решу не перезапускать узел? Позволит ли это кому-то заблокировать средства другого человека и предотвратить своп?

_**Элизабет:**_ Нет. В принципе, нет. После того, как предложение принято, удалено или что-то ещё, оно не может быть принято снова, если только не произошёл возврат средств. Но в течение всего времени свопа оно действует. И программа не позволит принять своп дважды. Очевидно, что это было бы плохо. То есть вы не можете дважды взять средства или дважды заблокировать их, или сделать что-то в этом роде. Надеюсь, я ответила на вопрос.

_**Даг:**_ Люк, задавай в опрос.

Люк:

Один из моментов, о которых вы упомянули в связи с вашей системой ретрансляторов, это то, что в какой-то момент разработки вы столкнулись с фронтраннингом и фактически потеряли на оплате за газ. Не рассматривали ли вы возможность реализации EIP 4337 или чего-то подобного, чтобы вообще не использовать сеть ретрансляторов, а работать через сеть Ethereum напрямую?

_**Элизабет:**_ Да, что касается EIP 4337...

_**Даг:**_ Я как раз собирался задать этот вопрос.

_**Элизабет:**_ Что касается EIP 4337, это не то чтобы родной механизм, но он построен поверх протокола Ethereum. Но в любом случае, я полагаю, что одна вещь заключается в том, что для оплаты газа по любому контракту требуется мастер-контракт. Поэтому контракт нужно будет изменить, чтобы средства перенаправлялись на этот пеймастер-контракт. И ещё библиотеки - думаю, они несовершенны. CIP - довольно новое решение, и библиотеки пока не достаточно развиты. Я даже не уверена, есть ли там, не знаю… Все они написаны на JavaScript, но, честно говоря, это то, на что следует обратить внимание, потому что было бы хорошо не полагаться на нашу собственную систему ретрансляции. Так что да, это точно то, что будет необходимо реализовать во второй версии.

_**Даг:**_ Давайте зададим еще несколько вопросов, пока готовятся слайды к следующему выступлению. Кто-нибудь ещё? задавайте.

_**Вопрос из зала:**_ У меня есть общий вопрос, касающийся Tornado Cash. Не могла бы ты прокомментировать, как ты видишь ситуацию с Tornado Cash, всё происходящее, и как Monero может дополнить приватность Ethereum, или как подключение к экосистеме Ethereum может повлиять на ликвидность Monero? Просто общие соображения по этому поводу?

_**Элизабет:**_ Думаю, что уровень приватности Ethereum, да и уровень приватности в целом повысится. Совершая своп, обменивая ETH на Monero, то, как только вы оказываетесь на стороне Monero, всё становится приватным, что здорово. А потом можно совершить своп в обратном направлении - из Monero в ETH. Вы также можете сменить счёт, что также очень хорошо. Но цель программы свопа, собственно, состоит совершении свопов, и эта цель отличается от цели Tornado Cash, где она заключается в том, чтобы поместить ваши средства в защищённый пул. Всё это происходит со стороны ETH, а потом кто-то решает вывести средства попозже. Так что, как я уже говорила, своп - это совсем другое, потому что своп-контракт не похож на пул, не похож на Tornado Cash. Вы просто используете контракт и переходите в другой блокчейн.

_**Вопрос из зала:**_ То есть, потенциально защита при проведении атомного свопа XMR-ETH лучше, чем при использовании чего-то вроде Tornado Cash, где обмен может быть или может не быть санкционирован в зависимости от того, кем вы являетесь, или являетесь ли вы гражданином конкретной страны?

_**Элизабет:**_ Да, потому что в случае с Tornado Cash вы не можете так просто перераспределить средства, поскольку, как я уже говорила, сам контракт содержит пул средств, который является анонимной группой, и вы не можете просто перераспределить контракт. Вам придётся заново создавать всю анонимную группу, в отличие от свопа, где нет пула с анонимной группой и так далее. Это буквально своп, совершаемый двумя сторонами, в результате которого средства переводятся в Monero. Так что, думаю, в этом отношении здесь всё обстоит совсем по-другому.

_**Вопрос из зала:**_ Как сообщество ETH относится к реализации этого протокола? Они рады этому или вообще не знают об этом, как ты считаешь?

_**Элизабет:**_ Некоторые заинтересованы. ETH - интересное сообщество. Думаю, они, конечно, за приватность, но, не знаю, их внимание сфокусировано на шифропанке, на финансировании общественных благ, на масштабируемости и подобных вещах. Так что, если сравнивать с этими аспектами, особого волнения не наблюдалось. Но я не знаю, я надеюсь, что они будут использовать протокол. Думаю, что всё же будут.

_**Вопрос из зала:**_ Как ещё мы можем донести до сообщества Ethereum информацию об этом инструменте и о том, что он уже доступен?

_**Элизабет:**_ Даже не знаю. Во-первых, Я написала об этом в Twitter, многие из вас следят за моими публикациями. Думаю...

_**Вопрос из зала:**_ Сообщество Tornado Cash не знает о протоколе и не интересуется им?

_**Элизабет:**_ Нет, мне кажется, они заинтересованы. Не знаю. Пожалуй, есть группа, подгруппа этих людей, которые уже увлечены идеями Monero и DarkFi, DarkZK, не знаю, всего того, что касается обеспечения приватности и подобных вещей. И эта подгруппа определённо заинтересована. Но есть и другая группа людей, не знаю. Поэтому я думаю, что с этими людьми нужно работать, как и с теми, кто уже интересуется вопросами приватности.

_**Даг:**_ Ты занимаешься просто замечательным делом, мы все очень ценим это, поскольку ты таким образом объединяешь сообщества Monero и Ethereum.
