---
title: "Амир Тааки - Доказательства анонимных групп для колец с бесконечным количеством участников"
date: "2023-06-24"
categories:
  - "Стенограмма"
tags:
  - "MoneroKon 2023"
lead: "Monero Konferenco 2023 #MoneroKon2023 Прага - День 2"
pager: true
toc: false
sidebar: "right"
---

{{< youtube id="sp7F2dtY90c" autoplay="false" >}}

---

_**Амир:**_ Сначала я немного в общих чертах расскажу о том, зачем всё это нужно, о том, что происходит, а затем перейду к сути. А суть выступления сводится к конкретной технологии, позволяющей нам увеличить размер колец в Monero. Это будет по большей части теоретическое выступление, а с более практическим материалом уже выступил kayabaNerv, Люк Паркер, который проделал действительно хорошую работу по реализации многих из этих вещей. Рекомендую посмотреть это выступление, а также взглянуть на тот код, который был им опубликован.

Итак, сейчас криптовалютная индустрия пребывает в особой ситуации. В 2012 году многие из нас считали, что подъём криптовалют неизбежен. При соблюдении принципа невмешательства всё обязательно случится, и всё произойдёт само собой. И вот на дворе 2023 год, а мы всё ещё не осознали, что же на самом деле представляет собой криптовалюта. И поэтому я сегодня здесь, на этой конференции, отстаиваю этические принципы, которые воплощает собой сообщество Monero. Мы живём особенное время, потому что даже после краха FTX люди до сих пор задаются вопросом: что и когда пошло не так? Сейчас мы находимся в той части цикла, когда люди занимаются поиском нарративов, которые лягут в основу следующего цикла. И я уже сталкивался с кликушами, утверждающими, что будущее за традиционными финансами. Да-да, удачи.

Так что, мы можем предвидеть, что произойдёт: есть одна сторона криптовалютной индустрии. Она хрупка. Это всяческие проекты, собирающие большие, раздутые команды, и их бизнес-модель заключается в том, чтобы собрать как можно больше народа и обложить всех налогом. И есть истинная криптовалюта, которая своего рода DarkFi, тёмная сторона, и это устойчивая к потрясениям криптовалюта. Её суть заключается в том, что чем больше правительство, государство подавляет её, тем сильнее она становится. В то время как хрупкие криптовалютные проекты ломаются под давлением. И непосредственно сейчас мы наблюдаем, как правительства стараются подавить криптовалюты. Мы наблюдаем всё большее расхождение этих двух сторон, которое закончится тем, что будут регулируемые финансы, RegFi, и тёмные финансы, DarkFi. Кстати, что касается тёмной стороны, есть проект под названием DarkFi. И мы находимся в той фазе жизненного цикла криптовалюты, когда происходит возврат к ценностям, когда люди хотят заново открыть то, что было потеряно, что давало нам силу.

Кроме того, сейчас мы переживаем ренессанс криптографии. Криптографии, которая развивается благодаря криптовалютам или инвестициям в исследования, в результате чего уже фактически было создано несколько мощных методов. Эти методы попадают в руки разработчиков, и мы можем использовать их для взлома и создания анонимных приложений. Если вы откроете страницу по криптографии в Википедии, простите, нет, если вы откроете в Википедии страницу с определением жёсткой силы, то увидите, что жёсткая сила определяется там как военное и экономическое принуждение. Но я считаю, что криптография - это новая, третья категория, и мы можем воспользоваться криптографическими технологиями для расширения пространства свободы. В этом суть агоризма. Агоризм - это использование свободных рынков для расширения пространства свободы.

И ещё… простите, секундочку… да, у меня нет нужного слайда. Я должен был включить его, но забыл. Тем не менее, сейчас открывается окно. И вопрос в том, готовы ли мы к открытию этого окна, готовы ли взять на себя ответственность за него? Потому что если мы сможем сделать это, то сможем и решить проблему с ахиллесовой пятой Monero. Тогда приватность выйдет на передний план, и мы сможем заняться именно этой стороной криптовалют.

Также эта новая криптографическая парадигма, что формируется сейчас, - это новая область анонимной инженерии. Многие методы, которые мы используем, основаны на алгебраических принципах, это не похоже на старые парадигмы. Так что я не хочу слишком углубляться в эволюцию методов доказательства с нулевым разглашением и проблему их трансформации в модульные структуры, и так далее.

То есть, доказательства с нулевым разглашением - это одна из важнейших технологий во всём криптографическом пространстве. И сейчас мы наблюдаем рост специализации. Будущее, вероятно, за модульной криптографией. Будет создано множество различных модулей, которые можно будет комбинировать между собой, и так далее.

И одна из вещей, о которых я собираюсь рассказать, - доказательства по одному из множества. Сегодня в Monero используются кольца. И в настоящий момент рассматривается предложение по замене колец на деревья кривых. А в случае с деревьями кривых - и именно поэтому я делаю акцент на происходящей специализации - для доказательства требуется наличие очень быстрой эллиптической кривой. И одним из способов для достижения этой цели - при этом мы используем классические способы - является построение схемы со всеми этими вычислениями. Применяемая нами сегодня криптография служит для создания простых полиномиальных колец и использует простые эллиптические кривые. Но существует огромное пространство для возможностей. В своей работе Лиам Иган пишет о применении эллиптической кривой в доказательстве произведения с использованием правила взаимности. И это очень интересно, поскольку указывает на то, как можно построить новые формы криптографии или новые формы систем доказательств и так далее, используя эти высшие геометрические или математические свойства.

Итак, в математике в алгебраической теории чисел очень важным вопросом является вопрос о том, можем ли мы найти простые числа, являющиеся суммой двух квадратов? И один из способов сделать это - взять поле уравнений, которое в основном состоит из дробей, в которых есть два целых числа, и добавить к нему квадратный корень из минус единицы, то есть i. И из этого построить поле. И тогда вы можете начать использовать алгебраические принципы, позволяющие проанализировать, чтобы найти простые числа, p, являющиеся коэффициентами двух простых элементов в этом поле. И тогда, например, мы можем приступить к анализу этого поля и попытаться выяснить, какими свойствами оно обладает. Например, у вас есть число α и вы делите его на другое число. Например, если я делю 10 на 3, то получаю 3,3333, а если я беру целое число, которое ближе всего к 3, и отнимаю от него 0,33, что меньше 1. Поэтому всегда, когда вы делите одно число на другое, если вы берёте ближайшее к нему целое число, вы получаете остаток, который будет меньше 1, и это свойство называется евклидовым свойством, Евклидовым пространством.

Итак, первый вопрос: является ли это поле Q(i) евклидовым пространством? Как вы видите, формализация евклидова пространства, где α равна некоторому k, умноженному на коэффициент плюс остаток. И этот остаток должен быть меньше, чем коэффициент. Это ещё один способ формализовать то, о чём я говорил ранее. Например, в этой книге на странице 126… давайте увеличим… мы просто берём эту формулу, делим на β и преобразуем её. В результате получаем формулу, приведённую внизу… А где курсор? Кажется, курсор работал. Да… Видите, мы получаем вот это. Как я сказал ранее, мы делим 10 на 3 и находим ближайшее целое число, вычитаем его и получаем другое число. Норма этого числа меньше единицы.

Почему же меня интересует именно это свойство евклидового пространства в этом поле? Оказывается, если это евклидово пространство, то оно также имеет уникальную факторизацию. А зачем нам нужна уникальная факторизация? Для того чтобы проанализировать это поле Q(i) и найти простые числа, являющиеся произведением двух простых чисел. Мы хотим иметь возможность сказать, что факторизация уникальна для этого поля. Таким образом, решение задачи поиска двух чисел, которые складываются при возведении в квадрат до простого числа, можно считать очень элегантным доказательством, но оно опирается конкретно на это свойство уникальной факторизации.

Итак, мы нашли ещё одно свойство, которое подразумевающее наличие уникальной факторизации, - это евклидовы пространства. Но теперь вопрос заключается в том - а здесь могут присутствовать и другие подобные поля для анализа - так вот, здесь мы имеем квадратный корень из минус трёх. Сейчас я увеличу… где курсор? Вот. Это решётка. И я могу показать... Так, где это? В общем, это решётка. И все точки в этом пространстве являются точками, которые находятся в этом поле Q, примыкающем к квадратному корню из минус трёх. И тогда мы можем поделить это пространство посмотреть все ли точки имеют норму меньше 1? То есть всегда ли расстояние до точки в этой решётке меньше 1? И здесь видно, что решётку можно разделить на равные участки. Вы видите этот маленький шестиугольник в центре. Всё, что мной будет выведено относительно этого шестиугольника, будет автоматически верно для всего пространства. Например, если я пойду сюда, то увижу, что норма равна 0,5. Значит, это действительно евклидово пространство. Но, как можно увидеть, я могу увеличить её. Например, я увеличу её до 11. И это всё ещё будет евклидово пространство. Если приблизить, то я поднимусь вот сюда. И внезапно здесь норма равна 1,01. Значит, квадратный корень из минус 15 уже не принадлежит евклидову пространству. И, как видно, только эти поля являются евклидовыми - минус 2, минус 3, минус 7, минус 11.

И теперь возникает вопрос, не существует ли других пространств с уникальной факторизацией? Да, мы доказали, что это пространства с уникальной факторизацией, но, может, есть и другие, которые не являются евклидовыми, но при этом обладают свойством уникальной факторизации?

И тогда мы создаём конструкцию под названием «группа классов». И при работе с группой классов мы будем всё рассматривать с точки зрения идеалов. Мы берём все группы идеалов и делим их на группу главных идеалов. Если у нас имеются два идеала из этой группы, то они эквивалентны. Если при переходе b на другую сторону, мы получаем ab–1, значит, у нас имеется некоторый элемент, принадлежащий главной группе.

И это говорит нам о том, что если взглянуть на всё это, и мы с этим уже столкнулись ранее, нам следует рассматривать произведение как произведение идеалов. Таким образом, мы можем взять любой элемент в этом поле, привести его к этим объектам, которые являются идеалами, после чего увидим: если этот идеал может быть представлен одним объектом, то он действительно представляет элемент в поле. Поэтому мы и рассматриваем главные идеалы - потому, что нас интересуют только те идеалы, которые представляют один объект. И тогда возникает вопрос: насколько всё это поле отклоняется от главного? Поэтому мы создаём эту группу. Ведь если всё поле является главным, то размер группы будет равен единице. Она будет включать в себя только единичный элемент, потому что все элементы будут совпадать с главными элементами. А если ни один из элементов не является главным, то размер группы будет таким же, как и размер главной группы. Таким образом, это даёт нам возможность определить, насколько эта группа идеалов отклоняется от главной. И мы используем это в качестве меры. И существует множество очень интересных криптографических методов, использующих группы классов идеалов.

Надеюсь, это не слишком мелко? Хорошо. Итак, для вычислений в качестве дополнения к этой группе классов идеалов мы используем нечто, называемое квадратичными формами. И это очень интересно из-за наличия изоморфизма между идеалами и группами классов. И здесь показан способ решения проблемы. Это квадратичная форма. А затем она образует идеал, группу классов идеалов. А ещё существуют такие формы, например, форма, которая выглядит как ax2 + bxy + cy2 с некоторыми дополнительными ограничениями в рамках этой матричной группы SL2, которая эквивалентна группе классов идеалов. Так что вы можете взять эту довольно абстрактную форму, являющуюся группой классов идеалов. При этом существует с так называемой бинарной квадратичной формой. Всё это позволяет использовать их для наших вычислений.

И самое интересное в этих формах заключается в том, что существует алгоритм, который… если я дам вам форму любого из этих смежных классов из группы классов идеалов, сгенерированную случайным образом, и если я запущу этот алгоритм, в итоге мы получим единственного представителя этого смежного класса. Представитель упрощается, и мы можем показать, что всегда существует граница, например, представитель находится ниже определённой границы. Вот почему весьма практично использовать квадратичные формы в вычислениях.

Вам не видно, но чтобы перемещаться между элементами внутри этого смежного класса, мы используем специальную матричную группу SL2. Таким образом, все формы, имеющие один и тот же дискриминант, который находится справа, принадлежат одному смежному классу. И справа вы видите форму, 7 –10, 4. Я могу применять разные значения. Это как бы игра, где я могу попытаться упростить эту часть. Посмотрим, смогу ли я это сделать. Мне нужно произвести упрощение. Когда я делал это сам, у меня один раз это получилось. Есть способ... Да, я произвёл упрощение, и вот она - конечная упрощённая форма: 1, 0, –3. Я применил этот способ и получил конечную матрицу, которая обозначена вверху как T2 S T, а вверху справа находится фактическая матрица, которая применяется к исходной форме. И так мы получаем конечную форму в пределах смежного класса.

Двигаемся дальше. Итак, та же самая концепция группы классов идеалов. Люди, занимающиеся алгебраической геометрией, люди, занимающиеся алгебраической теорией чисел, во многом очень похожи. Поэтому зачастую хорошие идеи в области алгебраической геометрии могут использоваться для вычислений в области теории чисел, и наоборот. Таким образом, переносится множество одних и тех же механизмов и концепций. И если перенести эту идею в область эллиптических кривых, то получается, что на эллиптической кривой есть объект, называемый делителем. При этом нас интересуют функции над полем функций. И мы говорим: хорошо, есть некоторая кривая, в нашем случае - это эллиптическая кривая. И нас интересует эта и эта функции. Но нас не интересует сама функция. Нас интересует функция, ограниченная эллиптической кривой. То есть нулевые точки, где функция пересекает эллиптическую кривую. И тогда мы можем представить эти функции с помощью объекта под названием делитель. И тогда мы вспоминаем, что существуют делители, и одно из свойств делителя состоит в том, что его степень и сумма всегда равны нулю. И тогда мы можем построить группы классов для эллиптических кривых, взяв при этом все возможные делители, отделив их от делителей, которые являются главными. Как можно увидеть, это очень похоже на группу классов. Это удобно при использовании эллиптических кривых, и вы видите, что мультипликативная система сменилась аддитивной. Мы говорим, что два делителя эквивалентны, если их разность входит в эту главную группу. По сути, это и есть обобщение всей концепции.

Затем, внутри этой группы делителей теперь есть свои свойства, которые мы изучаем. В основном они используются для сопряжения. Есть много интересных способов применения. Например, в доказательстве эллиптической кривой в аргументе произведения одно из свойств группы делителей состоит в том, что она следует правилу взаимности, согласно которому, если взять f(div g) и оцениnm g(div f), они будут эквивалентны друг другу. Это связано с алгебраической структурой, которая в алгебраической геометрии называется результирующей. И результирующая структура используется, когда в поле функций присутствуют две функции, чтобы найти, есть ли у этих функций общий множитель? Или являются ли эти функции взаимно-простыми? Взаимно-простые означает, что у них нет общего множителя. Поэтому можно найти некоторые коэффициенты для f и g, например af + bg, такие, чтобы они были равными единице. Это значит, что они не входят в идеал этой группы. В любом случае, это правило взаимности, которое определятся по этим абстрактным делителям, по сути, вы можете определить его вычислительно, используя результирующие структуры. Что касается результирующих структур, у нас есть значения от P1 до Pm, которые являющиеся нулевыми точками g, и у нас есть P1, прошу прощения, у нас есть значения от Q1 до Qn, являющиеся нулевыми точками f. Таким образом, между ними существует взаимность.

Итак, в этом доказательстве у меня есть делитель, и я хочу доказать, что этот делитель является главным делителем. До этого у нас была группа классов, и я думал так: хорошо, у меня есть элемент данной группы, но я хочу доказать, что этот элемент находится в нулевой точке этой группы. Один из способов сделать это - доказать, что если есть главный делитель, то он будет подчиняться правилу взаимности.

Итак, способ построения заключается в том, что существует линия, которая является точкой запроса, запроса протокола верификатором. И есть кривая, которая является функцией. Также есть определённый набор нулевых точек, и вы пытаетесь доказать, что эти нулевые точки являются нулевыми значениями этой функции. Вы можете оценить линию верификатора относительно ваших точек, ваших точек в Q, и его линия будет g. То же самое можно сделать для f, которая является вашей кривой, и точек линии, которых будет три, поскольку по теореме Безу эллиптическая кривая и прямая пересекаются в трёх точках.

И теперь внизу у нас есть это выражение, которое является мультипликативным. Но мы можем ускорить процесс, превратив мультипликативное выражение в аддитивное. Тогда мы получим очень красивую функцию, именуемую дискретным логарифмом. Дискретный логарифм определяется так же, как это делалось выше. То есть, берётся производная от u и делится на u. Таким образом, если у нас есть D(u ˖ v), и если мы поместим её сюда, справа, то применим то же правило, что и ранее. Мы получим производную от uv, поделённую на uv. А если мы развернём это с помощью правила дифференцирования сложной функции, то получим u′v + v′u, поделённое на uv. А если разделить эти две части слева и справа, то получится u′v. Получится, простите, u′, поделённое на u, плюс v′, поделённое на v, что, как вы видите, равно D(u) + D(v). Таким образом, мы превратили мультипликативное выражение, которым является uv, в другое выражение uv. И значит, доказательство работает и по дискретному логарифму.

Вот поэтому такой подход и интересен, и мы можем делать с его помощью гораздо больше. Весь этот механизм мы можем использовать для построения доказательств утверждений о группах классов дивизоров. Например, сейчас меня очень интересуют гиперэллиптические дивизоры, гиперэллиптические кривые 3 рода. Они имеют неизвестный порядок. И тогда можно начать использовать порядок группы в качестве односторонней функции с потайным входом. И этим можно интересно воспользоваться. Это что касается групп неизвестного порядка. А ещё сейчас наблюдается очень интересная тенденция к созданию дополнительных операторов внутри механизмов доказательств с нулевым разглашением.

В целом, эта область стремительно развивается, потому что это всё ещё довольно новая, зарождающаяся парадигма. Я вижу множество людей, создающих ZK-языки, что-то вроде Turing Complete, или что-то вроде языка для написания схем в стиле смарт-контрактов, но там парадигма совсем другая. Так что инструментарий, который мы собираемся создать, ещё только зарождается. Кроме того, многие настройки схем выполняются вручную. Например, если я выполняю умножение эллиптических кривых и использую таблицу поиска, я добавляю в схему таблицу поиска фиксированного размера. И она автоматически доводит мою схему до определённого размера. Есть все эти механизмы, которые вы помещаете в схему. Но все они предопределённого размера. И сейчас не существует никаких цепочек инструментов, которые принимали бы эти утверждения, преобразовывали их в алгебраические и оптимизировали. Так что мы ещё только-только начинаем заниматься всем этим. Пока что это незатронутое и неисследованное пространство.

И наконец, почему же Monero не может стать средством сбережения? Если бы мы зафиксировали размер кольца, то не было бы никаких причин для существования Bitcoin —он буквально превратился бы в Monero. Вот почему нам нужно это исправить. Теперь у нас есть новые криптографические способы, очень мощные методы, которыми могут воспользоваться разработчики. И это открывает новое пространство для их работы. И наш доклад, который был опубликован два года назад, вы можете найти его на Rekt.news, LunaPunk, - это пятиминутное видео. Вы должны посмотреть его, хоть оно и двухлетней давности. Буквально, мы выпустили его, а потом Tornado Cash попал в чёрный список. Так что, момент, когда сторонники DarkFi, агористы и поборники криптовалют сплотятся. Нам нужно мобилизоваться как движению. Нам нужно двигаться к нашим целям. Сатоши сказал: «Мы можем выиграть крупное сражение в гонке вооружений и получить новую территорию свободы на несколько лет». Спасибо.
